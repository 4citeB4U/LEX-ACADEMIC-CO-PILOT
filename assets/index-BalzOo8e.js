(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function o(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(c){if(c.ep)return;c.ep=!0;const h=o(c);fetch(c.href,h)}})();var fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Wc={exports:{}},Aa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function dv(){if(Ap)return Aa;Ap=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(l,c,h){var p=null;if(h!==void 0&&(p=""+h),c.key!==void 0&&(p=""+c.key),"key"in c){h={};for(var y in c)y!=="key"&&(h[y]=c[y])}else h=c;return c=h.ref,{$$typeof:n,type:l,key:p,ref:c!==void 0?c:null,props:h}}return Aa.Fragment=e,Aa.jsx=o,Aa.jsxs=o,Aa}var Mp;function hv(){return Mp||(Mp=1,Wc.exports=dv()),Wc.exports}var m=hv(),ef={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function pv(){if(Np)return Xe;Np=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),w=Symbol.iterator;function A(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,te={};function he(U,fe,_e){this.props=U,this.context=fe,this.refs=te,this.updater=_e||I}he.prototype.isReactComponent={},he.prototype.setState=function(U,fe){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,fe,"setState")},he.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function be(){}be.prototype=he.prototype;function ne(U,fe,_e){this.props=U,this.context=fe,this.refs=te,this.updater=_e||I}var ie=ne.prototype=new be;ie.constructor=ne,J(ie,he.prototype),ie.isPureReactComponent=!0;var pe=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function xe(U,fe,_e,Ce,Le,et){return _e=et.ref,{$$typeof:n,type:U,key:fe,ref:_e!==void 0?_e:null,props:et}}function Pe(U,fe){return xe(U.type,fe,void 0,void 0,void 0,U.props)}function Ne(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function Je(U){var fe={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(_e){return fe[_e]})}var Ye=/\/+/g;function Ze(U,fe){return typeof U=="object"&&U!==null&&U.key!=null?Je(""+U.key):fe.toString(36)}function It(){}function rn(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(It,It):(U.status="pending",U.then(function(fe){U.status==="pending"&&(U.status="fulfilled",U.value=fe)},function(fe){U.status==="pending"&&(U.status="rejected",U.reason=fe)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function rt(U,fe,_e,Ce,Le){var et=typeof U;(et==="undefined"||et==="boolean")&&(U=null);var Ve=!1;if(U===null)Ve=!0;else switch(et){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(U.$$typeof){case n:case e:Ve=!0;break;case C:return Ve=U._init,rt(Ve(U._payload),fe,_e,Ce,Le)}}if(Ve)return Le=Le(U),Ve=Ce===""?"."+Ze(U,0):Ce,pe(Le)?(_e="",Ve!=null&&(_e=Ve.replace(Ye,"$&/")+"/"),rt(Le,fe,_e,"",function(De){return De})):Le!=null&&(Ne(Le)&&(Le=Pe(Le,_e+(Le.key==null||U&&U.key===Le.key?"":(""+Le.key).replace(Ye,"$&/")+"/")+Ve)),fe.push(Le)),1;Ve=0;var Yt=Ce===""?".":Ce+":";if(pe(U))for(var Tt=0;Tt<U.length;Tt++)Ce=U[Tt],et=Yt+Ze(Ce,Tt),Ve+=rt(Ce,fe,_e,et,Le);else if(Tt=A(U),typeof Tt=="function")for(U=Tt.call(U),Tt=0;!(Ce=U.next()).done;)Ce=Ce.value,et=Yt+Ze(Ce,Tt++),Ve+=rt(Ce,fe,_e,et,Le);else if(et==="object"){if(typeof U.then=="function")return rt(rn(U),fe,_e,Ce,Le);throw fe=String(U),Error("Objects are not valid as a React child (found: "+(fe==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":fe)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function X(U,fe,_e){if(U==null)return U;var Ce=[],Le=0;return rt(U,Ce,"","",function(et){return fe.call(_e,et,Le++)}),Ce}function ye(U){if(U._status===-1){var fe=U._result;fe=fe(),fe.then(function(_e){(U._status===0||U._status===-1)&&(U._status=1,U._result=_e)},function(_e){(U._status===0||U._status===-1)&&(U._status=2,U._result=_e)}),U._status===-1&&(U._status=0,U._result=fe)}if(U._status===1)return U._result.default;throw U._result}var Ae=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var fe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(fe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function je(){}return Xe.Children={map:X,forEach:function(U,fe,_e){X(U,function(){fe.apply(this,arguments)},_e)},count:function(U){var fe=0;return X(U,function(){fe++}),fe},toArray:function(U){return X(U,function(fe){return fe})||[]},only:function(U){if(!Ne(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Xe.Component=he,Xe.Fragment=o,Xe.Profiler=c,Xe.PureComponent=ne,Xe.StrictMode=l,Xe.Suspense=T,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return ce.H.useMemoCache(U)}},Xe.cache=function(U){return function(){return U.apply(null,arguments)}},Xe.cloneElement=function(U,fe,_e){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var Ce=J({},U.props),Le=U.key,et=void 0;if(fe!=null)for(Ve in fe.ref!==void 0&&(et=void 0),fe.key!==void 0&&(Le=""+fe.key),fe)!ae.call(fe,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&fe.ref===void 0||(Ce[Ve]=fe[Ve]);var Ve=arguments.length-2;if(Ve===1)Ce.children=_e;else if(1<Ve){for(var Yt=Array(Ve),Tt=0;Tt<Ve;Tt++)Yt[Tt]=arguments[Tt+2];Ce.children=Yt}return xe(U.type,Le,void 0,void 0,et,Ce)},Xe.createContext=function(U){return U={$$typeof:p,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:h,_context:U},U},Xe.createElement=function(U,fe,_e){var Ce,Le={},et=null;if(fe!=null)for(Ce in fe.key!==void 0&&(et=""+fe.key),fe)ae.call(fe,Ce)&&Ce!=="key"&&Ce!=="__self"&&Ce!=="__source"&&(Le[Ce]=fe[Ce]);var Ve=arguments.length-2;if(Ve===1)Le.children=_e;else if(1<Ve){for(var Yt=Array(Ve),Tt=0;Tt<Ve;Tt++)Yt[Tt]=arguments[Tt+2];Le.children=Yt}if(U&&U.defaultProps)for(Ce in Ve=U.defaultProps,Ve)Le[Ce]===void 0&&(Le[Ce]=Ve[Ce]);return xe(U,et,void 0,void 0,null,Le)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(U){return{$$typeof:y,render:U}},Xe.isValidElement=Ne,Xe.lazy=function(U){return{$$typeof:C,_payload:{_status:-1,_result:U},_init:ye}},Xe.memo=function(U,fe){return{$$typeof:v,type:U,compare:fe===void 0?null:fe}},Xe.startTransition=function(U){var fe=ce.T,_e={};ce.T=_e;try{var Ce=U(),Le=ce.S;Le!==null&&Le(_e,Ce),typeof Ce=="object"&&Ce!==null&&typeof Ce.then=="function"&&Ce.then(je,Ae)}catch(et){Ae(et)}finally{ce.T=fe}},Xe.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Xe.use=function(U){return ce.H.use(U)},Xe.useActionState=function(U,fe,_e){return ce.H.useActionState(U,fe,_e)},Xe.useCallback=function(U,fe){return ce.H.useCallback(U,fe)},Xe.useContext=function(U){return ce.H.useContext(U)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(U,fe){return ce.H.useDeferredValue(U,fe)},Xe.useEffect=function(U,fe,_e){var Ce=ce.H;if(typeof _e=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ce.useEffect(U,fe)},Xe.useId=function(){return ce.H.useId()},Xe.useImperativeHandle=function(U,fe,_e){return ce.H.useImperativeHandle(U,fe,_e)},Xe.useInsertionEffect=function(U,fe){return ce.H.useInsertionEffect(U,fe)},Xe.useLayoutEffect=function(U,fe){return ce.H.useLayoutEffect(U,fe)},Xe.useMemo=function(U,fe){return ce.H.useMemo(U,fe)},Xe.useOptimistic=function(U,fe){return ce.H.useOptimistic(U,fe)},Xe.useReducer=function(U,fe,_e){return ce.H.useReducer(U,fe,_e)},Xe.useRef=function(U){return ce.H.useRef(U)},Xe.useState=function(U){return ce.H.useState(U)},Xe.useSyncExternalStore=function(U,fe,_e){return ce.H.useSyncExternalStore(U,fe,_e)},Xe.useTransition=function(){return ce.H.useTransition()},Xe.version="19.1.1",Xe}var Rp;function Ef(){return Rp||(Rp=1,ef.exports=pv()),ef.exports}var oe=Ef();const cr=wf(oe);var tf={exports:{}},Ma={},nf={exports:{}},of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function mv(){return Dp||(Dp=1,(function(n){function e(X,ye){var Ae=X.length;X.push(ye);e:for(;0<Ae;){var je=Ae-1>>>1,U=X[je];if(0<c(U,ye))X[je]=ye,X[Ae]=U,Ae=je;else break e}}function o(X){return X.length===0?null:X[0]}function l(X){if(X.length===0)return null;var ye=X[0],Ae=X.pop();if(Ae!==ye){X[0]=Ae;e:for(var je=0,U=X.length,fe=U>>>1;je<fe;){var _e=2*(je+1)-1,Ce=X[_e],Le=_e+1,et=X[Le];if(0>c(Ce,Ae))Le<U&&0>c(et,Ce)?(X[je]=et,X[Le]=Ae,je=Le):(X[je]=Ce,X[_e]=Ae,je=_e);else if(Le<U&&0>c(et,Ae))X[je]=et,X[Le]=Ae,je=Le;else break e}}return ye}function c(X,ye){var Ae=X.sortIndex-ye.sortIndex;return Ae!==0?Ae:X.id-ye.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;n.unstable_now=function(){return h.now()}}else{var p=Date,y=p.now();n.unstable_now=function(){return p.now()-y}}var T=[],v=[],C=1,w=null,A=3,I=!1,J=!1,te=!1,he=!1,be=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function pe(X){for(var ye=o(v);ye!==null;){if(ye.callback===null)l(v);else if(ye.startTime<=X)l(v),ye.sortIndex=ye.expirationTime,e(T,ye);else break;ye=o(v)}}function ce(X){if(te=!1,pe(X),!J)if(o(T)!==null)J=!0,ae||(ae=!0,Ze());else{var ye=o(v);ye!==null&&rt(ce,ye.startTime-X)}}var ae=!1,xe=-1,Pe=5,Ne=-1;function Je(){return he?!0:!(n.unstable_now()-Ne<Pe)}function Ye(){if(he=!1,ae){var X=n.unstable_now();Ne=X;var ye=!0;try{e:{J=!1,te&&(te=!1,ne(xe),xe=-1),I=!0;var Ae=A;try{t:{for(pe(X),w=o(T);w!==null&&!(w.expirationTime>X&&Je());){var je=w.callback;if(typeof je=="function"){w.callback=null,A=w.priorityLevel;var U=je(w.expirationTime<=X);if(X=n.unstable_now(),typeof U=="function"){w.callback=U,pe(X),ye=!0;break t}w===o(T)&&l(T),pe(X)}else l(T);w=o(T)}if(w!==null)ye=!0;else{var fe=o(v);fe!==null&&rt(ce,fe.startTime-X),ye=!1}}break e}finally{w=null,A=Ae,I=!1}ye=void 0}}finally{ye?Ze():ae=!1}}}var Ze;if(typeof ie=="function")Ze=function(){ie(Ye)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,rn=It.port2;It.port1.onmessage=Ye,Ze=function(){rn.postMessage(null)}}else Ze=function(){be(Ye,0)};function rt(X,ye){xe=be(function(){X(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Pe=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(X){switch(A){case 1:case 2:case 3:var ye=3;break;default:ye=A}var Ae=A;A=ye;try{return X()}finally{A=Ae}},n.unstable_requestPaint=function(){he=!0},n.unstable_runWithPriority=function(X,ye){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Ae=A;A=X;try{return ye()}finally{A=Ae}},n.unstable_scheduleCallback=function(X,ye,Ae){var je=n.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?je+Ae:je):Ae=je,X){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Ae+U,X={id:C++,callback:ye,priorityLevel:X,startTime:Ae,expirationTime:U,sortIndex:-1},Ae>je?(X.sortIndex=Ae,e(v,X),o(T)===null&&X===o(v)&&(te?(ne(xe),xe=-1):te=!0,rt(ce,Ae-je))):(X.sortIndex=U,e(T,X),J||I||(J=!0,ae||(ae=!0,Ze()))),X},n.unstable_shouldYield=Je,n.unstable_wrapCallback=function(X){var ye=A;return function(){var Ae=A;A=ye;try{return X.apply(this,arguments)}finally{A=Ae}}}})(of)),of}var kp;function gv(){return kp||(kp=1,nf.exports=mv()),nf.exports}var lf={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function yv(){if(Ip)return on;Ip=1;var n=Ef();function e(T){var v="https://react.dev/errors/"+T;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)v+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+T+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(T,v,C){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:T,containerInfo:v,implementation:C}}var p=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(T,v){if(T==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,on.createPortal=function(T,v){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(T,v,null,C)},on.flushSync=function(T){var v=p.T,C=l.p;try{if(p.T=null,l.p=2,T)return T()}finally{p.T=v,l.p=C,l.d.f()}},on.preconnect=function(T,v){typeof T=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,l.d.C(T,v))},on.prefetchDNS=function(T){typeof T=="string"&&l.d.D(T)},on.preinit=function(T,v){if(typeof T=="string"&&v&&typeof v.as=="string"){var C=v.as,w=y(C,v.crossOrigin),A=typeof v.integrity=="string"?v.integrity:void 0,I=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;C==="style"?l.d.S(T,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:I}):C==="script"&&l.d.X(T,{crossOrigin:w,integrity:A,fetchPriority:I,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},on.preinitModule=function(T,v){if(typeof T=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var C=y(v.as,v.crossOrigin);l.d.M(T,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&l.d.M(T)},on.preload=function(T,v){if(typeof T=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var C=v.as,w=y(C,v.crossOrigin);l.d.L(T,C,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},on.preloadModule=function(T,v){if(typeof T=="string")if(v){var C=y(v.as,v.crossOrigin);l.d.m(T,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else l.d.m(T)},on.requestFormReset=function(T){l.d.r(T)},on.unstable_batchedUpdates=function(T,v){return T(v)},on.useFormState=function(T,v,C){return p.H.useFormState(T,v,C)},on.useFormStatus=function(){return p.H.useHostTransitionStatus()},on.version="19.1.1",on}var Up;function vv(){if(Up)return lf.exports;Up=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),lf.exports=yv(),lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function xv(){if(Lp)return Ma;Lp=1;var n=gv(),e=Ef(),o=vv();function l(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function p(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(h(t)!==t)throw Error(l(188))}function T(t){var i=t.alternate;if(!i){if(i=h(t),i===null)throw Error(l(188));return i!==t?null:t}for(var r=t,u=i;;){var d=r.return;if(d===null)break;var x=d.alternate;if(x===null){if(u=d.return,u!==null){r=u;continue}break}if(d.child===x.child){for(x=d.child;x;){if(x===r)return y(d),t;if(x===u)return y(d),i;x=x.sibling}throw Error(l(188))}if(r.return!==u.return)r=d,u=x;else{for(var E=!1,N=d.child;N;){if(N===r){E=!0,r=d,u=x;break}if(N===u){E=!0,u=d,r=x;break}N=N.sibling}if(!E){for(N=x.child;N;){if(N===r){E=!0,r=x,u=d;break}if(N===u){E=!0,u=x,r=d;break}N=N.sibling}if(!E)throw Error(l(189))}}if(r.alternate!==u)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var C=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),be=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),Ne=Symbol.for("react.activity"),Je=Symbol.for("react.memo_cache_sentinel"),Ye=Symbol.iterator;function Ze(t){return t===null||typeof t!="object"?null:(t=Ye&&t[Ye]||t["@@iterator"],typeof t=="function"?t:null)}var It=Symbol.for("react.client.reference");function rn(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===It?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case he:return"Profiler";case te:return"StrictMode";case ce:return"Suspense";case ae:return"SuspenseList";case Ne:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case I:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case ne:return(t._context.displayName||"Context")+".Consumer";case pe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xe:return i=t.displayName||null,i!==null?i:rn(t.type)||"Memo";case Pe:i=t._payload,t=t._init;try{return rn(t(i))}catch{}}return null}var rt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},je=[],U=-1;function fe(t){return{current:t}}function _e(t){0>U||(t.current=je[U],je[U]=null,U--)}function Ce(t,i){U++,je[U]=t.current,t.current=i}var Le=fe(null),et=fe(null),Ve=fe(null),Yt=fe(null);function Tt(t,i){switch(Ce(Ve,i),Ce(et,t),Ce(Le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?tp(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=tp(i),t=np(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}_e(Le),Ce(Le,t)}function De(){_e(Le),_e(et),_e(Ve)}function ul(t){t.memoizedState!==null&&Ce(Yt,t);var i=Le.current,r=np(i,t.type);i!==r&&(Ce(et,t),Ce(Le,r))}function pi(t){et.current===t&&(_e(Le),_e(et)),Yt.current===t&&(_e(Yt),Ca._currentValue=Ae)}var st=Object.prototype.hasOwnProperty,mi=n.unstable_scheduleCallback,Tr=n.unstable_cancelCallback,gi=n.unstable_shouldYield,fu=n.unstable_requestPaint,kn=n.unstable_now,du=n.unstable_getCurrentPriorityLevel,ka=n.unstable_ImmediatePriority,cl=n.unstable_UserBlockingPriority,an=n.unstable_NormalPriority,Ia=n.unstable_LowPriority,ji=n.unstable_IdlePriority,Ua=n.log,Lo=n.unstable_setDisableYieldValue,Yn=null,Kt=null;function gn(t){if(typeof Ua=="function"&&Lo(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Yn,t)}catch{}}var Jt=Math.clz32?Math.clz32:dl,fl=Math.log,yi=Math.LN2;function dl(t){return t>>>=0,t===0?32:31-(fl(t)/yi|0)|0}var Qi=256,Sn=4194304;function Me(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Wn(t,i,r){var u=t.pendingLanes;if(u===0)return 0;var d=0,x=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var N=u&134217727;return N!==0?(u=N&~x,u!==0?d=Me(u):(E&=N,E!==0?d=Me(E):r||(r=N&~t,r!==0&&(d=Me(r))))):(N=u&~x,N!==0?d=Me(N):E!==0?d=Me(E):r||(r=u&~t,r!==0&&(d=Me(r)))),d===0?0:i!==0&&i!==d&&(i&x)===0&&(x=d&-d,r=i&-i,x>=r||x===32&&(r&4194048)!==0)?i:d}function Cn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function hl(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function we(){var t=Qi;return Qi<<=1,(Qi&4194048)===0&&(Qi=256),t}function pl(){var t=Sn;return Sn<<=1,(Sn&62914560)===0&&(Sn=4194304),t}function ml(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function vi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function La(t,i,r,u,d,x){var E=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var N=t.entanglements,k=t.expirationTimes,j=t.hiddenUpdates;for(r=E&~r;0<r;){var re=31-Jt(r),ue=1<<re;N[re]=0,k[re]=-1;var $=j[re];if($!==null)for(j[re]=null,re=0;re<$.length;re++){var Z=$[re];Z!==null&&(Z.lane&=-536870913)}r&=~ue}u!==0&&gl(t,u,0),x!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=x&~(E&~i))}function gl(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-Jt(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|r&4194090}function Pa(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var u=31-Jt(r),d=1<<u;d&i|t[u]&i&&(t[u]|=i),r&=~d}}function Sr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ei(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function xi(){var t=ye.p;return t!==0?t:(t=window.event,t===void 0?32:Sp(t.type))}function Cr(t,i){var r=ye.p;try{return ye.p=t,i()}finally{ye.p=r}}var bn=Math.random().toString(36).slice(2),Qe="__reactFiber$"+bn,at="__reactProps$"+bn,Xi="__reactContainer$"+bn,$i="__reactEvents$"+bn,yl="__reactListeners$"+bn,vl="__reactHandles$"+bn,Va="__reactResources$"+bn,yn="__reactMarker$"+bn;function ti(t){delete t[Qe],delete t[at],delete t[$i],delete t[yl],delete t[vl]}function sn(t){var i=t[Qe];if(i)return i;for(var r=t.parentNode;r;){if(i=r[Xi]||r[Qe]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=rp(t);t!==null;){if(r=t[Qe])return r;t=rp(t)}return i}t=r,r=t.parentNode}return null}function Kn(t){if(t=t[Qe]||t[Xi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Po(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(l(33))}function un(t){var i=t[Va];return i||(i=t[Va]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Nt(t){t[yn]=!0}var ni=new Set,br={};function Jn(t,i){pt(t,i),pt(t+"Capture",i)}function pt(t,i){for(br[t]=i,t=0;t<i.length;t++)ni.add(i[t])}var Ti=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),In={},wr={};function Zi(t){return st.call(wr,t)?!0:st.call(In,t)?!1:Ti.test(t)?wr[t]=!0:(In[t]=!0,!1)}function Si(t,i,r){if(Zi(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function Wi(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function wn(t,i,r,u){if(u===null)t.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+u)}}var jn,Er;function Qn(t){if(jn===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);jn=i&&i[1]||"",Er=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jn+t+Er}var xl=!1;function tt(t,i){if(!t||xl)return"";xl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(Z){var $=Z}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(Z){$=Z}t.call(ue.prototype)}}else{try{throw Error()}catch(Z){$=Z}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(Z){if(Z&&$&&typeof Z.stack=="string")return[Z.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),E=x[0],N=x[1];if(E&&N){var k=E.split(`
`),j=N.split(`
`);for(d=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;d<j.length&&!j[d].includes("DetermineComponentFrameRoot");)d++;if(u===k.length||d===j.length)for(u=k.length-1,d=j.length-1;1<=u&&0<=d&&k[u]!==j[d];)d--;for(;1<=u&&0<=d;u--,d--)if(k[u]!==j[d]){if(u!==1||d!==1)do if(u--,d--,0>d||k[u]!==j[d]){var re=`
`+k[u].replace(" at new "," at ");return t.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",t.displayName)),re}while(1<=u&&0<=d);break}}}finally{xl=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Qn(r):""}function qa(t){switch(t.tag){case 26:case 27:case 5:return Qn(t.type);case 16:return Qn("Lazy");case 13:return Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return tt(t.type,!1);case 11:return tt(t.type.render,!1);case 1:return tt(t.type,!0);case 31:return Qn("Activity");default:return""}}function _r(t){try{var i="";do i+=qa(t),t=t.return;while(t);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mt(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vo(t){var i=mt(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var d=r.get,x=r.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(E){u=""+E,x.call(this,E)}}),Object.defineProperty(t,i,{enumerable:r.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ii(t){t._valueTracker||(t._valueTracker=Vo(t))}function Ci(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),u="";return t&&(u=mt(t)?t.checked?"true":"false":t.value),t=u,t!==r?(i.setValue(t),!0):!1}function eo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ar=/[\n"\\]/g;function jt(t){return t.replace(Ar,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Tl(t,i,r,u,d,x,E,N){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+cn(i)):t.value!==""+cn(i)&&(t.value=""+cn(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Sl(t,E,cn(i)):r!=null?Sl(t,E,cn(r)):u!=null&&t.removeAttribute("value"),d==null&&x!=null&&(t.defaultChecked=!!x),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+cn(N):t.removeAttribute("name")}function qo(t,i,r,u,d,x,E,N){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.type=x),i!=null||r!=null){if(!(x!=="submit"&&x!=="reset"||i!=null))return;r=r!=null?""+cn(r):"",i=i!=null?""+cn(i):r,N||i===t.value||(t.value=i),t.defaultValue=i}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=N?t.checked:!!u,t.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Sl(t,i,r){i==="number"&&eo(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Wt(t,i,r,u){if(t=t.options,i){i={};for(var d=0;d<r.length;d++)i["$"+r[d]]=!0;for(r=0;r<t.length;r++)d=i.hasOwnProperty("$"+t[r].value),t[r].selected!==d&&(t[r].selected=d),d&&u&&(t[r].defaultSelected=!0)}else{for(r=""+cn(r),i=null,d=0;d<t.length;d++){if(t[d].value===r){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function to(t,i,r){if(i!=null&&(i=""+cn(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+cn(r):""}function Mr(t,i,r,u){if(i==null){if(u!=null){if(r!=null)throw Error(l(92));if(rt(u)){if(1<u.length)throw Error(l(93));u=u[0]}r=u}r==null&&(r=""),i=r}r=cn(i),t.defaultValue=r,u=t.textContent,u===r&&u!==""&&u!==null&&(t.value=u)}function no(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var ot=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cl(t,i,r){var u=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,r):typeof r!="number"||r===0||ot.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function Ga(t,i,r){if(i!=null&&typeof i!="object")throw Error(l(62));if(t=t.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var d in i)u=i[d],i.hasOwnProperty(d)&&r[d]!==u&&Cl(t,d,u)}else for(var x in i)i.hasOwnProperty(x)&&Cl(t,x,i[x])}function Nr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),io=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bi(t){return io.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Un=null;function bl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wi=null,Ct=null;function En(t){var i=Kn(t);if(i&&(t=i.stateNode)){var r=t[at]||null;e:switch(t=i.stateNode,i.type){case"input":if(Tl(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+jt(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var u=r[i];if(u!==t&&u.form===t.form){var d=u[at]||null;if(!d)throw Error(l(90));Tl(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<r.length;i++)u=r[i],u.form===t.form&&Ci(u)}break e;case"textarea":to(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&Wt(t,!!r.multiple,i,!1)}}}var Ei=!1;function oo(t,i,r){if(Ei)return t(i,r);Ei=!0;try{var u=t(i);return u}finally{if(Ei=!1,(wi!==null||Ct!==null)&&(As(),wi&&(i=wi,t=Ct,Ct=wi=null,En(i),t)))for(i=0;i<t.length;i++)En(t[i])}}function _i(t,i){var r=t.stateNode;if(r===null)return null;var u=r[at]||null;if(u===null)return null;r=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(l(231,i,typeof r));return r}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(Bt)try{var en={};Object.defineProperty(en,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",en,en),window.removeEventListener("test",en,en)}catch{Rr=!1}var Ln=null,wl=null,lo=null;function ro(){if(lo)return lo;var t,i=wl,r=i.length,u,d="value"in Ln?Ln.value:Ln.textContent,x=d.length;for(t=0;t<r&&i[t]===d[t];t++);var E=r-t;for(u=1;u<=E&&i[r-u]===d[x-u];u++);return lo=d.slice(t,1<u?1-u:void 0)}function ao(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Go(){return!0}function Ba(){return!1}function Ut(t){function i(r,u,d,x,E){this._reactName=r,this._targetInst=d,this.type=u,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(r=t[N],this[N]=r?r(x):x[N]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Go:Ba,this.isPropagationStopped=Ba,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Go)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Go)},persist:function(){},isPersistent:Go}),i}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=Ut(Ai),oi=C({},Ai,{view:0,detail:0}),_l=Ut(oi),Bo,Dr,Oo,Al=C({},oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oo&&(Oo&&t.type==="mousemove"?(Bo=t.screenX-Oo.screenX,Dr=t.screenY-Oo.screenY):Dr=Bo=0,Oo=t),Bo)},movementY:function(t){return"movementY"in t?t.movementY:Dr}}),Ml=Ut(Al),kr=C({},Al,{dataTransfer:0}),Oa=Ut(kr),Nl=C({},oi,{relatedTarget:0}),so=Ut(Nl),Rl=C({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Ha=Ut(Rl),hu=C({},Ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dl=Ut(hu),Ir=C({},Ai,{data:0}),kl=Ut(Ir),Ur={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ho(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Qt[t])?!!i[t]:!1}function Mi(){return Ho}var za=C({},oi,{key:function(t){if(t.key){var i=Ur[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ao(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lr[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mi,charCode:function(t){return t.type==="keypress"?ao(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ao(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Il=Ut(za),Fa=C({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pr=Ut(Fa),Ul=C({},oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mi}),Vr=Ut(Ul),Ni=C({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),qr=Ut(Ni),Gr=C({},Al,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ll=Ut(Gr),Br=C({},Ai,{newState:0,oldState:0}),Ya=Ut(Br),pu=[9,13,27,32],zo=Bt&&"CompositionEvent"in window,li=null;Bt&&"documentMode"in document&&(li=document.documentMode);var mu=Bt&&"TextEvent"in window&&!li,Pl=Bt&&(!zo||li&&8<li&&11>=li),Vl=" ",Ka=!1;function Or(t,i){switch(t){case"keyup":return pu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ri=!1;function ja(t,i){switch(t){case"compositionend":return Ja(i);case"keypress":return i.which!==32?null:(Ka=!0,Vl);case"textInput":return t=i.data,t===Vl&&Ka?null:t;default:return null}}function gu(t,i){if(Ri)return t==="compositionend"||!zo&&Or(t,i)?(t=ro(),lo=wl=Ln=null,Ri=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pl&&i.locale!=="ko"?null:i.data;default:return null}}var Qa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ql(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Qa[t.type]:i==="textarea"}function Hr(t,i,r,u){wi?Ct?Ct.push(u):Ct=[u]:wi=u,i=Is(i,"onChange"),0<i.length&&(r=new El("onChange","change",null,r,u),t.push({event:r,listeners:i}))}var uo=null,Fo=null;function yu(t){Xh(t,0)}function Gl(t){var i=Po(t);if(Ci(i))return t}function Yo(t,i){if(t==="change")return i}var Pn=!1;if(Bt){var bt;if(Bt){var co="oninput"in document;if(!co){var dn=document.createElement("div");dn.setAttribute("oninput","return;"),co=typeof dn.oninput=="function"}bt=co}else bt=!1;Pn=bt&&(!document.documentMode||9<document.documentMode)}function Xa(){uo&&(uo.detachEvent("onpropertychange",Bl),Fo=uo=null)}function Bl(t){if(t.propertyName==="value"&&Gl(Fo)){var i=[];Hr(i,Fo,t,bl(t)),oo(yu,i)}}function $a(t,i,r){t==="focusin"?(Xa(),uo=i,Fo=r,uo.attachEvent("onpropertychange",Bl)):t==="focusout"&&Xa()}function Di(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gl(Fo)}function zr(t,i){if(t==="click")return Gl(i)}function fo(t,i){if(t==="input"||t==="change")return Gl(i)}function ri(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var tn=typeof Object.is=="function"?Object.is:ri;function f(t,i){if(tn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),u=Object.keys(i);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var d=r[u];if(!st.call(i,d)||!tn(t[d],i[d]))return!1}return!0}function g(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function S(t,i){var r=g(t);t=0;for(var u;r;){if(r.nodeType===3){if(u=t+r.textContent.length,t<=i&&u>=i)return{node:r,offset:i-t};t=u}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=g(r)}}function b(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?b(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function _(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=eo(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=eo(t.document)}return i}function M(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var R=Bt&&"documentMode"in document&&11>=document.documentMode,D=null,G=null,P=null,z=!1;function L(t,i,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;z||D==null||D!==eo(u)||(u=D,"selectionStart"in u&&M(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),P&&f(P,u)||(P=u,u=Is(G,"onSelect"),0<u.length&&(i=new El("onSelect","select",null,i,r),t.push({event:i,listeners:u}),i.target=D)))}function H(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var V={animationend:H("Animation","AnimationEnd"),animationiteration:H("Animation","AnimationIteration"),animationstart:H("Animation","AnimationStart"),transitionrun:H("Transition","TransitionRun"),transitionstart:H("Transition","TransitionStart"),transitioncancel:H("Transition","TransitionCancel"),transitionend:H("Transition","TransitionEnd")},O={},Y={};Bt&&(Y=document.createElement("div").style,"AnimationEvent"in window||(delete V.animationend.animation,delete V.animationiteration.animation,delete V.animationstart.animation),"TransitionEvent"in window||delete V.transitionend.transition);function B(t){if(O[t])return O[t];if(!V[t])return t;var i=V[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in Y)return O[t]=i[r];return t}var Q=B("animationend"),W=B("animationiteration"),ee=B("animationstart"),le=B("transitionrun"),ge=B("transitionstart"),Se=B("transitioncancel"),me=B("transitionend"),ve=new Map,Te="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Te.push("scrollEnd");function de(t,i){ve.set(t,i),Jn(i,[t])}var He=new WeakMap;function Ue(t,i){if(typeof t=="object"&&t!==null){var r=He.get(t);return r!==void 0?r:(i={value:t,source:i,stack:_r(i)},He.set(t,i),i)}return{value:t,source:i,stack:_r(i)}}var qe=[],ze=0,hn=0;function Ke(){for(var t=ze,i=hn=ze=0;i<t;){var r=qe[i];qe[i++]=null;var u=qe[i];qe[i++]=null;var d=qe[i];qe[i++]=null;var x=qe[i];if(qe[i++]=null,u!==null&&d!==null){var E=u.pending;E===null?d.next=d:(d.next=E.next,E.next=d),u.pending=d}x!==0&&Ot(r,d,x)}}function Rt(t,i,r,u){qe[ze++]=t,qe[ze++]=i,qe[ze++]=r,qe[ze++]=u,hn|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Lt(t,i,r,u){return Rt(t,i,r,u),Vn(t)}function Xn(t,i){return Rt(t,null,null,i),Vn(t)}function Ot(t,i,r){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r);for(var d=!1,x=t.return;x!==null;)x.childLanes|=r,u=x.alternate,u!==null&&(u.childLanes|=r),x.tag===22&&(t=x.stateNode,t===null||t._visibility&1||(d=!0)),t=x,x=x.return;return t.tag===3?(x=t.stateNode,d&&i!==null&&(d=31-Jt(r),t=x.hiddenUpdates,u=t[d],u===null?t[d]=[i]:u.push(i),i.lane=r|536870912),x):null}function Vn(t){if(50<pa)throw pa=0,bc=null,Error(l(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ai={};function Xg(t,i,r,u){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,i,r,u){return new Xg(t,i,r,u)}function vu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,i){var r=t.alternate;return r===null?(r=_n(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Lf(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Za(t,i,r,u,d,x){var E=0;if(u=t,typeof t=="function")vu(t)&&(E=1);else if(typeof t=="string")E=Zy(t,r,Le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Ne:return t=_n(31,r,i,d),t.elementType=Ne,t.lanes=x,t;case J:return Ko(r.children,d,x,i);case te:E=8,d|=24;break;case he:return t=_n(12,r,i,d|2),t.elementType=he,t.lanes=x,t;case ce:return t=_n(13,r,i,d),t.elementType=ce,t.lanes=x,t;case ae:return t=_n(19,r,i,d),t.elementType=ae,t.lanes=x,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case be:case ie:E=10;break e;case ne:E=9;break e;case pe:E=11;break e;case xe:E=14;break e;case Pe:E=16,u=null;break e}E=29,r=Error(l(130,t===null?"null":typeof t,"")),u=null}return i=_n(E,r,i,d),i.elementType=t,i.type=u,i.lanes=x,i}function Ko(t,i,r,u){return t=_n(7,t,u,i),t.lanes=r,t}function xu(t,i,r){return t=_n(6,t,null,i),t.lanes=r,t}function Tu(t,i,r){return i=_n(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ol=[],Hl=0,Wa=null,es=0,qn=[],Gn=0,Jo=null,Ii=1,Ui="";function jo(t,i){Ol[Hl++]=es,Ol[Hl++]=Wa,Wa=t,es=i}function Pf(t,i,r){qn[Gn++]=Ii,qn[Gn++]=Ui,qn[Gn++]=Jo,Jo=t;var u=Ii;t=Ui;var d=32-Jt(u)-1;u&=~(1<<d),r+=1;var x=32-Jt(i)+d;if(30<x){var E=d-d%5;x=(u&(1<<E)-1).toString(32),u>>=E,d-=E,Ii=1<<32-Jt(i)+d|r<<d|u,Ui=x+t}else Ii=1<<x|r<<d|u,Ui=t}function Su(t){t.return!==null&&(jo(t,1),Pf(t,1,0))}function Cu(t){for(;t===Wa;)Wa=Ol[--Hl],Ol[Hl]=null,es=Ol[--Hl],Ol[Hl]=null;for(;t===Jo;)Jo=qn[--Gn],qn[Gn]=null,Ui=qn[--Gn],qn[Gn]=null,Ii=qn[--Gn],qn[Gn]=null}var pn=null,At=null,ct=!1,Qo=null,si=!1,bu=Error(l(519));function Xo(t){var i=Error(l(418,""));throw Kr(Ue(i,t)),bu}function Vf(t){var i=t.stateNode,r=t.type,u=t.memoizedProps;switch(i[Qe]=t,i[at]=u,r){case"dialog":it("cancel",i),it("close",i);break;case"iframe":case"object":case"embed":it("load",i);break;case"video":case"audio":for(r=0;r<ga.length;r++)it(ga[r],i);break;case"source":it("error",i);break;case"img":case"image":case"link":it("error",i),it("load",i);break;case"details":it("toggle",i);break;case"input":it("invalid",i),qo(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ii(i);break;case"select":it("invalid",i);break;case"textarea":it("invalid",i),Mr(i,u.value,u.defaultValue,u.children),ii(i)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||u.suppressHydrationWarning===!0||ep(i.textContent,r)?(u.popover!=null&&(it("beforetoggle",i),it("toggle",i)),u.onScroll!=null&&it("scroll",i),u.onScrollEnd!=null&&it("scrollend",i),u.onClick!=null&&(i.onclick=Us),i=!0):i=!1,i||Xo(t)}function qf(t){for(pn=t.return;pn;)switch(pn.tag){case 5:case 13:si=!1;return;case 27:case 3:si=!0;return;default:pn=pn.return}}function Fr(t){if(t!==pn)return!1;if(!ct)return qf(t),ct=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Gc(t.type,t.memoizedProps)),r=!r),r&&At&&Xo(t),qf(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(i===0){At=Zn(t.nextSibling);break e}i--}else r!=="$"&&r!=="$!"&&r!=="$?"||i++;t=t.nextSibling}At=null}}else i===27?(i=At,Mo(t.type)?(t=zc,zc=null,At=t):At=i):At=pn?Zn(t.stateNode.nextSibling):null;return!0}function Yr(){At=pn=null,ct=!1}function Gf(){var t=Qo;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),Qo=null),t}function Kr(t){Qo===null?Qo=[t]:Qo.push(t)}var wu=fe(null),$o=null,Li=null;function ho(t,i,r){Ce(wu,i._currentValue),i._currentValue=r}function Pi(t){t._currentValue=wu.current,_e(wu)}function Eu(t,i,r){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===r)break;t=t.return}}function _u(t,i,r,u){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var x=d.dependencies;if(x!==null){var E=d.child;x=x.firstContext;e:for(;x!==null;){var N=x;x=d;for(var k=0;k<i.length;k++)if(N.context===i[k]){x.lanes|=r,N=x.alternate,N!==null&&(N.lanes|=r),Eu(x.return,r,t),u||(E=null);break e}x=N.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(l(341));E.lanes|=r,x=E.alternate,x!==null&&(x.lanes|=r),Eu(E,r,t),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===t){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function Jr(t,i,r,u){t=null;for(var d=i,x=!1;d!==null;){if(!x){if((d.flags&524288)!==0)x=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(l(387));if(E=E.memoizedProps,E!==null){var N=d.type;tn(d.pendingProps.value,E.value)||(t!==null?t.push(N):t=[N])}}else if(d===Yt.current){if(E=d.alternate,E===null)throw Error(l(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ca):t=[Ca])}d=d.return}t!==null&&_u(i,t,r,u),i.flags|=262144}function ts(t){for(t=t.firstContext;t!==null;){if(!tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zo(t){$o=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return Bf($o,t)}function ns(t,i){return $o===null&&Zo(t),Bf(t,i)}function Bf(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Li===null){if(t===null)throw Error(l(308));Li=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Li=Li.next=i;return r}var $g=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},Zg=n.unstable_scheduleCallback,Wg=n.unstable_NormalPriority,qt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Au(){return{controller:new $g,data:new Map,refCount:0}}function jr(t){t.refCount--,t.refCount===0&&Zg(Wg,function(){t.controller.abort()})}var Qr=null,Mu=0,zl=0,Fl=null;function ey(t,i){if(Qr===null){var r=Qr=[];Mu=0,zl=Rc(),Fl={status:"pending",value:void 0,then:function(u){r.push(u)}}}return Mu++,i.then(Of,Of),i}function Of(){if(--Mu===0&&Qr!==null){Fl!==null&&(Fl.status="fulfilled");var t=Qr;Qr=null,zl=0,Fl=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function ty(t,i){var r=[],u={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var d=0;d<r.length;d++)(0,r[d])(i)},function(d){for(u.status="rejected",u.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),u}var Hf=X.S;X.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ey(t,i),Hf!==null&&Hf(t,i)};var Wo=fe(null);function Nu(){var t=Wo.current;return t!==null?t:St.pooledCache}function is(t,i){i===null?Ce(Wo,Wo.current):Ce(Wo,i.pool)}function zf(){var t=Nu();return t===null?null:{parent:qt._currentValue,pool:t}}var Xr=Error(l(460)),Ff=Error(l(474)),os=Error(l(542)),Ru={then:function(){}};function Yf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ls(){}function Kf(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(ls,ls),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,jf(t),t;default:if(typeof i.status=="string")i.then(ls,ls);else{if(t=St,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=u}},function(u){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,jf(t),t}throw $r=i,Xr}}var $r=null;function Jf(){if($r===null)throw Error(l(459));var t=$r;return $r=null,t}function jf(t){if(t===Xr||t===os)throw Error(l(483))}var po=!1;function Du(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ku(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function mo(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function go(t,i,r){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(dt&2)!==0){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,i=Vn(t),Ot(t,null,r),i}return Rt(t,u,i,r),Vn(t)}function Zr(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,r|=u,i.lanes=r,Pa(t,r)}}function Iu(t,i){var r=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var d=null,x=null;if(r=r.firstBaseUpdate,r!==null){do{var E={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};x===null?d=x=E:x=x.next=E,r=r.next}while(r!==null);x===null?d=x=i:x=x.next=i}else d=x=i;r={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var Uu=!1;function Wr(){if(Uu){var t=Fl;if(t!==null)throw t}}function ea(t,i,r,u){Uu=!1;var d=t.updateQueue;po=!1;var x=d.firstBaseUpdate,E=d.lastBaseUpdate,N=d.shared.pending;if(N!==null){d.shared.pending=null;var k=N,j=k.next;k.next=null,E===null?x=j:E.next=j,E=k;var re=t.alternate;re!==null&&(re=re.updateQueue,N=re.lastBaseUpdate,N!==E&&(N===null?re.firstBaseUpdate=j:N.next=j,re.lastBaseUpdate=k))}if(x!==null){var ue=d.baseState;E=0,re=j=k=null,N=x;do{var $=N.lane&-536870913,Z=$!==N.lane;if(Z?(lt&$)===$:(u&$)===$){$!==0&&$===zl&&(Uu=!0),re!==null&&(re=re.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Oe=t,Ge=N;$=i;var vt=r;switch(Ge.tag){case 1:if(Oe=Ge.payload,typeof Oe=="function"){ue=Oe.call(vt,ue,$);break e}ue=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Ge.payload,$=typeof Oe=="function"?Oe.call(vt,ue,$):Oe,$==null)break e;ue=C({},ue,$);break e;case 2:po=!0}}$=N.callback,$!==null&&(t.flags|=64,Z&&(t.flags|=8192),Z=d.callbacks,Z===null?d.callbacks=[$]:Z.push($))}else Z={lane:$,tag:N.tag,payload:N.payload,callback:N.callback,next:null},re===null?(j=re=Z,k=ue):re=re.next=Z,E|=$;if(N=N.next,N===null){if(N=d.shared.pending,N===null)break;Z=N,N=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);re===null&&(k=ue),d.baseState=k,d.firstBaseUpdate=j,d.lastBaseUpdate=re,x===null&&(d.shared.lanes=0),wo|=E,t.lanes=E,t.memoizedState=ue}}function Qf(t,i){if(typeof t!="function")throw Error(l(191,t));t.call(i)}function Xf(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Qf(r[t],i)}var Yl=fe(null),rs=fe(0);function $f(t,i){t=zi,Ce(rs,t),Ce(Yl,i),zi=t|i.baseLanes}function Lu(){Ce(rs,zi),Ce(Yl,Yl.current)}function Pu(){zi=rs.current,_e(Yl),_e(rs)}var yo=0,$e=null,gt=null,Pt=null,as=!1,Kl=!1,el=!1,ss=0,ta=0,Jl=null,ny=0;function Dt(){throw Error(l(321))}function Vu(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!tn(t[r],i[r]))return!1;return!0}function qu(t,i,r,u,d,x){return yo=x,$e=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?Ud:Ld,el=!1,x=r(u,d),el=!1,Kl&&(x=Wf(i,r,u,d)),Zf(t),x}function Zf(t){X.H=ps;var i=gt!==null&&gt.next!==null;if(yo=0,Pt=gt=$e=null,as=!1,ta=0,Jl=null,i)throw Error(l(300));t===null||Ht||(t=t.dependencies,t!==null&&ts(t)&&(Ht=!0))}function Wf(t,i,r,u){$e=t;var d=0;do{if(Kl&&(Jl=null),ta=0,Kl=!1,25<=d)throw Error(l(301));if(d+=1,Pt=gt=null,t.updateQueue!=null){var x=t.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}X.H=uy,x=i(r,u)}while(Kl);return x}function iy(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?na(i):i,t=t.useState()[0],(gt!==null?gt.memoizedState:null)!==t&&($e.flags|=1024),i}function Gu(){var t=ss!==0;return ss=0,t}function Bu(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function Ou(t){if(as){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}as=!1}yo=0,Pt=gt=$e=null,Kl=!1,ta=ss=0,Jl=null}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?$e.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Vt(){if(gt===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var i=Pt===null?$e.memoizedState:Pt.next;if(i!==null)Pt=i,gt=t;else{if(t===null)throw $e.alternate===null?Error(l(467)):Error(l(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Pt===null?$e.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function na(t){var i=ta;return ta+=1,Jl===null&&(Jl=[]),t=Kf(Jl,t,i),i=$e,(Pt===null?i.memoizedState:Pt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?Ud:Ld),t}function us(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return na(t);if(t.$$typeof===ie)return nn(t)}throw Error(l(438,String(t)))}function zu(t){var i=null,r=$e.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var u=$e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Hu(),$e.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),u=0;u<t;u++)r[u]=Je;return i.index++,r}function Vi(t,i){return typeof i=="function"?i(t):i}function cs(t){var i=Vt();return Fu(i,gt,t)}function Fu(t,i,r){var u=t.queue;if(u===null)throw Error(l(311));u.lastRenderedReducer=r;var d=t.baseQueue,x=u.pending;if(x!==null){if(d!==null){var E=d.next;d.next=x.next,x.next=E}i.baseQueue=d=x,u.pending=null}if(x=t.baseState,d===null)t.memoizedState=x;else{i=d.next;var N=E=null,k=null,j=i,re=!1;do{var ue=j.lane&-536870913;if(ue!==j.lane?(lt&ue)===ue:(yo&ue)===ue){var $=j.revertLane;if($===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),ue===zl&&(re=!0);else if((yo&$)===$){j=j.next,$===zl&&(re=!0);continue}else ue={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},k===null?(N=k=ue,E=x):k=k.next=ue,$e.lanes|=$,wo|=$;ue=j.action,el&&r(x,ue),x=j.hasEagerState?j.eagerState:r(x,ue)}else $={lane:ue,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},k===null?(N=k=$,E=x):k=k.next=$,$e.lanes|=ue,wo|=ue;j=j.next}while(j!==null&&j!==i);if(k===null?E=x:k.next=N,!tn(x,t.memoizedState)&&(Ht=!0,re&&(r=Fl,r!==null)))throw r;t.memoizedState=x,t.baseState=E,t.baseQueue=k,u.lastRenderedState=x}return d===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Yu(t){var i=Vt(),r=i.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=t;var u=r.dispatch,d=r.pending,x=i.memoizedState;if(d!==null){r.pending=null;var E=d=d.next;do x=t(x,E.action),E=E.next;while(E!==d);tn(x,i.memoizedState)||(Ht=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),r.lastRenderedState=x}return[x,u]}function ed(t,i,r){var u=$e,d=Vt(),x=ct;if(x){if(r===void 0)throw Error(l(407));r=r()}else r=i();var E=!tn((gt||d).memoizedState,r);E&&(d.memoizedState=r,Ht=!0),d=d.queue;var N=id.bind(null,u,d,t);if(ia(2048,8,N,[t]),d.getSnapshot!==i||E||Pt!==null&&Pt.memoizedState.tag&1){if(u.flags|=2048,jl(9,fs(),nd.bind(null,u,d,r,i),null),St===null)throw Error(l(349));x||(yo&124)!==0||td(u,i,r)}return r}function td(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=$e.updateQueue,i===null?(i=Hu(),$e.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function nd(t,i,r,u){i.value=r,i.getSnapshot=u,od(i)&&ld(t)}function id(t,i,r){return r(function(){od(i)&&ld(t)})}function od(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!tn(t,r)}catch{return!0}}function ld(t){var i=Xn(t,2);i!==null&&Dn(i,t,2)}function Ku(t){var i=vn();if(typeof t=="function"){var r=t;if(t=r(),el){gn(!0);try{r()}finally{gn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},i}function rd(t,i,r,u){return t.baseState=r,Fu(t,gt,typeof u=="function"?u:Vi)}function oy(t,i,r,u,d){if(hs(t))throw Error(l(485));if(t=i.action,t!==null){var x={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){x.listeners.push(E)}};X.T!==null?r(!0):x.isTransition=!1,u(x),r=i.pending,r===null?(x.next=i.pending=x,ad(i,x)):(x.next=r.next,i.pending=r.next=x)}}function ad(t,i){var r=i.action,u=i.payload,d=t.state;if(i.isTransition){var x=X.T,E={};X.T=E;try{var N=r(d,u),k=X.S;k!==null&&k(E,N),sd(t,i,N)}catch(j){Ju(t,i,j)}finally{X.T=x}}else try{x=r(d,u),sd(t,i,x)}catch(j){Ju(t,i,j)}}function sd(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){ud(t,i,u)},function(u){return Ju(t,i,u)}):ud(t,i,r)}function ud(t,i,r){i.status="fulfilled",i.value=r,cd(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,ad(t,r)))}function Ju(t,i,r){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=r,cd(i),i=i.next;while(i!==u)}t.action=null}function cd(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function fd(t,i){return i}function dd(t,i){if(ct){var r=St.formState;if(r!==null){e:{var u=$e;if(ct){if(At){t:{for(var d=At,x=si;d.nodeType!==8;){if(!x){d=null;break t}if(d=Zn(d.nextSibling),d===null){d=null;break t}}x=d.data,d=x==="F!"||x==="F"?d:null}if(d){At=Zn(d.nextSibling),u=d.data==="F!";break e}}Xo(u)}u=!1}u&&(i=r[0])}}return r=vn(),r.memoizedState=r.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fd,lastRenderedState:i},r.queue=u,r=Dd.bind(null,$e,u),u.dispatch=r,u=Ku(!1),x=Zu.bind(null,$e,!1,u.queue),u=vn(),d={state:i,dispatch:null,action:t,pending:null},u.queue=d,r=oy.bind(null,$e,d,x,r),d.dispatch=r,u.memoizedState=t,[i,r,!1]}function hd(t){var i=Vt();return pd(i,gt,t)}function pd(t,i,r){if(i=Fu(t,i,fd)[0],t=cs(Vi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=na(i)}catch(E){throw E===Xr?os:E}else u=i;i=Vt();var d=i.queue,x=d.dispatch;return r!==i.memoizedState&&($e.flags|=2048,jl(9,fs(),ly.bind(null,d,r),null)),[u,x,t]}function ly(t,i){t.action=i}function md(t){var i=Vt(),r=gt;if(r!==null)return pd(i,r,t);Vt(),i=i.memoizedState,r=Vt();var u=r.queue.dispatch;return r.memoizedState=t,[i,u,!1]}function jl(t,i,r,u){return t={tag:t,create:r,deps:u,inst:i,next:null},i=$e.updateQueue,i===null&&(i=Hu(),$e.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(u=r.next,r.next=t,t.next=u,i.lastEffect=t),t}function fs(){return{destroy:void 0,resource:void 0}}function gd(){return Vt().memoizedState}function ds(t,i,r,u){var d=vn();u=u===void 0?null:u,$e.flags|=t,d.memoizedState=jl(1|i,fs(),r,u)}function ia(t,i,r,u){var d=Vt();u=u===void 0?null:u;var x=d.memoizedState.inst;gt!==null&&u!==null&&Vu(u,gt.memoizedState.deps)?d.memoizedState=jl(i,x,r,u):($e.flags|=t,d.memoizedState=jl(1|i,x,r,u))}function yd(t,i){ds(8390656,8,t,i)}function vd(t,i){ia(2048,8,t,i)}function xd(t,i){return ia(4,2,t,i)}function Td(t,i){return ia(4,4,t,i)}function Sd(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Cd(t,i,r){r=r!=null?r.concat([t]):null,ia(4,4,Sd.bind(null,i,t),r)}function ju(){}function bd(t,i){var r=Vt();i=i===void 0?null:i;var u=r.memoizedState;return i!==null&&Vu(i,u[1])?u[0]:(r.memoizedState=[t,i],t)}function wd(t,i){var r=Vt();i=i===void 0?null:i;var u=r.memoizedState;if(i!==null&&Vu(i,u[1]))return u[0];if(u=t(),el){gn(!0);try{t()}finally{gn(!1)}}return r.memoizedState=[u,i],u}function Qu(t,i,r){return r===void 0||(yo&1073741824)!==0?t.memoizedState=i:(t.memoizedState=r,t=Ah(),$e.lanes|=t,wo|=t,r)}function Ed(t,i,r,u){return tn(r,i)?r:Yl.current!==null?(t=Qu(t,r,u),tn(t,i)||(Ht=!0),t):(yo&42)===0?(Ht=!0,t.memoizedState=r):(t=Ah(),$e.lanes|=t,wo|=t,i)}function _d(t,i,r,u,d){var x=ye.p;ye.p=x!==0&&8>x?x:8;var E=X.T,N={};X.T=N,Zu(t,!1,i,r);try{var k=d(),j=X.S;if(j!==null&&j(N,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var re=ty(k,u);oa(t,i,re,Rn(t))}else oa(t,i,u,Rn(t))}catch(ue){oa(t,i,{then:function(){},status:"rejected",reason:ue},Rn())}finally{ye.p=x,X.T=E}}function ry(){}function Xu(t,i,r,u){if(t.tag!==5)throw Error(l(476));var d=Ad(t).queue;_d(t,d,i,Ae,r===null?ry:function(){return Md(t),r(u)})}function Ad(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:Ae},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Md(t){var i=Ad(t).next.queue;oa(t,i,{},Rn())}function $u(){return nn(Ca)}function Nd(){return Vt().memoizedState}function Rd(){return Vt().memoizedState}function ay(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=Rn();t=mo(r);var u=go(i,t,r);u!==null&&(Dn(u,i,r),Zr(u,i,r)),i={cache:Au()},t.payload=i;return}i=i.return}}function sy(t,i,r){var u=Rn();r={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},hs(t)?kd(i,r):(r=Lt(t,i,r,u),r!==null&&(Dn(r,t,u),Id(r,i,u)))}function Dd(t,i,r){var u=Rn();oa(t,i,r,u)}function oa(t,i,r,u){var d={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(hs(t))kd(i,d);else{var x=t.alternate;if(t.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var E=i.lastRenderedState,N=x(E,r);if(d.hasEagerState=!0,d.eagerState=N,tn(N,E))return Rt(t,i,d,0),St===null&&Ke(),!1}catch{}finally{}if(r=Lt(t,i,d,u),r!==null)return Dn(r,t,u),Id(r,i,u),!0}return!1}function Zu(t,i,r,u){if(u={lane:2,revertLane:Rc(),action:u,hasEagerState:!1,eagerState:null,next:null},hs(t)){if(i)throw Error(l(479))}else i=Lt(t,r,u,2),i!==null&&Dn(i,t,2)}function hs(t){var i=t.alternate;return t===$e||i!==null&&i===$e}function kd(t,i){Kl=as=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function Id(t,i,r){if((r&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,r|=u,i.lanes=r,Pa(t,r)}}var ps={readContext:nn,use:us,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt},Ud={readContext:nn,use:us,useCallback:function(t,i){return vn().memoizedState=[t,i===void 0?null:i],t},useContext:nn,useEffect:yd,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,ds(4194308,4,Sd.bind(null,i,t),r)},useLayoutEffect:function(t,i){return ds(4194308,4,t,i)},useInsertionEffect:function(t,i){ds(4,2,t,i)},useMemo:function(t,i){var r=vn();i=i===void 0?null:i;var u=t();if(el){gn(!0);try{t()}finally{gn(!1)}}return r.memoizedState=[u,i],u},useReducer:function(t,i,r){var u=vn();if(r!==void 0){var d=r(i);if(el){gn(!0);try{r(i)}finally{gn(!1)}}}else d=i;return u.memoizedState=u.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},u.queue=t,t=t.dispatch=sy.bind(null,$e,t),[u.memoizedState,t]},useRef:function(t){var i=vn();return t={current:t},i.memoizedState=t},useState:function(t){t=Ku(t);var i=t.queue,r=Dd.bind(null,$e,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:ju,useDeferredValue:function(t,i){var r=vn();return Qu(r,t,i)},useTransition:function(){var t=Ku(!1);return t=_d.bind(null,$e,t.queue,!0,!1),vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var u=$e,d=vn();if(ct){if(r===void 0)throw Error(l(407));r=r()}else{if(r=i(),St===null)throw Error(l(349));(lt&124)!==0||td(u,i,r)}d.memoizedState=r;var x={value:r,getSnapshot:i};return d.queue=x,yd(id.bind(null,u,x,t),[t]),u.flags|=2048,jl(9,fs(),nd.bind(null,u,x,r,i),null),r},useId:function(){var t=vn(),i=St.identifierPrefix;if(ct){var r=Ui,u=Ii;r=(u&~(1<<32-Jt(u)-1)).toString(32)+r,i=""+i+"R"+r,r=ss++,0<r&&(i+="H"+r.toString(32)),i+=""}else r=ny++,i=""+i+"r"+r.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:$u,useFormState:dd,useActionState:dd,useOptimistic:function(t){var i=vn();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=Zu.bind(null,$e,!0,r),r.dispatch=i,[t,i]},useMemoCache:zu,useCacheRefresh:function(){return vn().memoizedState=ay.bind(null,$e)}},Ld={readContext:nn,use:us,useCallback:bd,useContext:nn,useEffect:vd,useImperativeHandle:Cd,useInsertionEffect:xd,useLayoutEffect:Td,useMemo:wd,useReducer:cs,useRef:gd,useState:function(){return cs(Vi)},useDebugValue:ju,useDeferredValue:function(t,i){var r=Vt();return Ed(r,gt.memoizedState,t,i)},useTransition:function(){var t=cs(Vi)[0],i=Vt().memoizedState;return[typeof t=="boolean"?t:na(t),i]},useSyncExternalStore:ed,useId:Nd,useHostTransitionStatus:$u,useFormState:hd,useActionState:hd,useOptimistic:function(t,i){var r=Vt();return rd(r,gt,t,i)},useMemoCache:zu,useCacheRefresh:Rd},uy={readContext:nn,use:us,useCallback:bd,useContext:nn,useEffect:vd,useImperativeHandle:Cd,useInsertionEffect:xd,useLayoutEffect:Td,useMemo:wd,useReducer:Yu,useRef:gd,useState:function(){return Yu(Vi)},useDebugValue:ju,useDeferredValue:function(t,i){var r=Vt();return gt===null?Qu(r,t,i):Ed(r,gt.memoizedState,t,i)},useTransition:function(){var t=Yu(Vi)[0],i=Vt().memoizedState;return[typeof t=="boolean"?t:na(t),i]},useSyncExternalStore:ed,useId:Nd,useHostTransitionStatus:$u,useFormState:md,useActionState:md,useOptimistic:function(t,i){var r=Vt();return gt!==null?rd(r,gt,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:zu,useCacheRefresh:Rd},Ql=null,la=0;function ms(t){var i=la;return la+=1,Ql===null&&(Ql=[]),Kf(Ql,t,i)}function ra(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function gs(t,i){throw i.$$typeof===w?Error(l(525)):(t=Object.prototype.toString.call(i),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Pd(t){var i=t._init;return i(t._payload)}function Vd(t){function i(F,q){if(t){var K=F.deletions;K===null?(F.deletions=[q],F.flags|=16):K.push(q)}}function r(F,q){if(!t)return null;for(;q!==null;)i(F,q),q=q.sibling;return null}function u(F){for(var q=new Map;F!==null;)F.key!==null?q.set(F.key,F):q.set(F.index,F),F=F.sibling;return q}function d(F,q){return F=ki(F,q),F.index=0,F.sibling=null,F}function x(F,q,K){return F.index=K,t?(K=F.alternate,K!==null?(K=K.index,K<q?(F.flags|=67108866,q):K):(F.flags|=67108866,q)):(F.flags|=1048576,q)}function E(F){return t&&F.alternate===null&&(F.flags|=67108866),F}function N(F,q,K,se){return q===null||q.tag!==6?(q=xu(K,F.mode,se),q.return=F,q):(q=d(q,K),q.return=F,q)}function k(F,q,K,se){var Re=K.type;return Re===J?re(F,q,K.props.children,se,K.key):q!==null&&(q.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Pe&&Pd(Re)===q.type)?(q=d(q,K.props),ra(q,K),q.return=F,q):(q=Za(K.type,K.key,K.props,null,F.mode,se),ra(q,K),q.return=F,q)}function j(F,q,K,se){return q===null||q.tag!==4||q.stateNode.containerInfo!==K.containerInfo||q.stateNode.implementation!==K.implementation?(q=Tu(K,F.mode,se),q.return=F,q):(q=d(q,K.children||[]),q.return=F,q)}function re(F,q,K,se,Re){return q===null||q.tag!==7?(q=Ko(K,F.mode,se,Re),q.return=F,q):(q=d(q,K),q.return=F,q)}function ue(F,q,K){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=xu(""+q,F.mode,K),q.return=F,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return K=Za(q.type,q.key,q.props,null,F.mode,K),ra(K,q),K.return=F,K;case I:return q=Tu(q,F.mode,K),q.return=F,q;case Pe:var se=q._init;return q=se(q._payload),ue(F,q,K)}if(rt(q)||Ze(q))return q=Ko(q,F.mode,K,null),q.return=F,q;if(typeof q.then=="function")return ue(F,ms(q),K);if(q.$$typeof===ie)return ue(F,ns(F,q),K);gs(F,q)}return null}function $(F,q,K,se){var Re=q!==null?q.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Re!==null?null:N(F,q,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return K.key===Re?k(F,q,K,se):null;case I:return K.key===Re?j(F,q,K,se):null;case Pe:return Re=K._init,K=Re(K._payload),$(F,q,K,se)}if(rt(K)||Ze(K))return Re!==null?null:re(F,q,K,se,null);if(typeof K.then=="function")return $(F,q,ms(K),se);if(K.$$typeof===ie)return $(F,q,ns(F,K),se);gs(F,K)}return null}function Z(F,q,K,se,Re){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return F=F.get(K)||null,N(q,F,""+se,Re);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case A:return F=F.get(se.key===null?K:se.key)||null,k(q,F,se,Re);case I:return F=F.get(se.key===null?K:se.key)||null,j(q,F,se,Re);case Pe:var We=se._init;return se=We(se._payload),Z(F,q,K,se,Re)}if(rt(se)||Ze(se))return F=F.get(K)||null,re(q,F,se,Re,null);if(typeof se.then=="function")return Z(F,q,K,ms(se),Re);if(se.$$typeof===ie)return Z(F,q,K,ns(q,se),Re);gs(q,se)}return null}function Oe(F,q,K,se){for(var Re=null,We=null,Ie=q,Be=q=0,Ft=null;Ie!==null&&Be<K.length;Be++){Ie.index>Be?(Ft=Ie,Ie=null):Ft=Ie.sibling;var ut=$(F,Ie,K[Be],se);if(ut===null){Ie===null&&(Ie=Ft);break}t&&Ie&&ut.alternate===null&&i(F,Ie),q=x(ut,q,Be),We===null?Re=ut:We.sibling=ut,We=ut,Ie=Ft}if(Be===K.length)return r(F,Ie),ct&&jo(F,Be),Re;if(Ie===null){for(;Be<K.length;Be++)Ie=ue(F,K[Be],se),Ie!==null&&(q=x(Ie,q,Be),We===null?Re=Ie:We.sibling=Ie,We=Ie);return ct&&jo(F,Be),Re}for(Ie=u(Ie);Be<K.length;Be++)Ft=Z(Ie,F,Be,K[Be],se),Ft!==null&&(t&&Ft.alternate!==null&&Ie.delete(Ft.key===null?Be:Ft.key),q=x(Ft,q,Be),We===null?Re=Ft:We.sibling=Ft,We=Ft);return t&&Ie.forEach(function(Io){return i(F,Io)}),ct&&jo(F,Be),Re}function Ge(F,q,K,se){if(K==null)throw Error(l(151));for(var Re=null,We=null,Ie=q,Be=q=0,Ft=null,ut=K.next();Ie!==null&&!ut.done;Be++,ut=K.next()){Ie.index>Be?(Ft=Ie,Ie=null):Ft=Ie.sibling;var Io=$(F,Ie,ut.value,se);if(Io===null){Ie===null&&(Ie=Ft);break}t&&Ie&&Io.alternate===null&&i(F,Ie),q=x(Io,q,Be),We===null?Re=Io:We.sibling=Io,We=Io,Ie=Ft}if(ut.done)return r(F,Ie),ct&&jo(F,Be),Re;if(Ie===null){for(;!ut.done;Be++,ut=K.next())ut=ue(F,ut.value,se),ut!==null&&(q=x(ut,q,Be),We===null?Re=ut:We.sibling=ut,We=ut);return ct&&jo(F,Be),Re}for(Ie=u(Ie);!ut.done;Be++,ut=K.next())ut=Z(Ie,F,Be,ut.value,se),ut!==null&&(t&&ut.alternate!==null&&Ie.delete(ut.key===null?Be:ut.key),q=x(ut,q,Be),We===null?Re=ut:We.sibling=ut,We=ut);return t&&Ie.forEach(function(cv){return i(F,cv)}),ct&&jo(F,Be),Re}function vt(F,q,K,se){if(typeof K=="object"&&K!==null&&K.type===J&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case A:e:{for(var Re=K.key;q!==null;){if(q.key===Re){if(Re=K.type,Re===J){if(q.tag===7){r(F,q.sibling),se=d(q,K.props.children),se.return=F,F=se;break e}}else if(q.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Pe&&Pd(Re)===q.type){r(F,q.sibling),se=d(q,K.props),ra(se,K),se.return=F,F=se;break e}r(F,q);break}else i(F,q);q=q.sibling}K.type===J?(se=Ko(K.props.children,F.mode,se,K.key),se.return=F,F=se):(se=Za(K.type,K.key,K.props,null,F.mode,se),ra(se,K),se.return=F,F=se)}return E(F);case I:e:{for(Re=K.key;q!==null;){if(q.key===Re)if(q.tag===4&&q.stateNode.containerInfo===K.containerInfo&&q.stateNode.implementation===K.implementation){r(F,q.sibling),se=d(q,K.children||[]),se.return=F,F=se;break e}else{r(F,q);break}else i(F,q);q=q.sibling}se=Tu(K,F.mode,se),se.return=F,F=se}return E(F);case Pe:return Re=K._init,K=Re(K._payload),vt(F,q,K,se)}if(rt(K))return Oe(F,q,K,se);if(Ze(K)){if(Re=Ze(K),typeof Re!="function")throw Error(l(150));return K=Re.call(K),Ge(F,q,K,se)}if(typeof K.then=="function")return vt(F,q,ms(K),se);if(K.$$typeof===ie)return vt(F,q,ns(F,K),se);gs(F,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,q!==null&&q.tag===6?(r(F,q.sibling),se=d(q,K),se.return=F,F=se):(r(F,q),se=xu(K,F.mode,se),se.return=F,F=se),E(F)):r(F,q)}return function(F,q,K,se){try{la=0;var Re=vt(F,q,K,se);return Ql=null,Re}catch(Ie){if(Ie===Xr||Ie===os)throw Ie;var We=_n(29,Ie,null,F.mode);return We.lanes=se,We.return=F,We}finally{}}}var Xl=Vd(!0),qd=Vd(!1),Bn=fe(null),ui=null;function vo(t){var i=t.alternate;Ce(Gt,Gt.current&1),Ce(Bn,t),ui===null&&(i===null||Yl.current!==null||i.memoizedState!==null)&&(ui=t)}function Gd(t){if(t.tag===22){if(Ce(Gt,Gt.current),Ce(Bn,t),ui===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ui=t)}}else xo()}function xo(){Ce(Gt,Gt.current),Ce(Bn,Bn.current)}function qi(t){_e(Bn),ui===t&&(ui=null),_e(Gt)}var Gt=fe(0);function ys(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Hc(r)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Wu(t,i,r,u){i=t.memoizedState,r=r(u,i),r=r==null?i:C({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ec={enqueueSetState:function(t,i,r){t=t._reactInternals;var u=Rn(),d=mo(u);d.payload=i,r!=null&&(d.callback=r),i=go(t,d,u),i!==null&&(Dn(i,t,u),Zr(i,t,u))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var u=Rn(),d=mo(u);d.tag=1,d.payload=i,r!=null&&(d.callback=r),i=go(t,d,u),i!==null&&(Dn(i,t,u),Zr(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=Rn(),u=mo(r);u.tag=2,i!=null&&(u.callback=i),i=go(t,u,r),i!==null&&(Dn(i,t,r),Zr(i,t,r))}};function Bd(t,i,r,u,d,x,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,x,E):i.prototype&&i.prototype.isPureReactComponent?!f(r,u)||!f(d,x):!0}function Od(t,i,r,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,u),i.state!==t&&ec.enqueueReplaceState(i,i.state,null)}function tl(t,i){var r=i;if("ref"in i){r={};for(var u in i)u!=="ref"&&(r[u]=i[u])}if(t=t.defaultProps){r===i&&(r=C({},r));for(var d in t)r[d]===void 0&&(r[d]=t[d])}return r}var vs=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hd(t){vs(t)}function zd(t){console.error(t)}function Fd(t){vs(t)}function xs(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Yd(t,i,r){try{var u=t.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function tc(t,i,r){return r=mo(r),r.tag=3,r.payload={element:null},r.callback=function(){xs(t,i)},r}function Kd(t){return t=mo(t),t.tag=3,t}function Jd(t,i,r,u){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var x=u.value;t.payload=function(){return d(x)},t.callback=function(){Yd(i,r,u)}}var E=r.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Yd(i,r,u),typeof d!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})})}function cy(t,i,r,u,d){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=r.alternate,i!==null&&Jr(i,r,d,!0),r=Bn.current,r!==null){switch(r.tag){case 13:return ui===null?Ec():r.alternate===null&&Mt===0&&(Mt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,u===Ru?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([u]):i.add(u),Ac(t,u,d)),!1;case 22:return r.flags|=65536,u===Ru?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([u]):r.add(u)),Ac(t,u,d)),!1}throw Error(l(435,r.tag))}return Ac(t,u,d),Ec(),!1}if(ct)return i=Bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,u!==bu&&(t=Error(l(422),{cause:u}),Kr(Ue(t,r)))):(u!==bu&&(i=Error(l(423),{cause:u}),Kr(Ue(i,r))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,u=Ue(u,r),d=tc(t.stateNode,u,d),Iu(t,d),Mt!==4&&(Mt=2)),!1;var x=Error(l(520),{cause:u});if(x=Ue(x,r),ha===null?ha=[x]:ha.push(x),Mt!==4&&(Mt=2),i===null)return!0;u=Ue(u,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=d&-d,r.lanes|=t,t=tc(r.stateNode,u,t),Iu(r,t),!1;case 1:if(i=r.type,x=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Eo===null||!Eo.has(x))))return r.flags|=65536,d&=-d,r.lanes|=d,d=Kd(d),Jd(d,t,r,u),Iu(r,d),!1}r=r.return}while(r!==null);return!1}var jd=Error(l(461)),Ht=!1;function Xt(t,i,r,u){i.child=t===null?qd(i,null,r,u):Xl(i,t.child,r,u)}function Qd(t,i,r,u,d){r=r.render;var x=i.ref;if("ref"in u){var E={};for(var N in u)N!=="ref"&&(E[N]=u[N])}else E=u;return Zo(i),u=qu(t,i,r,E,x,d),N=Gu(),t!==null&&!Ht?(Bu(t,i,d),Gi(t,i,d)):(ct&&N&&Su(i),i.flags|=1,Xt(t,i,u,d),i.child)}function Xd(t,i,r,u,d){if(t===null){var x=r.type;return typeof x=="function"&&!vu(x)&&x.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=x,$d(t,i,x,u,d)):(t=Za(r.type,null,u,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(x=t.child,!uc(t,d)){var E=x.memoizedProps;if(r=r.compare,r=r!==null?r:f,r(E,u)&&t.ref===i.ref)return Gi(t,i,d)}return i.flags|=1,t=ki(x,u),t.ref=i.ref,t.return=i,i.child=t}function $d(t,i,r,u,d){if(t!==null){var x=t.memoizedProps;if(f(x,u)&&t.ref===i.ref)if(Ht=!1,i.pendingProps=u=x,uc(t,d))(t.flags&131072)!==0&&(Ht=!0);else return i.lanes=t.lanes,Gi(t,i,d)}return nc(t,i,r,u,d)}function Zd(t,i,r){var u=i.pendingProps,d=u.children,x=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=x!==null?x.baseLanes|r:r,t!==null){for(d=i.child=t.child,x=0;d!==null;)x=x|d.lanes|d.childLanes,d=d.sibling;i.childLanes=x&~u}else i.childLanes=0,i.child=null;return Wd(t,i,u,r)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&is(i,x!==null?x.cachePool:null),x!==null?$f(i,x):Lu(),Gd(i);else return i.lanes=i.childLanes=536870912,Wd(t,i,x!==null?x.baseLanes|r:r,r)}else x!==null?(is(i,x.cachePool),$f(i,x),xo(),i.memoizedState=null):(t!==null&&is(i,null),Lu(),xo());return Xt(t,i,d,r),i.child}function Wd(t,i,r,u){var d=Nu();return d=d===null?null:{parent:qt._currentValue,pool:d},i.memoizedState={baseLanes:r,cachePool:d},t!==null&&is(i,null),Lu(),Gd(i),t!==null&&Jr(t,i,u,!0),null}function Ts(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function nc(t,i,r,u,d){return Zo(i),r=qu(t,i,r,u,void 0,d),u=Gu(),t!==null&&!Ht?(Bu(t,i,d),Gi(t,i,d)):(ct&&u&&Su(i),i.flags|=1,Xt(t,i,r,d),i.child)}function eh(t,i,r,u,d,x){return Zo(i),i.updateQueue=null,r=Wf(i,u,r,d),Zf(t),u=Gu(),t!==null&&!Ht?(Bu(t,i,x),Gi(t,i,x)):(ct&&u&&Su(i),i.flags|=1,Xt(t,i,r,x),i.child)}function th(t,i,r,u,d){if(Zo(i),i.stateNode===null){var x=ai,E=r.contextType;typeof E=="object"&&E!==null&&(x=nn(E)),x=new r(u,x),i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=ec,i.stateNode=x,x._reactInternals=i,x=i.stateNode,x.props=u,x.state=i.memoizedState,x.refs={},Du(i),E=r.contextType,x.context=typeof E=="object"&&E!==null?nn(E):ai,x.state=i.memoizedState,E=r.getDerivedStateFromProps,typeof E=="function"&&(Wu(i,r,E,u),x.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(E=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),E!==x.state&&ec.enqueueReplaceState(x,x.state,null),ea(i,u,x,d),Wr(),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){x=i.stateNode;var N=i.memoizedProps,k=tl(r,N);x.props=k;var j=x.context,re=r.contextType;E=ai,typeof re=="object"&&re!==null&&(E=nn(re));var ue=r.getDerivedStateFromProps;re=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",N=i.pendingProps!==N,re||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N||j!==E)&&Od(i,x,u,E),po=!1;var $=i.memoizedState;x.state=$,ea(i,u,x,d),Wr(),j=i.memoizedState,N||$!==j||po?(typeof ue=="function"&&(Wu(i,r,ue,u),j=i.memoizedState),(k=po||Bd(i,r,k,u,$,j,E))?(re||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=j),x.props=u,x.state=j,x.context=E,u=k):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{x=i.stateNode,ku(t,i),E=i.memoizedProps,re=tl(r,E),x.props=re,ue=i.pendingProps,$=x.context,j=r.contextType,k=ai,typeof j=="object"&&j!==null&&(k=nn(j)),N=r.getDerivedStateFromProps,(j=typeof N=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==ue||$!==k)&&Od(i,x,u,k),po=!1,$=i.memoizedState,x.state=$,ea(i,u,x,d),Wr();var Z=i.memoizedState;E!==ue||$!==Z||po||t!==null&&t.dependencies!==null&&ts(t.dependencies)?(typeof N=="function"&&(Wu(i,r,N,u),Z=i.memoizedState),(re=po||Bd(i,r,re,u,$,Z,k)||t!==null&&t.dependencies!==null&&ts(t.dependencies))?(j||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,Z,k),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,Z,k)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Z),x.props=u,x.state=Z,x.context=k,u=re):(typeof x.componentDidUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),u=!1)}return x=u,Ts(t,i),u=(i.flags&128)!==0,x||u?(x=i.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:x.render(),i.flags|=1,t!==null&&u?(i.child=Xl(i,t.child,null,d),i.child=Xl(i,null,r,d)):Xt(t,i,r,d),i.memoizedState=x.state,t=i.child):t=Gi(t,i,d),t}function nh(t,i,r,u){return Yr(),i.flags|=256,Xt(t,i,r,u),i.child}var ic={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oc(t){return{baseLanes:t,cachePool:zf()}}function lc(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=On),t}function ih(t,i,r){var u=i.pendingProps,d=!1,x=(i.flags&128)!==0,E;if((E=x)||(E=t!==null&&t.memoizedState===null?!1:(Gt.current&2)!==0),E&&(d=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(ct){if(d?vo(i):xo(),ct){var N=At,k;if(k=N){e:{for(k=N,N=si;k.nodeType!==8;){if(!N){N=null;break e}if(k=Zn(k.nextSibling),k===null){N=null;break e}}N=k}N!==null?(i.memoizedState={dehydrated:N,treeContext:Jo!==null?{id:Ii,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},k=_n(18,null,null,0),k.stateNode=N,k.return=i,i.child=k,pn=i,At=null,k=!0):k=!1}k||Xo(i)}if(N=i.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Hc(N)?i.lanes=32:i.lanes=536870912,null;qi(i)}return N=u.children,u=u.fallback,d?(xo(),d=i.mode,N=Ss({mode:"hidden",children:N},d),u=Ko(u,d,r,null),N.return=i,u.return=i,N.sibling=u,i.child=N,d=i.child,d.memoizedState=oc(r),d.childLanes=lc(t,E,r),i.memoizedState=ic,u):(vo(i),rc(i,N))}if(k=t.memoizedState,k!==null&&(N=k.dehydrated,N!==null)){if(x)i.flags&256?(vo(i),i.flags&=-257,i=ac(t,i,r)):i.memoizedState!==null?(xo(),i.child=t.child,i.flags|=128,i=null):(xo(),d=u.fallback,N=i.mode,u=Ss({mode:"visible",children:u.children},N),d=Ko(d,N,r,null),d.flags|=2,u.return=i,d.return=i,u.sibling=d,i.child=u,Xl(i,t.child,null,r),u=i.child,u.memoizedState=oc(r),u.childLanes=lc(t,E,r),i.memoizedState=ic,i=d);else if(vo(i),Hc(N)){if(E=N.nextSibling&&N.nextSibling.dataset,E)var j=E.dgst;E=j,u=Error(l(419)),u.stack="",u.digest=E,Kr({value:u,source:null,stack:null}),i=ac(t,i,r)}else if(Ht||Jr(t,i,r,!1),E=(r&t.childLanes)!==0,Ht||E){if(E=St,E!==null&&(u=r&-r,u=(u&42)!==0?1:Sr(u),u=(u&(E.suspendedLanes|r))!==0?0:u,u!==0&&u!==k.retryLane))throw k.retryLane=u,Xn(t,u),Dn(E,t,u),jd;N.data==="$?"||Ec(),i=ac(t,i,r)}else N.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=k.treeContext,At=Zn(N.nextSibling),pn=i,ct=!0,Qo=null,si=!1,t!==null&&(qn[Gn++]=Ii,qn[Gn++]=Ui,qn[Gn++]=Jo,Ii=t.id,Ui=t.overflow,Jo=i),i=rc(i,u.children),i.flags|=4096);return i}return d?(xo(),d=u.fallback,N=i.mode,k=t.child,j=k.sibling,u=ki(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,j!==null?d=ki(j,d):(d=Ko(d,N,r,null),d.flags|=2),d.return=i,u.return=i,u.sibling=d,i.child=u,u=d,d=i.child,N=t.child.memoizedState,N===null?N=oc(r):(k=N.cachePool,k!==null?(j=qt._currentValue,k=k.parent!==j?{parent:j,pool:j}:k):k=zf(),N={baseLanes:N.baseLanes|r,cachePool:k}),d.memoizedState=N,d.childLanes=lc(t,E,r),i.memoizedState=ic,u):(vo(i),r=t.child,t=r.sibling,r=ki(r,{mode:"visible",children:u.children}),r.return=i,r.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=r,i.memoizedState=null,r)}function rc(t,i){return i=Ss({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ss(t,i){return t=_n(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ac(t,i,r){return Xl(i,t.child,null,r),t=rc(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function oh(t,i,r){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),Eu(t.return,i,r)}function sc(t,i,r,u,d){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:d}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=r,x.tailMode=d)}function lh(t,i,r){var u=i.pendingProps,d=u.revealOrder,x=u.tail;if(Xt(t,i,u.children,r),u=Gt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oh(t,r,i);else if(t.tag===19)oh(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(Ce(Gt,u),d){case"forwards":for(r=i.child,d=null;r!==null;)t=r.alternate,t!==null&&ys(t)===null&&(d=r),r=r.sibling;r=d,r===null?(d=i.child,i.child=null):(d=r.sibling,r.sibling=null),sc(i,!1,d,r,x);break;case"backwards":for(r=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&ys(t)===null){i.child=d;break}t=d.sibling,d.sibling=r,r=d,d=t}sc(i,!0,r,null,x);break;case"together":sc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Gi(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),wo|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(Jr(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(l(153));if(i.child!==null){for(t=i.child,r=ki(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=ki(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function uc(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ts(t)))}function fy(t,i,r){switch(i.tag){case 3:Tt(i,i.stateNode.containerInfo),ho(i,qt,t.memoizedState.cache),Yr();break;case 27:case 5:ul(i);break;case 4:Tt(i,i.stateNode.containerInfo);break;case 10:ho(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(vo(i),i.flags|=128,null):(r&i.child.childLanes)!==0?ih(t,i,r):(vo(i),t=Gi(t,i,r),t!==null?t.sibling:null);vo(i);break;case 19:var d=(t.flags&128)!==0;if(u=(r&i.childLanes)!==0,u||(Jr(t,i,r,!1),u=(r&i.childLanes)!==0),d){if(u)return lh(t,i,r);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ce(Gt,Gt.current),u)break;return null;case 22:case 23:return i.lanes=0,Zd(t,i,r);case 24:ho(i,qt,t.memoizedState.cache)}return Gi(t,i,r)}function rh(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ht=!0;else{if(!uc(t,r)&&(i.flags&128)===0)return Ht=!1,fy(t,i,r);Ht=(t.flags&131072)!==0}else Ht=!1,ct&&(i.flags&1048576)!==0&&Pf(i,es,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var u=i.elementType,d=u._init;if(u=d(u._payload),i.type=u,typeof u=="function")vu(u)?(t=tl(u,t),i.tag=1,i=th(null,i,u,t,r)):(i.tag=0,i=nc(null,i,u,t,r));else{if(u!=null){if(d=u.$$typeof,d===pe){i.tag=11,i=Qd(null,i,u,t,r);break e}else if(d===xe){i.tag=14,i=Xd(null,i,u,t,r);break e}}throw i=rn(u)||u,Error(l(306,i,""))}}return i;case 0:return nc(t,i,i.type,i.pendingProps,r);case 1:return u=i.type,d=tl(u,i.pendingProps),th(t,i,u,d,r);case 3:e:{if(Tt(i,i.stateNode.containerInfo),t===null)throw Error(l(387));u=i.pendingProps;var x=i.memoizedState;d=x.element,ku(t,i),ea(i,u,null,r);var E=i.memoizedState;if(u=E.cache,ho(i,qt,u),u!==x.cache&&_u(i,[qt],r,!0),Wr(),u=E.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){i=nh(t,i,u,r);break e}else if(u!==d){d=Ue(Error(l(424)),i),Kr(d),i=nh(t,i,u,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(At=Zn(t.firstChild),pn=i,ct=!0,Qo=null,si=!0,r=qd(i,null,u,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Yr(),u===d){i=Gi(t,i,r);break e}Xt(t,i,u,r)}i=i.child}return i;case 26:return Ts(t,i),t===null?(r=cp(i.type,null,i.pendingProps,null))?i.memoizedState=r:ct||(r=i.type,t=i.pendingProps,u=Ls(Ve.current).createElement(r),u[Qe]=i,u[at]=t,Zt(u,r,t),Nt(u),i.stateNode=u):i.memoizedState=cp(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ul(i),t===null&&ct&&(u=i.stateNode=ap(i.type,i.pendingProps,Ve.current),pn=i,si=!0,d=At,Mo(i.type)?(zc=d,At=Zn(u.firstChild)):At=d),Xt(t,i,i.pendingProps.children,r),Ts(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ct&&((d=u=At)&&(u=Gy(u,i.type,i.pendingProps,si),u!==null?(i.stateNode=u,pn=i,At=Zn(u.firstChild),si=!1,d=!0):d=!1),d||Xo(i)),ul(i),d=i.type,x=i.pendingProps,E=t!==null?t.memoizedProps:null,u=x.children,Gc(d,x)?u=null:E!==null&&Gc(d,E)&&(i.flags|=32),i.memoizedState!==null&&(d=qu(t,i,iy,null,null,r),Ca._currentValue=d),Ts(t,i),Xt(t,i,u,r),i.child;case 6:return t===null&&ct&&((t=r=At)&&(r=By(r,i.pendingProps,si),r!==null?(i.stateNode=r,pn=i,At=null,t=!0):t=!1),t||Xo(i)),null;case 13:return ih(t,i,r);case 4:return Tt(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Xl(i,null,u,r):Xt(t,i,u,r),i.child;case 11:return Qd(t,i,i.type,i.pendingProps,r);case 7:return Xt(t,i,i.pendingProps,r),i.child;case 8:return Xt(t,i,i.pendingProps.children,r),i.child;case 12:return Xt(t,i,i.pendingProps.children,r),i.child;case 10:return u=i.pendingProps,ho(i,i.type,u.value),Xt(t,i,u.children,r),i.child;case 9:return d=i.type._context,u=i.pendingProps.children,Zo(i),d=nn(d),u=u(d),i.flags|=1,Xt(t,i,u,r),i.child;case 14:return Xd(t,i,i.type,i.pendingProps,r);case 15:return $d(t,i,i.type,i.pendingProps,r);case 19:return lh(t,i,r);case 31:return u=i.pendingProps,r=i.mode,u={mode:u.mode,children:u.children},t===null?(r=Ss(u,r),r.ref=i.ref,i.child=r,r.return=i,i=r):(r=ki(t.child,u),r.ref=i.ref,i.child=r,r.return=i,i=r),i;case 22:return Zd(t,i,r);case 24:return Zo(i),u=nn(qt),t===null?(d=Nu(),d===null&&(d=St,x=Au(),d.pooledCache=x,x.refCount++,x!==null&&(d.pooledCacheLanes|=r),d=x),i.memoizedState={parent:u,cache:d},Du(i),ho(i,qt,d)):((t.lanes&r)!==0&&(ku(t,i),ea(i,null,null,r),Wr()),d=t.memoizedState,x=i.memoizedState,d.parent!==u?(d={parent:u,cache:u},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),ho(i,qt,u)):(u=x.cache,ho(i,qt,u),u!==d.cache&&_u(i,[qt],r,!0))),Xt(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function Bi(t){t.flags|=4}function ah(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!mp(i)){if(i=Bn.current,i!==null&&((lt&4194048)===lt?ui!==null:(lt&62914560)!==lt&&(lt&536870912)===0||i!==ui))throw $r=Ru,Ff;t.flags|=8192}}function Cs(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?pl():536870912,t.lanes|=i,er|=i)}function aa(t,i){if(!ct)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function _t(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,u=0;if(i)for(var d=t.child;d!==null;)r|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)r|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=r,i}function dy(t,i,r){var u=i.pendingProps;switch(Cu(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(i),null;case 1:return _t(i),null;case 3:return r=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Pi(qt),De(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fr(i)?Bi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Gf())),_t(i),null;case 26:return r=i.memoizedState,t===null?(Bi(i),r!==null?(_t(i),ah(i,r)):(_t(i),i.flags&=-16777217)):r?r!==t.memoizedState?(Bi(i),_t(i),ah(i,r)):(_t(i),i.flags&=-16777217):(t.memoizedProps!==u&&Bi(i),_t(i),i.flags&=-16777217),null;case 27:pi(i),r=Ve.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Bi(i);else{if(!u){if(i.stateNode===null)throw Error(l(166));return _t(i),null}t=Le.current,Fr(i)?Vf(i):(t=ap(d,u,r),i.stateNode=t,Bi(i))}return _t(i),null;case 5:if(pi(i),r=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Bi(i);else{if(!u){if(i.stateNode===null)throw Error(l(166));return _t(i),null}if(t=Le.current,Fr(i))Vf(i);else{switch(d=Ls(Ve.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?d.createElement(r,{is:u.is}):d.createElement(r)}}t[Qe]=i,t[at]=u;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(Zt(t,r,u),r){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Bi(i)}}return _t(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&Bi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(l(166));if(t=Ve.current,Fr(i)){if(t=i.stateNode,r=i.memoizedProps,u=null,d=pn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}t[Qe]=i,t=!!(t.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||ep(t.nodeValue,r)),t||Xo(i)}else t=Ls(t).createTextNode(u),t[Qe]=i,i.stateNode=t}return _t(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Fr(i),u!==null&&u.dehydrated!==null){if(t===null){if(!d)throw Error(l(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(l(317));d[Qe]=i}else Yr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;_t(i),d=!1}else d=Gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(qi(i),i):(qi(i),null)}if(qi(i),(i.flags&128)!==0)return i.lanes=r,i;if(r=u!==null,t=t!==null&&t.memoizedState!==null,r){u=i.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var x=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==d&&(u.flags|=2048)}return r!==t&&r&&(i.child.flags|=8192),Cs(i,i.updateQueue),_t(i),null;case 4:return De(),t===null&&Uc(i.stateNode.containerInfo),_t(i),null;case 10:return Pi(i.type),_t(i),null;case 19:if(_e(Gt),d=i.memoizedState,d===null)return _t(i),null;if(u=(i.flags&128)!==0,x=d.rendering,x===null)if(u)aa(d,!1);else{if(Mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(x=ys(t),x!==null){for(i.flags|=128,aa(d,!1),t=x.updateQueue,i.updateQueue=t,Cs(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)Lf(r,t),r=r.sibling;return Ce(Gt,Gt.current&1|2),i.child}t=t.sibling}d.tail!==null&&kn()>Es&&(i.flags|=128,u=!0,aa(d,!1),i.lanes=4194304)}else{if(!u)if(t=ys(x),t!==null){if(i.flags|=128,u=!0,t=t.updateQueue,i.updateQueue=t,Cs(i,t),aa(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!ct)return _t(i),null}else 2*kn()-d.renderingStartTime>Es&&r!==536870912&&(i.flags|=128,u=!0,aa(d,!1),i.lanes=4194304);d.isBackwards?(x.sibling=i.child,i.child=x):(t=d.last,t!==null?t.sibling=x:i.child=x,d.last=x)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=kn(),i.sibling=null,t=Gt.current,Ce(Gt,u?t&1|2:t&1),i):(_t(i),null);case 22:case 23:return qi(i),Pu(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(r&536870912)!==0&&(i.flags&128)===0&&(_t(i),i.subtreeFlags&6&&(i.flags|=8192)):_t(i),r=i.updateQueue,r!==null&&Cs(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==r&&(i.flags|=2048),t!==null&&_e(Wo),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Pi(qt),_t(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function hy(t,i){switch(Cu(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Pi(qt),De(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return pi(i),null;case 13:if(qi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(l(340));Yr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return _e(Gt),null;case 4:return De(),null;case 10:return Pi(i.type),null;case 22:case 23:return qi(i),Pu(),t!==null&&_e(Wo),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Pi(qt),null;case 25:return null;default:return null}}function sh(t,i){switch(Cu(i),i.tag){case 3:Pi(qt),De();break;case 26:case 27:case 5:pi(i);break;case 4:De();break;case 13:qi(i);break;case 19:_e(Gt);break;case 10:Pi(i.type);break;case 22:case 23:qi(i),Pu(),t!==null&&_e(Wo);break;case 24:Pi(qt)}}function sa(t,i){try{var r=i.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var d=u.next;r=d;do{if((r.tag&t)===t){u=void 0;var x=r.create,E=r.inst;u=x(),E.destroy=u}r=r.next}while(r!==d)}}catch(N){xt(i,i.return,N)}}function To(t,i,r){try{var u=i.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var x=d.next;u=x;do{if((u.tag&t)===t){var E=u.inst,N=E.destroy;if(N!==void 0){E.destroy=void 0,d=i;var k=r,j=N;try{j()}catch(re){xt(d,k,re)}}}u=u.next}while(u!==x)}}catch(re){xt(i,i.return,re)}}function uh(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{Xf(i,r)}catch(u){xt(t,t.return,u)}}}function ch(t,i,r){r.props=tl(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(u){xt(t,i,u)}}function ua(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof r=="function"?t.refCleanup=r(u):r.current=u}}catch(d){xt(t,i,d)}}function ci(t,i){var r=t.ref,u=t.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(d){xt(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){xt(t,i,d)}else r.current=null}function fh(t){var i=t.type,r=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break e;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(d){xt(t,t.return,d)}}function cc(t,i,r){try{var u=t.stateNode;Uy(u,t.type,r,i),u[at]=i}catch(d){xt(t,t.return,d)}}function dh(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Mo(t.type)||t.tag===4}function fc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Mo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dc(t,i,r){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Us));else if(u!==4&&(u===27&&Mo(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(dc(t,i,r),t=t.sibling;t!==null;)dc(t,i,r),t=t.sibling}function bs(t,i,r){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(u!==4&&(u===27&&Mo(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(bs(t,i,r),t=t.sibling;t!==null;)bs(t,i,r),t=t.sibling}function hh(t){var i=t.stateNode,r=t.memoizedProps;try{for(var u=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Zt(i,u,r),i[Qe]=t,i[at]=r}catch(x){xt(t,t.return,x)}}var Oi=!1,kt=!1,hc=!1,ph=typeof WeakSet=="function"?WeakSet:Set,zt=null;function py(t,i){if(t=t.containerInfo,Vc=Os,t=_(t),M(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var d=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{r.nodeType,x.nodeType}catch{r=null;break e}var E=0,N=-1,k=-1,j=0,re=0,ue=t,$=null;t:for(;;){for(var Z;ue!==r||d!==0&&ue.nodeType!==3||(N=E+d),ue!==x||u!==0&&ue.nodeType!==3||(k=E+u),ue.nodeType===3&&(E+=ue.nodeValue.length),(Z=ue.firstChild)!==null;)$=ue,ue=Z;for(;;){if(ue===t)break t;if($===r&&++j===d&&(N=E),$===x&&++re===u&&(k=E),(Z=ue.nextSibling)!==null)break;ue=$,$=ue.parentNode}ue=Z}r=N===-1||k===-1?null:{start:N,end:k}}else r=null}r=r||{start:0,end:0}}else r=null;for(qc={focusedElem:t,selectionRange:r},Os=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,x=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&x!==null){t=void 0,r=i,d=x.memoizedProps,x=x.memoizedState,u=r.stateNode;try{var Oe=tl(r.type,d,r.elementType===r.type);t=u.getSnapshotBeforeUpdate(Oe,x),u.__reactInternalSnapshotBeforeUpdate=t}catch(Ge){xt(r,r.return,Ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)Oc(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Oc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function mh(t,i,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:So(t,r),u&4&&sa(5,r);break;case 1:if(So(t,r),u&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(E){xt(r,r.return,E)}else{var d=tl(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){xt(r,r.return,E)}}u&64&&uh(r),u&512&&ua(r,r.return);break;case 3:if(So(t,r),u&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{Xf(t,i)}catch(E){xt(r,r.return,E)}}break;case 27:i===null&&u&4&&hh(r);case 26:case 5:So(t,r),i===null&&u&4&&fh(r),u&512&&ua(r,r.return);break;case 12:So(t,r);break;case 13:So(t,r),u&4&&vh(t,r),u&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=by.bind(null,r),Oy(t,r))));break;case 22:if(u=r.memoizedState!==null||Oi,!u){i=i!==null&&i.memoizedState!==null||kt,d=Oi;var x=kt;Oi=u,(kt=i)&&!x?Co(t,r,(r.subtreeFlags&8772)!==0):So(t,r),Oi=d,kt=x}break;case 30:break;default:So(t,r)}}function gh(t){var i=t.alternate;i!==null&&(t.alternate=null,gh(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ti(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,xn=!1;function Hi(t,i,r){for(r=r.child;r!==null;)yh(t,i,r),r=r.sibling}function yh(t,i,r){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Yn,r)}catch{}switch(r.tag){case 26:kt||ci(r,i),Hi(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:kt||ci(r,i);var u=Et,d=xn;Mo(r.type)&&(Et=r.stateNode,xn=!1),Hi(t,i,r),va(r.stateNode),Et=u,xn=d;break;case 5:kt||ci(r,i);case 6:if(u=Et,d=xn,Et=null,Hi(t,i,r),Et=u,xn=d,Et!==null)if(xn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(r.stateNode)}catch(x){xt(r,i,x)}else try{Et.removeChild(r.stateNode)}catch(x){xt(r,i,x)}break;case 18:Et!==null&&(xn?(t=Et,lp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),_a(t)):lp(Et,r.stateNode));break;case 4:u=Et,d=xn,Et=r.stateNode.containerInfo,xn=!0,Hi(t,i,r),Et=u,xn=d;break;case 0:case 11:case 14:case 15:kt||To(2,r,i),kt||To(4,r,i),Hi(t,i,r);break;case 1:kt||(ci(r,i),u=r.stateNode,typeof u.componentWillUnmount=="function"&&ch(r,i,u)),Hi(t,i,r);break;case 21:Hi(t,i,r);break;case 22:kt=(u=kt)||r.memoizedState!==null,Hi(t,i,r),kt=u;break;default:Hi(t,i,r)}}function vh(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{_a(t)}catch(r){xt(i,i.return,r)}}function my(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ph),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ph),i;default:throw Error(l(435,t.tag))}}function pc(t,i){var r=my(t);i.forEach(function(u){var d=wy.bind(null,t,u);r.has(u)||(r.add(u),u.then(d,d))})}function An(t,i){var r=i.deletions;if(r!==null)for(var u=0;u<r.length;u++){var d=r[u],x=t,E=i,N=E;e:for(;N!==null;){switch(N.tag){case 27:if(Mo(N.type)){Et=N.stateNode,xn=!1;break e}break;case 5:Et=N.stateNode,xn=!1;break e;case 3:case 4:Et=N.stateNode.containerInfo,xn=!0;break e}N=N.return}if(Et===null)throw Error(l(160));yh(x,E,d),Et=null,xn=!1,x=d.alternate,x!==null&&(x.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)xh(i,t),i=i.sibling}var $n=null;function xh(t,i){var r=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(i,t),Mn(t),u&4&&(To(3,t,t.return),sa(3,t),To(5,t,t.return));break;case 1:An(i,t),Mn(t),u&512&&(kt||r===null||ci(r,r.return)),u&64&&Oi&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var d=$n;if(An(i,t),Mn(t),u&512&&(kt||r===null||ci(r,r.return)),u&4){var x=r!==null?r.memoizedState:null;if(u=t.memoizedState,r===null)if(u===null)if(t.stateNode===null){e:{u=t.type,r=t.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":x=d.getElementsByTagName("title")[0],(!x||x[yn]||x[Qe]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=d.createElement(u),d.head.insertBefore(x,d.querySelector("head > title"))),Zt(x,u,r),x[Qe]=t,Nt(x),u=x;break e;case"link":var E=hp("link","href",d).get(u+(r.href||""));if(E){for(var N=0;N<E.length;N++)if(x=E[N],x.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&x.getAttribute("rel")===(r.rel==null?null:r.rel)&&x.getAttribute("title")===(r.title==null?null:r.title)&&x.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){E.splice(N,1);break t}}x=d.createElement(u),Zt(x,u,r),d.head.appendChild(x);break;case"meta":if(E=hp("meta","content",d).get(u+(r.content||""))){for(N=0;N<E.length;N++)if(x=E[N],x.getAttribute("content")===(r.content==null?null:""+r.content)&&x.getAttribute("name")===(r.name==null?null:r.name)&&x.getAttribute("property")===(r.property==null?null:r.property)&&x.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&x.getAttribute("charset")===(r.charSet==null?null:r.charSet)){E.splice(N,1);break t}}x=d.createElement(u),Zt(x,u,r),d.head.appendChild(x);break;default:throw Error(l(468,u))}x[Qe]=t,Nt(x),u=x}t.stateNode=u}else pp(d,t.type,t.stateNode);else t.stateNode=dp(d,u,t.memoizedProps);else x!==u?(x===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):x.count--,u===null?pp(d,t.type,t.stateNode):dp(d,u,t.memoizedProps)):u===null&&t.stateNode!==null&&cc(t,t.memoizedProps,r.memoizedProps)}break;case 27:An(i,t),Mn(t),u&512&&(kt||r===null||ci(r,r.return)),r!==null&&u&4&&cc(t,t.memoizedProps,r.memoizedProps);break;case 5:if(An(i,t),Mn(t),u&512&&(kt||r===null||ci(r,r.return)),t.flags&32){d=t.stateNode;try{no(d,"")}catch(Z){xt(t,t.return,Z)}}u&4&&t.stateNode!=null&&(d=t.memoizedProps,cc(t,d,r!==null?r.memoizedProps:d)),u&1024&&(hc=!0);break;case 6:if(An(i,t),Mn(t),u&4){if(t.stateNode===null)throw Error(l(162));u=t.memoizedProps,r=t.stateNode;try{r.nodeValue=u}catch(Z){xt(t,t.return,Z)}}break;case 3:if(qs=null,d=$n,$n=Ps(i.containerInfo),An(i,t),$n=d,Mn(t),u&4&&r!==null&&r.memoizedState.isDehydrated)try{_a(i.containerInfo)}catch(Z){xt(t,t.return,Z)}hc&&(hc=!1,Th(t));break;case 4:u=$n,$n=Ps(t.stateNode.containerInfo),An(i,t),Mn(t),$n=u;break;case 12:An(i,t),Mn(t);break;case 13:An(i,t),Mn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Tc=kn()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,pc(t,u)));break;case 22:d=t.memoizedState!==null;var k=r!==null&&r.memoizedState!==null,j=Oi,re=kt;if(Oi=j||d,kt=re||k,An(i,t),kt=re,Oi=j,Mn(t),u&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(r===null||k||Oi||kt||nl(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){k=r=i;try{if(x=k.stateNode,d)E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{N=k.stateNode;var ue=k.memoizedProps.style,$=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;N.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Z){xt(k,k.return,Z)}}}else if(i.tag===6){if(r===null){k=i;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(Z){xt(k,k.return,Z)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,pc(t,r))));break;case 19:An(i,t),Mn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,pc(t,u)));break;case 30:break;case 21:break;default:An(i,t),Mn(t)}}function Mn(t){var i=t.flags;if(i&2){try{for(var r,u=t.return;u!==null;){if(dh(u)){r=u;break}u=u.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var d=r.stateNode,x=fc(t);bs(t,x,d);break;case 5:var E=r.stateNode;r.flags&32&&(no(E,""),r.flags&=-33);var N=fc(t);bs(t,N,E);break;case 3:case 4:var k=r.stateNode.containerInfo,j=fc(t);dc(t,j,k);break;default:throw Error(l(161))}}catch(re){xt(t,t.return,re)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Th(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Th(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function So(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)mh(t,i.alternate,i),i=i.sibling}function nl(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:To(4,i,i.return),nl(i);break;case 1:ci(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&ch(i,i.return,r),nl(i);break;case 27:va(i.stateNode);case 26:case 5:ci(i,i.return),nl(i);break;case 22:i.memoizedState===null&&nl(i);break;case 30:nl(i);break;default:nl(i)}t=t.sibling}}function Co(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,d=t,x=i,E=x.flags;switch(x.tag){case 0:case 11:case 15:Co(d,x,r),sa(4,x);break;case 1:if(Co(d,x,r),u=x,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(j){xt(u,u.return,j)}if(u=x,d=u.updateQueue,d!==null){var N=u.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)Qf(k[d],N)}catch(j){xt(u,u.return,j)}}r&&E&64&&uh(x),ua(x,x.return);break;case 27:hh(x);case 26:case 5:Co(d,x,r),r&&u===null&&E&4&&fh(x),ua(x,x.return);break;case 12:Co(d,x,r);break;case 13:Co(d,x,r),r&&E&4&&vh(d,x);break;case 22:x.memoizedState===null&&Co(d,x,r),ua(x,x.return);break;case 30:break;default:Co(d,x,r)}i=i.sibling}}function mc(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&jr(r))}function gc(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&jr(t))}function fi(t,i,r,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Sh(t,i,r,u),i=i.sibling}function Sh(t,i,r,u){var d=i.flags;switch(i.tag){case 0:case 11:case 15:fi(t,i,r,u),d&2048&&sa(9,i);break;case 1:fi(t,i,r,u);break;case 3:fi(t,i,r,u),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&jr(t)));break;case 12:if(d&2048){fi(t,i,r,u),t=i.stateNode;try{var x=i.memoizedProps,E=x.id,N=x.onPostCommit;typeof N=="function"&&N(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){xt(i,i.return,k)}}else fi(t,i,r,u);break;case 13:fi(t,i,r,u);break;case 23:break;case 22:x=i.stateNode,E=i.alternate,i.memoizedState!==null?x._visibility&2?fi(t,i,r,u):ca(t,i):x._visibility&2?fi(t,i,r,u):(x._visibility|=2,$l(t,i,r,u,(i.subtreeFlags&10256)!==0)),d&2048&&mc(E,i);break;case 24:fi(t,i,r,u),d&2048&&gc(i.alternate,i);break;default:fi(t,i,r,u)}}function $l(t,i,r,u,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var x=t,E=i,N=r,k=u,j=E.flags;switch(E.tag){case 0:case 11:case 15:$l(x,E,N,k,d),sa(8,E);break;case 23:break;case 22:var re=E.stateNode;E.memoizedState!==null?re._visibility&2?$l(x,E,N,k,d):ca(x,E):(re._visibility|=2,$l(x,E,N,k,d)),d&&j&2048&&mc(E.alternate,E);break;case 24:$l(x,E,N,k,d),d&&j&2048&&gc(E.alternate,E);break;default:$l(x,E,N,k,d)}i=i.sibling}}function ca(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,u=i,d=u.flags;switch(u.tag){case 22:ca(r,u),d&2048&&mc(u.alternate,u);break;case 24:ca(r,u),d&2048&&gc(u.alternate,u);break;default:ca(r,u)}i=i.sibling}}var fa=8192;function Zl(t){if(t.subtreeFlags&fa)for(t=t.child;t!==null;)Ch(t),t=t.sibling}function Ch(t){switch(t.tag){case 26:Zl(t),t.flags&fa&&t.memoizedState!==null&&ev($n,t.memoizedState,t.memoizedProps);break;case 5:Zl(t);break;case 3:case 4:var i=$n;$n=Ps(t.stateNode.containerInfo),Zl(t),$n=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=fa,fa=16777216,Zl(t),fa=i):Zl(t));break;default:Zl(t)}}function bh(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function da(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var u=i[r];zt=u,Eh(u,t)}bh(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wh(t),t=t.sibling}function wh(t){switch(t.tag){case 0:case 11:case 15:da(t),t.flags&2048&&To(9,t,t.return);break;case 3:da(t);break;case 12:da(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,ws(t)):da(t);break;default:da(t)}}function ws(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var u=i[r];zt=u,Eh(u,t)}bh(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:To(8,i,i.return),ws(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,ws(i));break;default:ws(i)}t=t.sibling}}function Eh(t,i){for(;zt!==null;){var r=zt;switch(r.tag){case 0:case 11:case 15:To(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:jr(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,zt=u;else e:for(r=t;zt!==null;){u=zt;var d=u.sibling,x=u.return;if(gh(u),u===r){zt=null;break e}if(d!==null){d.return=x,zt=d;break e}zt=x}}}var gy={getCacheForType:function(t){var i=nn(qt),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r}},yy=typeof WeakMap=="function"?WeakMap:Map,dt=0,St=null,nt=null,lt=0,ht=0,Nn=null,bo=!1,Wl=!1,yc=!1,zi=0,Mt=0,wo=0,il=0,vc=0,On=0,er=0,ha=null,Tn=null,xc=!1,Tc=0,Es=1/0,_s=null,Eo=null,$t=0,_o=null,tr=null,nr=0,Sc=0,Cc=null,_h=null,pa=0,bc=null;function Rn(){if((dt&2)!==0&&lt!==0)return lt&-lt;if(X.T!==null){var t=zl;return t!==0?t:Rc()}return xi()}function Ah(){On===0&&(On=(lt&536870912)===0||ct?we():536870912);var t=Bn.current;return t!==null&&(t.flags|=32),On}function Dn(t,i,r){(t===St&&(ht===2||ht===9)||t.cancelPendingCommit!==null)&&(ir(t,0),Ao(t,lt,On,!1)),vi(t,r),((dt&2)===0||t!==St)&&(t===St&&((dt&2)===0&&(il|=r),Mt===4&&Ao(t,lt,On,!1)),di(t))}function Mh(t,i,r){if((dt&6)!==0)throw Error(l(327));var u=!r&&(i&124)===0&&(i&t.expiredLanes)===0||Cn(t,i),d=u?Ty(t,i):_c(t,i,!0),x=u;do{if(d===0){Wl&&!u&&Ao(t,i,0,!1);break}else{if(r=t.current.alternate,x&&!vy(r)){d=_c(t,i,!1),x=!1;continue}if(d===2){if(x=i,t.errorRecoveryDisabledLanes&x)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var N=t;d=ha;var k=N.current.memoizedState.isDehydrated;if(k&&(ir(N,E).flags|=256),E=_c(N,E,!1),E!==2){if(yc&&!k){N.errorRecoveryDisabledLanes|=x,il|=x,d=4;break e}x=Tn,Tn=d,x!==null&&(Tn===null?Tn=x:Tn.push.apply(Tn,x))}d=E}if(x=!1,d!==2)continue}}if(d===1){ir(t,0),Ao(t,i,0,!0);break}e:{switch(u=t,x=d,x){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:Ao(u,i,On,!bo);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(d=Tc+300-kn(),10<d)){if(Ao(u,i,On,!bo),Wn(u,0,!0)!==0)break e;u.timeoutHandle=ip(Nh.bind(null,u,r,Tn,_s,xc,i,On,il,er,bo,x,2,-0,0),d);break e}Nh(u,r,Tn,_s,xc,i,On,il,er,bo,x,0,-0,0)}}break}while(!0);di(t)}function Nh(t,i,r,u,d,x,E,N,k,j,re,ue,$,Z){if(t.timeoutHandle=-1,ue=i.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Sa={stylesheets:null,count:0,unsuspend:Wy},Ch(i),ue=tv(),ue!==null)){t.cancelPendingCommit=ue(Ph.bind(null,t,i,x,r,u,d,E,N,k,re,1,$,Z)),Ao(t,x,E,!j);return}Ph(t,i,x,r,u,d,E,N,k)}function vy(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var d=r[u],x=d.getSnapshot;d=d.value;try{if(!tn(x(),d))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ao(t,i,r,u){i&=~vc,i&=~il,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var d=i;0<d;){var x=31-Jt(d),E=1<<x;u[x]=-1,d&=~E}r!==0&&gl(t,r,i)}function As(){return(dt&6)===0?(ma(0),!1):!0}function wc(){if(nt!==null){if(ht===0)var t=nt.return;else t=nt,Li=$o=null,Ou(t),Ql=null,la=0,t=nt;for(;t!==null;)sh(t.alternate,t),t=t.return;nt=null}}function ir(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Py(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),wc(),St=t,nt=r=ki(t.current,null),lt=i,ht=0,Nn=null,bo=!1,Wl=Cn(t,i),yc=!1,er=On=vc=il=wo=Mt=0,Tn=ha=null,xc=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var d=31-Jt(u),x=1<<d;i|=t[d],u&=~x}return zi=i,Ke(),r}function Rh(t,i){$e=null,X.H=ps,i===Xr||i===os?(i=Jf(),ht=3):i===Ff?(i=Jf(),ht=4):ht=i===jd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Nn=i,nt===null&&(Mt=1,xs(t,Ue(i,t.current)))}function Dh(){var t=X.H;return X.H=ps,t===null?ps:t}function kh(){var t=X.A;return X.A=gy,t}function Ec(){Mt=4,bo||(lt&4194048)!==lt&&Bn.current!==null||(Wl=!0),(wo&134217727)===0&&(il&134217727)===0||St===null||Ao(St,lt,On,!1)}function _c(t,i,r){var u=dt;dt|=2;var d=Dh(),x=kh();(St!==t||lt!==i)&&(_s=null,ir(t,i)),i=!1;var E=Mt;e:do try{if(ht!==0&&nt!==null){var N=nt,k=Nn;switch(ht){case 8:wc(),E=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(i=!0);var j=ht;if(ht=0,Nn=null,or(t,N,k,j),r&&Wl){E=0;break e}break;default:j=ht,ht=0,Nn=null,or(t,N,k,j)}}xy(),E=Mt;break}catch(re){Rh(t,re)}while(!0);return i&&t.shellSuspendCounter++,Li=$o=null,dt=u,X.H=d,X.A=x,nt===null&&(St=null,lt=0,Ke()),E}function xy(){for(;nt!==null;)Ih(nt)}function Ty(t,i){var r=dt;dt|=2;var u=Dh(),d=kh();St!==t||lt!==i?(_s=null,Es=kn()+500,ir(t,i)):Wl=Cn(t,i);e:do try{if(ht!==0&&nt!==null){i=nt;var x=Nn;t:switch(ht){case 1:ht=0,Nn=null,or(t,i,x,1);break;case 2:case 9:if(Yf(x)){ht=0,Nn=null,Uh(i);break}i=function(){ht!==2&&ht!==9||St!==t||(ht=7),di(t)},x.then(i,i);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:Yf(x)?(ht=0,Nn=null,Uh(i)):(ht=0,Nn=null,or(t,i,x,7));break;case 5:var E=null;switch(nt.tag){case 26:E=nt.memoizedState;case 5:case 27:var N=nt;if(!E||mp(E)){ht=0,Nn=null;var k=N.sibling;if(k!==null)nt=k;else{var j=N.return;j!==null?(nt=j,Ms(j)):nt=null}break t}}ht=0,Nn=null,or(t,i,x,5);break;case 6:ht=0,Nn=null,or(t,i,x,6);break;case 8:wc(),Mt=6;break e;default:throw Error(l(462))}}Sy();break}catch(re){Rh(t,re)}while(!0);return Li=$o=null,X.H=u,X.A=d,dt=r,nt!==null?0:(St=null,lt=0,Ke(),Mt)}function Sy(){for(;nt!==null&&!gi();)Ih(nt)}function Ih(t){var i=rh(t.alternate,t,zi);t.memoizedProps=t.pendingProps,i===null?Ms(t):nt=i}function Uh(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=eh(r,i,i.pendingProps,i.type,void 0,lt);break;case 11:i=eh(r,i,i.pendingProps,i.type.render,i.ref,lt);break;case 5:Ou(i);default:sh(r,i),i=nt=Lf(i,zi),i=rh(r,i,zi)}t.memoizedProps=t.pendingProps,i===null?Ms(t):nt=i}function or(t,i,r,u){Li=$o=null,Ou(i),Ql=null,la=0;var d=i.return;try{if(cy(t,d,i,r,lt)){Mt=1,xs(t,Ue(r,t.current)),nt=null;return}}catch(x){if(d!==null)throw nt=d,x;Mt=1,xs(t,Ue(r,t.current)),nt=null;return}i.flags&32768?(ct||u===1?t=!0:Wl||(lt&536870912)!==0?t=!1:(bo=t=!0,(u===2||u===9||u===3||u===6)&&(u=Bn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Lh(i,t)):Ms(i)}function Ms(t){var i=t;do{if((i.flags&32768)!==0){Lh(i,bo);return}t=i.return;var r=dy(i.alternate,i,zi);if(r!==null){nt=r;return}if(i=i.sibling,i!==null){nt=i;return}nt=i=t}while(i!==null);Mt===0&&(Mt=5)}function Lh(t,i){do{var r=hy(t.alternate,t);if(r!==null){r.flags&=32767,nt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){nt=t;return}nt=t=r}while(t!==null);Mt=6,nt=null}function Ph(t,i,r,u,d,x,E,N,k){t.cancelPendingCommit=null;do Ns();while($t!==0);if((dt&6)!==0)throw Error(l(327));if(i!==null){if(i===t.current)throw Error(l(177));if(x=i.lanes|i.childLanes,x|=hn,La(t,r,x,E,N,k),t===St&&(nt=St=null,lt=0),tr=i,_o=t,nr=r,Sc=x,Cc=d,_h=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ey(an,function(){return Oh(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,d=ye.p,ye.p=2,E=dt,dt|=4;try{py(t,i,r)}finally{dt=E,ye.p=d,X.T=u}}$t=1,Vh(),qh(),Gh()}}function Vh(){if($t===1){$t=0;var t=_o,i=tr,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=X.T,X.T=null;var u=ye.p;ye.p=2;var d=dt;dt|=4;try{xh(i,t);var x=qc,E=_(t.containerInfo),N=x.focusedElem,k=x.selectionRange;if(E!==N&&N&&N.ownerDocument&&b(N.ownerDocument.documentElement,N)){if(k!==null&&M(N)){var j=k.start,re=k.end;if(re===void 0&&(re=j),"selectionStart"in N)N.selectionStart=j,N.selectionEnd=Math.min(re,N.value.length);else{var ue=N.ownerDocument||document,$=ue&&ue.defaultView||window;if($.getSelection){var Z=$.getSelection(),Oe=N.textContent.length,Ge=Math.min(k.start,Oe),vt=k.end===void 0?Ge:Math.min(k.end,Oe);!Z.extend&&Ge>vt&&(E=vt,vt=Ge,Ge=E);var F=S(N,Ge),q=S(N,vt);if(F&&q&&(Z.rangeCount!==1||Z.anchorNode!==F.node||Z.anchorOffset!==F.offset||Z.focusNode!==q.node||Z.focusOffset!==q.offset)){var K=ue.createRange();K.setStart(F.node,F.offset),Z.removeAllRanges(),Ge>vt?(Z.addRange(K),Z.extend(q.node,q.offset)):(K.setEnd(q.node,q.offset),Z.addRange(K))}}}}for(ue=[],Z=N;Z=Z.parentNode;)Z.nodeType===1&&ue.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ue.length;N++){var se=ue[N];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Os=!!Vc,qc=Vc=null}finally{dt=d,ye.p=u,X.T=r}}t.current=i,$t=2}}function qh(){if($t===2){$t=0;var t=_o,i=tr,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=X.T,X.T=null;var u=ye.p;ye.p=2;var d=dt;dt|=4;try{mh(t,i.alternate,i)}finally{dt=d,ye.p=u,X.T=r}}$t=3}}function Gh(){if($t===4||$t===3){$t=0,fu();var t=_o,i=tr,r=nr,u=_h;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$t=5:($t=0,tr=_o=null,Bh(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Eo=null),ei(r),i=i.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Yn,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=X.T,d=ye.p,ye.p=2,X.T=null;try{for(var x=t.onRecoverableError,E=0;E<u.length;E++){var N=u[E];x(N.value,{componentStack:N.stack})}}finally{X.T=i,ye.p=d}}(nr&3)!==0&&Ns(),di(t),d=t.pendingLanes,(r&4194090)!==0&&(d&42)!==0?t===bc?pa++:(pa=0,bc=t):pa=0,ma(0)}}function Bh(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,jr(i)))}function Ns(t){return Vh(),qh(),Gh(),Oh()}function Oh(){if($t!==5)return!1;var t=_o,i=Sc;Sc=0;var r=ei(nr),u=X.T,d=ye.p;try{ye.p=32>r?32:r,X.T=null,r=Cc,Cc=null;var x=_o,E=nr;if($t=0,tr=_o=null,nr=0,(dt&6)!==0)throw Error(l(331));var N=dt;if(dt|=4,wh(x.current),Sh(x,x.current,E,r),dt=N,ma(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Yn,x)}catch{}return!0}finally{ye.p=d,X.T=u,Bh(t,i)}}function Hh(t,i,r){i=Ue(r,i),i=tc(t.stateNode,i,2),t=go(t,i,2),t!==null&&(vi(t,2),di(t))}function xt(t,i,r){if(t.tag===3)Hh(t,t,r);else for(;i!==null;){if(i.tag===3){Hh(i,t,r);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Eo===null||!Eo.has(u))){t=Ue(r,t),r=Kd(2),u=go(i,r,2),u!==null&&(Jd(r,u,i,t),vi(u,2),di(u));break}}i=i.return}}function Ac(t,i,r){var u=t.pingCache;if(u===null){u=t.pingCache=new yy;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(r)||(yc=!0,d.add(r),t=Cy.bind(null,t,i,r),i.then(t,t))}function Cy(t,i,r){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,St===t&&(lt&r)===r&&(Mt===4||Mt===3&&(lt&62914560)===lt&&300>kn()-Tc?(dt&2)===0&&ir(t,0):vc|=r,er===lt&&(er=0)),di(t)}function zh(t,i){i===0&&(i=pl()),t=Xn(t,i),t!==null&&(vi(t,i),di(t))}function by(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),zh(t,r)}function wy(t,i){var r=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(r=d.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(l(314))}u!==null&&u.delete(i),zh(t,r)}function Ey(t,i){return mi(t,i)}var Rs=null,lr=null,Mc=!1,Ds=!1,Nc=!1,ol=0;function di(t){t!==lr&&t.next===null&&(lr===null?Rs=lr=t:lr=lr.next=t),Ds=!0,Mc||(Mc=!0,Ay())}function ma(t,i){if(!Nc&&Ds){Nc=!0;do for(var r=!1,u=Rs;u!==null;){if(t!==0){var d=u.pendingLanes;if(d===0)var x=0;else{var E=u.suspendedLanes,N=u.pingedLanes;x=(1<<31-Jt(42|t)+1)-1,x&=d&~(E&~N),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(r=!0,Jh(u,x))}else x=lt,x=Wn(u,u===St?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||Cn(u,x)||(r=!0,Jh(u,x));u=u.next}while(r);Nc=!1}}function _y(){Fh()}function Fh(){Ds=Mc=!1;var t=0;ol!==0&&(Ly()&&(t=ol),ol=0);for(var i=kn(),r=null,u=Rs;u!==null;){var d=u.next,x=Yh(u,i);x===0?(u.next=null,r===null?Rs=d:r.next=d,d===null&&(lr=r)):(r=u,(t!==0||(x&3)!==0)&&(Ds=!0)),u=d}ma(t)}function Yh(t,i){for(var r=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,x=t.pendingLanes&-62914561;0<x;){var E=31-Jt(x),N=1<<E,k=d[E];k===-1?((N&r)===0||(N&u)!==0)&&(d[E]=hl(N,i)):k<=i&&(t.expiredLanes|=N),x&=~N}if(i=St,r=lt,r=Wn(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,r===0||t===i&&(ht===2||ht===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Tr(u),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Cn(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(u!==null&&Tr(u),ei(r)){case 2:case 8:r=cl;break;case 32:r=an;break;case 268435456:r=ji;break;default:r=an}return u=Kh.bind(null,t),r=mi(r,u),t.callbackPriority=i,t.callbackNode=r,i}return u!==null&&u!==null&&Tr(u),t.callbackPriority=2,t.callbackNode=null,2}function Kh(t,i){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Ns()&&t.callbackNode!==r)return null;var u=lt;return u=Wn(t,t===St?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(Mh(t,u,i),Yh(t,kn()),t.callbackNode!=null&&t.callbackNode===r?Kh.bind(null,t):null)}function Jh(t,i){if(Ns())return null;Mh(t,i,!0)}function Ay(){Vy(function(){(dt&6)!==0?mi(ka,_y):Fh()})}function Rc(){return ol===0&&(ol=we()),ol}function jh(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:bi(""+t)}function Qh(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function My(t,i,r,u,d){if(i==="submit"&&r&&r.stateNode===d){var x=jh((d[at]||null).action),E=u.submitter;E&&(i=(i=E[at]||null)?jh(i.formAction):E.getAttribute("formAction"),i!==null&&(x=i,E=null));var N=new El("action","action",null,u,d);t.push({event:N,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ol!==0){var k=E?Qh(d,E):new FormData(d);Xu(r,{pending:!0,data:k,method:d.method,action:x},null,k)}}else typeof x=="function"&&(N.preventDefault(),k=E?Qh(d,E):new FormData(d),Xu(r,{pending:!0,data:k,method:d.method,action:x},x,k))},currentTarget:d}]})}}for(var Dc=0;Dc<Te.length;Dc++){var kc=Te[Dc],Ny=kc.toLowerCase(),Ry=kc[0].toUpperCase()+kc.slice(1);de(Ny,"on"+Ry)}de(Q,"onAnimationEnd"),de(W,"onAnimationIteration"),de(ee,"onAnimationStart"),de("dblclick","onDoubleClick"),de("focusin","onFocus"),de("focusout","onBlur"),de(le,"onTransitionRun"),de(ge,"onTransitionStart"),de(Se,"onTransitionCancel"),de(me,"onTransitionEnd"),pt("onMouseEnter",["mouseout","mouseover"]),pt("onMouseLeave",["mouseout","mouseover"]),pt("onPointerEnter",["pointerout","pointerover"]),pt("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ga));function Xh(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var u=t[r],d=u.event;u=u.listeners;e:{var x=void 0;if(i)for(var E=u.length-1;0<=E;E--){var N=u[E],k=N.instance,j=N.currentTarget;if(N=N.listener,k!==x&&d.isPropagationStopped())break e;x=N,d.currentTarget=j;try{x(d)}catch(re){vs(re)}d.currentTarget=null,x=k}else for(E=0;E<u.length;E++){if(N=u[E],k=N.instance,j=N.currentTarget,N=N.listener,k!==x&&d.isPropagationStopped())break e;x=N,d.currentTarget=j;try{x(d)}catch(re){vs(re)}d.currentTarget=null,x=k}}}}function it(t,i){var r=i[$i];r===void 0&&(r=i[$i]=new Set);var u=t+"__bubble";r.has(u)||($h(i,t,2,!1),r.add(u))}function Ic(t,i,r){var u=0;i&&(u|=4),$h(r,t,u,i)}var ks="_reactListening"+Math.random().toString(36).slice(2);function Uc(t){if(!t[ks]){t[ks]=!0,ni.forEach(function(r){r!=="selectionchange"&&(Dy.has(r)||Ic(r,!1,t),Ic(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ks]||(i[ks]=!0,Ic("selectionchange",!1,i))}}function $h(t,i,r,u){switch(Sp(i)){case 2:var d=ov;break;case 8:d=lv;break;default:d=jc}r=d.bind(null,i,r,t),d=void 0,!Rr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(i,r,{capture:!0,passive:d}):t.addEventListener(i,r,!0):d!==void 0?t.addEventListener(i,r,{passive:d}):t.addEventListener(i,r,!1)}function Lc(t,i,r,u,d){var x=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var N=u.stateNode.containerInfo;if(N===d)break;if(E===4)for(E=u.return;E!==null;){var k=E.tag;if((k===3||k===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;N!==null;){if(E=sn(N),E===null)return;if(k=E.tag,k===5||k===6||k===26||k===27){u=x=E;continue e}N=N.parentNode}}u=u.return}oo(function(){var j=x,re=bl(r),ue=[];e:{var $=ve.get(t);if($!==void 0){var Z=El,Oe=t;switch(t){case"keypress":if(ao(r)===0)break e;case"keydown":case"keyup":Z=Il;break;case"focusin":Oe="focus",Z=so;break;case"focusout":Oe="blur",Z=so;break;case"beforeblur":case"afterblur":Z=so;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Oa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Vr;break;case Q:case W:case ee:Z=Ha;break;case me:Z=qr;break;case"scroll":case"scrollend":Z=_l;break;case"wheel":Z=Ll;break;case"copy":case"cut":case"paste":Z=Dl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Pr;break;case"toggle":case"beforetoggle":Z=Ya}var Ge=(i&4)!==0,vt=!Ge&&(t==="scroll"||t==="scrollend"),F=Ge?$!==null?$+"Capture":null:$;Ge=[];for(var q=j,K;q!==null;){var se=q;if(K=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||K===null||F===null||(se=_i(q,F),se!=null&&Ge.push(ya(q,se,K))),vt)break;q=q.return}0<Ge.length&&($=new Z($,Oe,null,r,re),ue.push({event:$,listeners:Ge}))}}if((i&7)===0){e:{if($=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",$&&r!==Un&&(Oe=r.relatedTarget||r.fromElement)&&(sn(Oe)||Oe[Xi]))break e;if((Z||$)&&($=re.window===re?re:($=re.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(Oe=r.relatedTarget||r.toElement,Z=j,Oe=Oe?sn(Oe):null,Oe!==null&&(vt=h(Oe),Ge=Oe.tag,Oe!==vt||Ge!==5&&Ge!==27&&Ge!==6)&&(Oe=null)):(Z=null,Oe=j),Z!==Oe)){if(Ge=Ml,se="onMouseLeave",F="onMouseEnter",q="mouse",(t==="pointerout"||t==="pointerover")&&(Ge=Pr,se="onPointerLeave",F="onPointerEnter",q="pointer"),vt=Z==null?$:Po(Z),K=Oe==null?$:Po(Oe),$=new Ge(se,q+"leave",Z,r,re),$.target=vt,$.relatedTarget=K,se=null,sn(re)===j&&(Ge=new Ge(F,q+"enter",Oe,r,re),Ge.target=K,Ge.relatedTarget=vt,se=Ge),vt=se,Z&&Oe)t:{for(Ge=Z,F=Oe,q=0,K=Ge;K;K=rr(K))q++;for(K=0,se=F;se;se=rr(se))K++;for(;0<q-K;)Ge=rr(Ge),q--;for(;0<K-q;)F=rr(F),K--;for(;q--;){if(Ge===F||F!==null&&Ge===F.alternate)break t;Ge=rr(Ge),F=rr(F)}Ge=null}else Ge=null;Z!==null&&Zh(ue,$,Z,Ge,!1),Oe!==null&&vt!==null&&Zh(ue,vt,Oe,Ge,!0)}}e:{if($=j?Po(j):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var Re=Yo;else if(ql($))if(Pn)Re=fo;else{Re=Di;var We=$a}else Z=$.nodeName,!Z||Z.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?j&&Nr(j.elementType)&&(Re=Yo):Re=zr;if(Re&&(Re=Re(t,j))){Hr(ue,Re,r,re);break e}We&&We(t,$,j),t==="focusout"&&j&&$.type==="number"&&j.memoizedProps.value!=null&&Sl($,"number",$.value)}switch(We=j?Po(j):window,t){case"focusin":(ql(We)||We.contentEditable==="true")&&(D=We,G=j,P=null);break;case"focusout":P=G=D=null;break;case"mousedown":z=!0;break;case"contextmenu":case"mouseup":case"dragend":z=!1,L(ue,r,re);break;case"selectionchange":if(R)break;case"keydown":case"keyup":L(ue,r,re)}var Ie;if(zo)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ri?Or(t,r)&&(Be="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Be="onCompositionStart");Be&&(Pl&&r.locale!=="ko"&&(Ri||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ri&&(Ie=ro()):(Ln=re,wl="value"in Ln?Ln.value:Ln.textContent,Ri=!0)),We=Is(j,Be),0<We.length&&(Be=new kl(Be,t,null,r,re),ue.push({event:Be,listeners:We}),Ie?Be.data=Ie:(Ie=Ja(r),Ie!==null&&(Be.data=Ie)))),(Ie=mu?ja(t,r):gu(t,r))&&(Be=Is(j,"onBeforeInput"),0<Be.length&&(We=new kl("onBeforeInput","beforeinput",null,r,re),ue.push({event:We,listeners:Be}),We.data=Ie)),My(ue,t,j,r,re)}Xh(ue,i)})}function ya(t,i,r){return{instance:t,listener:i,currentTarget:r}}function Is(t,i){for(var r=i+"Capture",u=[];t!==null;){var d=t,x=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||x===null||(d=_i(t,r),d!=null&&u.unshift(ya(t,d,x)),d=_i(t,i),d!=null&&u.push(ya(t,d,x))),t.tag===3)return u;t=t.return}return[]}function rr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zh(t,i,r,u,d){for(var x=i._reactName,E=[];r!==null&&r!==u;){var N=r,k=N.alternate,j=N.stateNode;if(N=N.tag,k!==null&&k===u)break;N!==5&&N!==26&&N!==27||j===null||(k=j,d?(j=_i(r,x),j!=null&&E.unshift(ya(r,j,k))):d||(j=_i(r,x),j!=null&&E.push(ya(r,j,k)))),r=r.return}E.length!==0&&t.push({event:i,listeners:E})}var ky=/\r\n?/g,Iy=/\u0000|\uFFFD/g;function Wh(t){return(typeof t=="string"?t:""+t).replace(ky,`
`).replace(Iy,"")}function ep(t,i){return i=Wh(i),Wh(t)===i}function Us(){}function yt(t,i,r,u,d,x){switch(r){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||no(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&no(t,""+u);break;case"className":Wi(t,"class",u);break;case"tabIndex":Wi(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Wi(t,r,u);break;case"style":Ga(t,u,x);break;case"data":if(i!=="object"){Wi(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(r);break}u=bi(""+u),t.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(r==="formAction"?(i!=="input"&&yt(t,i,"name",d.name,d,null),yt(t,i,"formEncType",d.formEncType,d,null),yt(t,i,"formMethod",d.formMethod,d,null),yt(t,i,"formTarget",d.formTarget,d,null)):(yt(t,i,"encType",d.encType,d,null),yt(t,i,"method",d.method,d,null),yt(t,i,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(r);break}u=bi(""+u),t.setAttribute(r,u);break;case"onClick":u!=null&&(t.onclick=Us);break;case"onScroll":u!=null&&it("scroll",t);break;case"onScrollEnd":u!=null&&it("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(r=u.__html,r!=null){if(d.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}r=bi(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(r,""+u):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":u===!0?t.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(r,u):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(r,u):t.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(r):t.setAttribute(r,u);break;case"popover":it("beforetoggle",t),it("toggle",t),Si(t,"popover",u);break;case"xlinkActuate":wn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":wn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":wn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":wn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":wn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":wn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":wn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":wn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":wn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Si(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fn.get(r)||r,Si(t,r,u))}}function Pc(t,i,r,u,d,x){switch(r){case"style":Ga(t,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(r=u.__html,r!=null){if(d.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"children":typeof u=="string"?no(t,u):(typeof u=="number"||typeof u=="bigint")&&no(t,""+u);break;case"onScroll":u!=null&&it("scroll",t);break;case"onScrollEnd":u!=null&&it("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Us);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!br.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),i=r.slice(2,d?r.length-7:void 0),x=t[at]||null,x=x!=null?x[r]:null,typeof x=="function"&&t.removeEventListener(i,x,d),typeof u=="function")){typeof x!="function"&&x!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,u,d);break e}r in t?t[r]=u:u===!0?t.setAttribute(r,""):Si(t,r,u)}}}function Zt(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",t),it("load",t);var u=!1,d=!1,x;for(x in r)if(r.hasOwnProperty(x)){var E=r[x];if(E!=null)switch(x){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:yt(t,i,x,E,r,null)}}d&&yt(t,i,"srcSet",r.srcSet,r,null),u&&yt(t,i,"src",r.src,r,null);return;case"input":it("invalid",t);var N=x=E=d=null,k=null,j=null;for(u in r)if(r.hasOwnProperty(u)){var re=r[u];if(re!=null)switch(u){case"name":d=re;break;case"type":E=re;break;case"checked":k=re;break;case"defaultChecked":j=re;break;case"value":x=re;break;case"defaultValue":N=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(l(137,i));break;default:yt(t,i,u,re,r,null)}}qo(t,x,N,k,j,E,d,!1),ii(t);return;case"select":it("invalid",t),u=E=x=null;for(d in r)if(r.hasOwnProperty(d)&&(N=r[d],N!=null))switch(d){case"value":x=N;break;case"defaultValue":E=N;break;case"multiple":u=N;default:yt(t,i,d,N,r,null)}i=x,r=E,t.multiple=!!u,i!=null?Wt(t,!!u,i,!1):r!=null&&Wt(t,!!u,r,!0);return;case"textarea":it("invalid",t),x=d=u=null;for(E in r)if(r.hasOwnProperty(E)&&(N=r[E],N!=null))switch(E){case"value":u=N;break;case"defaultValue":d=N;break;case"children":x=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(91));break;default:yt(t,i,E,N,r,null)}Mr(t,u,d,x),ii(t);return;case"option":for(k in r)if(r.hasOwnProperty(k)&&(u=r[k],u!=null))switch(k){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:yt(t,i,k,u,r,null)}return;case"dialog":it("beforetoggle",t),it("toggle",t),it("cancel",t),it("close",t);break;case"iframe":case"object":it("load",t);break;case"video":case"audio":for(u=0;u<ga.length;u++)it(ga[u],t);break;case"image":it("error",t),it("load",t);break;case"details":it("toggle",t);break;case"embed":case"source":case"link":it("error",t),it("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(u=r[j],u!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:yt(t,i,j,u,r,null)}return;default:if(Nr(i)){for(re in r)r.hasOwnProperty(re)&&(u=r[re],u!==void 0&&Pc(t,i,re,u,r,void 0));return}}for(N in r)r.hasOwnProperty(N)&&(u=r[N],u!=null&&yt(t,i,N,u,r,null))}function Uy(t,i,r,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,x=null,E=null,N=null,k=null,j=null,re=null;for(Z in r){var ue=r[Z];if(r.hasOwnProperty(Z)&&ue!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":k=ue;default:u.hasOwnProperty(Z)||yt(t,i,Z,null,u,ue)}}for(var $ in u){var Z=u[$];if(ue=r[$],u.hasOwnProperty($)&&(Z!=null||ue!=null))switch($){case"type":x=Z;break;case"name":d=Z;break;case"checked":j=Z;break;case"defaultChecked":re=Z;break;case"value":E=Z;break;case"defaultValue":N=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(l(137,i));break;default:Z!==ue&&yt(t,i,$,Z,u,ue)}}Tl(t,E,N,k,j,re,x,d);return;case"select":Z=E=N=$=null;for(x in r)if(k=r[x],r.hasOwnProperty(x)&&k!=null)switch(x){case"value":break;case"multiple":Z=k;default:u.hasOwnProperty(x)||yt(t,i,x,null,u,k)}for(d in u)if(x=u[d],k=r[d],u.hasOwnProperty(d)&&(x!=null||k!=null))switch(d){case"value":$=x;break;case"defaultValue":N=x;break;case"multiple":E=x;default:x!==k&&yt(t,i,d,x,u,k)}i=N,r=E,u=Z,$!=null?Wt(t,!!r,$,!1):!!u!=!!r&&(i!=null?Wt(t,!!r,i,!0):Wt(t,!!r,r?[]:"",!1));return;case"textarea":Z=$=null;for(N in r)if(d=r[N],r.hasOwnProperty(N)&&d!=null&&!u.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:yt(t,i,N,null,u,d)}for(E in u)if(d=u[E],x=r[E],u.hasOwnProperty(E)&&(d!=null||x!=null))switch(E){case"value":$=d;break;case"defaultValue":Z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(l(91));break;default:d!==x&&yt(t,i,E,d,u,x)}to(t,$,Z);return;case"option":for(var Oe in r)if($=r[Oe],r.hasOwnProperty(Oe)&&$!=null&&!u.hasOwnProperty(Oe))switch(Oe){case"selected":t.selected=!1;break;default:yt(t,i,Oe,null,u,$)}for(k in u)if($=u[k],Z=r[k],u.hasOwnProperty(k)&&$!==Z&&($!=null||Z!=null))switch(k){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:yt(t,i,k,$,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in r)$=r[Ge],r.hasOwnProperty(Ge)&&$!=null&&!u.hasOwnProperty(Ge)&&yt(t,i,Ge,null,u,$);for(j in u)if($=u[j],Z=r[j],u.hasOwnProperty(j)&&$!==Z&&($!=null||Z!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,i));break;default:yt(t,i,j,$,u,Z)}return;default:if(Nr(i)){for(var vt in r)$=r[vt],r.hasOwnProperty(vt)&&$!==void 0&&!u.hasOwnProperty(vt)&&Pc(t,i,vt,void 0,u,$);for(re in u)$=u[re],Z=r[re],!u.hasOwnProperty(re)||$===Z||$===void 0&&Z===void 0||Pc(t,i,re,$,u,Z);return}}for(var F in r)$=r[F],r.hasOwnProperty(F)&&$!=null&&!u.hasOwnProperty(F)&&yt(t,i,F,null,u,$);for(ue in u)$=u[ue],Z=r[ue],!u.hasOwnProperty(ue)||$===Z||$==null&&Z==null||yt(t,i,ue,$,u,Z)}var Vc=null,qc=null;function Ls(t){return t.nodeType===9?t:t.ownerDocument}function tp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function np(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Gc(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bc=null;function Ly(){var t=window.event;return t&&t.type==="popstate"?t===Bc?!1:(Bc=t,!0):(Bc=null,!1)}var ip=typeof setTimeout=="function"?setTimeout:void 0,Py=typeof clearTimeout=="function"?clearTimeout:void 0,op=typeof Promise=="function"?Promise:void 0,Vy=typeof queueMicrotask=="function"?queueMicrotask:typeof op<"u"?function(t){return op.resolve(null).then(t).catch(qy)}:ip;function qy(t){setTimeout(function(){throw t})}function Mo(t){return t==="head"}function lp(t,i){var r=i,u=0,d=0;do{var x=r.nextSibling;if(t.removeChild(r),x&&x.nodeType===8)if(r=x.data,r==="/$"){if(0<u&&8>u){r=u;var E=t.ownerDocument;if(r&1&&va(E.documentElement),r&2&&va(E.body),r&4)for(r=E.head,va(r),E=r.firstChild;E;){var N=E.nextSibling,k=E.nodeName;E[yn]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&E.rel.toLowerCase()==="stylesheet"||r.removeChild(E),E=N}}if(d===0){t.removeChild(x),_a(i);return}d--}else r==="$"||r==="$?"||r==="$!"?d++:u=r.charCodeAt(0)-48;else u=0;r=x}while(r);_a(i)}function Oc(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Oc(r),ti(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Gy(t,i,r,u){for(;t.nodeType===1;){var d=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[yn])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(x=t.getAttribute("rel"),x==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(x!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(x=t.getAttribute("src"),(x!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&x&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var x=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===x)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function By(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Zn(t.nextSibling),t===null))return null;return t}function Hc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Oy(t,i){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")i();else{var u=function(){i(),r.removeEventListener("DOMContentLoaded",u)};r.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var zc=null;function rp(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(i===0)return t;i--}else r==="/$"&&i++}t=t.previousSibling}return null}function ap(t,i,r){switch(i=Ls(r),t){case"html":if(t=i.documentElement,!t)throw Error(l(452));return t;case"head":if(t=i.head,!t)throw Error(l(453));return t;case"body":if(t=i.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function va(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ti(t)}var Hn=new Map,sp=new Set;function Ps(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fi=ye.d;ye.d={f:Hy,r:zy,D:Fy,C:Yy,L:Ky,m:Jy,X:Qy,S:jy,M:Xy};function Hy(){var t=Fi.f(),i=As();return t||i}function zy(t){var i=Kn(t);i!==null&&i.tag===5&&i.type==="form"?Md(i):Fi.r(t)}var ar=typeof document>"u"?null:document;function up(t,i,r){var u=ar;if(u&&typeof i=="string"&&i){var d=jt(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),sp.has(d)||(sp.add(d),t={rel:t,crossOrigin:r,href:i},u.querySelector(d)===null&&(i=u.createElement("link"),Zt(i,"link",t),Nt(i),u.head.appendChild(i)))}}function Fy(t){Fi.D(t),up("dns-prefetch",t,null)}function Yy(t,i){Fi.C(t,i),up("preconnect",t,i)}function Ky(t,i,r){Fi.L(t,i,r);var u=ar;if(u&&t&&i){var d='link[rel="preload"][as="'+jt(i)+'"]';i==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+jt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+jt(r.imageSizes)+'"]')):d+='[href="'+jt(t)+'"]';var x=d;switch(i){case"style":x=sr(t);break;case"script":x=ur(t)}Hn.has(x)||(t=C({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),Hn.set(x,t),u.querySelector(d)!==null||i==="style"&&u.querySelector(xa(x))||i==="script"&&u.querySelector(Ta(x))||(i=u.createElement("link"),Zt(i,"link",t),Nt(i),u.head.appendChild(i)))}}function Jy(t,i){Fi.m(t,i);var r=ar;if(r&&t){var u=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+jt(u)+'"][href="'+jt(t)+'"]',x=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ur(t)}if(!Hn.has(x)&&(t=C({rel:"modulepreload",href:t},i),Hn.set(x,t),r.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ta(x)))return}u=r.createElement("link"),Zt(u,"link",t),Nt(u),r.head.appendChild(u)}}}function jy(t,i,r){Fi.S(t,i,r);var u=ar;if(u&&t){var d=un(u).hoistableStyles,x=sr(t);i=i||"default";var E=d.get(x);if(!E){var N={loading:0,preload:null};if(E=u.querySelector(xa(x)))N.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":i},r),(r=Hn.get(x))&&Fc(t,r);var k=E=u.createElement("link");Nt(k),Zt(k,"link",t),k._p=new Promise(function(j,re){k.onload=j,k.onerror=re}),k.addEventListener("load",function(){N.loading|=1}),k.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Vs(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:N},d.set(x,E)}}}function Qy(t,i){Fi.X(t,i);var r=ar;if(r&&t){var u=un(r).hoistableScripts,d=ur(t),x=u.get(d);x||(x=r.querySelector(Ta(d)),x||(t=C({src:t,async:!0},i),(i=Hn.get(d))&&Yc(t,i),x=r.createElement("script"),Nt(x),Zt(x,"link",t),r.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(d,x))}}function Xy(t,i){Fi.M(t,i);var r=ar;if(r&&t){var u=un(r).hoistableScripts,d=ur(t),x=u.get(d);x||(x=r.querySelector(Ta(d)),x||(t=C({src:t,async:!0,type:"module"},i),(i=Hn.get(d))&&Yc(t,i),x=r.createElement("script"),Nt(x),Zt(x,"link",t),r.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(d,x))}}function cp(t,i,r,u){var d=(d=Ve.current)?Ps(d):null;if(!d)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=sr(r.href),r=un(d).hoistableStyles,u=r.get(i),u||(u={type:"style",instance:null,count:0,state:null},r.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=sr(r.href);var x=un(d).hoistableStyles,E=x.get(t);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(t,E),(x=d.querySelector(xa(t)))&&!x._p&&(E.instance=x,E.state.loading=5),Hn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Hn.set(t,r),x||$y(d,t,r,E.state))),i&&u===null)throw Error(l(528,""));return E}if(i&&u!==null)throw Error(l(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ur(r),r=un(d).hoistableScripts,u=r.get(i),u||(u={type:"script",instance:null,count:0,state:null},r.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function sr(t){return'href="'+jt(t)+'"'}function xa(t){return'link[rel="stylesheet"]['+t+"]"}function fp(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function $y(t,i,r,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Zt(i,"link",r),Nt(i),t.head.appendChild(i))}function ur(t){return'[src="'+jt(t)+'"]'}function Ta(t){return"script[async]"+t}function dp(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+jt(r.href)+'"]');if(u)return i.instance=u,Nt(u),u;var d=C({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Nt(u),Zt(u,"style",d),Vs(u,r.precedence,t),i.instance=u;case"stylesheet":d=sr(r.href);var x=t.querySelector(xa(d));if(x)return i.state.loading|=4,i.instance=x,Nt(x),x;u=fp(r),(d=Hn.get(d))&&Fc(u,d),x=(t.ownerDocument||t).createElement("link"),Nt(x);var E=x;return E._p=new Promise(function(N,k){E.onload=N,E.onerror=k}),Zt(x,"link",u),i.state.loading|=4,Vs(x,r.precedence,t),i.instance=x;case"script":return x=ur(r.src),(d=t.querySelector(Ta(x)))?(i.instance=d,Nt(d),d):(u=r,(d=Hn.get(x))&&(u=C({},r),Yc(u,d)),t=t.ownerDocument||t,d=t.createElement("script"),Nt(d),Zt(d,"link",u),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Vs(u,r.precedence,t));return i.instance}function Vs(t,i,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,x=d,E=0;E<u.length;E++){var N=u[E];if(N.dataset.precedence===i)x=N;else if(x!==d)break}x?x.parentNode.insertBefore(t,x.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function Fc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Yc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var qs=null;function hp(t,i,r){if(qs===null){var u=new Map,d=qs=new Map;d.set(r,u)}else d=qs,u=d.get(r),u||(u=new Map,d.set(r,u));if(u.has(t))return u;for(u.set(t,null),r=r.getElementsByTagName(t),d=0;d<r.length;d++){var x=r[d];if(!(x[yn]||x[Qe]||t==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var E=x.getAttribute(i)||"";E=t+E;var N=u.get(E);N?N.push(x):u.set(E,[x])}}return u}function pp(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function Zy(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function mp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Sa=null;function Wy(){}function ev(t,i,r){if(Sa===null)throw Error(l(475));var u=Sa;if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=sr(r.href),x=t.querySelector(xa(d));if(x){t=x._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=Gs.bind(u),t.then(u,u)),i.state.loading|=4,i.instance=x,Nt(x);return}x=t.ownerDocument||t,r=fp(r),(d=Hn.get(d))&&Fc(r,d),x=x.createElement("link"),Nt(x);var E=x;E._p=new Promise(function(N,k){E.onload=N,E.onerror=k}),Zt(x,"link",r),i.instance=x}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Gs.bind(u),t.addEventListener("load",i),t.addEventListener("error",i))}}function tv(){if(Sa===null)throw Error(l(475));var t=Sa;return t.stylesheets&&t.count===0&&Kc(t,t.stylesheets),0<t.count?function(i){var r=setTimeout(function(){if(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Gs(){if(this.count--,this.count===0){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bs=null;function Kc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bs=new Map,i.forEach(nv,t),Bs=null,Gs.call(t))}function nv(t,i){if(!(i.state.loading&4)){var r=Bs.get(t);if(r)var u=r.get(null);else{r=new Map,Bs.set(t,r);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<d.length;x++){var E=d[x];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(r.set(E.dataset.precedence,E),u=E)}u&&r.set(null,u)}d=i.instance,E=d.getAttribute("data-precedence"),x=r.get(E)||u,x===u&&r.set(null,d),r.set(E,d),this.count++,u=Gs.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),x?x.parentNode.insertBefore(d,x.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Ca={$$typeof:ie,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function iv(t,i,r,u,d,x,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ml(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.hiddenUpdates=ml(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=x,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function gp(t,i,r,u,d,x,E,N,k,j,re,ue){return t=new iv(t,i,r,E,N,k,j,ue),i=1,x===!0&&(i|=24),x=_n(3,null,null,i),t.current=x,x.stateNode=t,i=Au(),i.refCount++,t.pooledCache=i,i.refCount++,x.memoizedState={element:u,isDehydrated:r,cache:i},Du(x),t}function yp(t){return t?(t=ai,t):ai}function vp(t,i,r,u,d,x){d=yp(d),u.context===null?u.context=d:u.pendingContext=d,u=mo(i),u.payload={element:r},x=x===void 0?null:x,x!==null&&(u.callback=x),r=go(t,u,i),r!==null&&(Dn(r,t,i),Zr(r,t,i))}function xp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function Jc(t,i){xp(t,i),(t=t.alternate)&&xp(t,i)}function Tp(t){if(t.tag===13){var i=Xn(t,67108864);i!==null&&Dn(i,t,67108864),Jc(t,67108864)}}var Os=!0;function ov(t,i,r,u){var d=X.T;X.T=null;var x=ye.p;try{ye.p=2,jc(t,i,r,u)}finally{ye.p=x,X.T=d}}function lv(t,i,r,u){var d=X.T;X.T=null;var x=ye.p;try{ye.p=8,jc(t,i,r,u)}finally{ye.p=x,X.T=d}}function jc(t,i,r,u){if(Os){var d=Qc(u);if(d===null)Lc(t,i,u,Hs,r),Cp(t,u);else if(av(d,t,i,r,u))u.stopPropagation();else if(Cp(t,u),i&4&&-1<rv.indexOf(t)){for(;d!==null;){var x=Kn(d);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var E=Me(x.pendingLanes);if(E!==0){var N=x;for(N.pendingLanes|=2,N.entangledLanes|=2;E;){var k=1<<31-Jt(E);N.entanglements[1]|=k,E&=~k}di(x),(dt&6)===0&&(Es=kn()+500,ma(0))}}break;case 13:N=Xn(x,2),N!==null&&Dn(N,x,2),As(),Jc(x,2)}if(x=Qc(u),x===null&&Lc(t,i,u,Hs,r),x===d)break;d=x}d!==null&&u.stopPropagation()}else Lc(t,i,u,null,r)}}function Qc(t){return t=bl(t),Xc(t)}var Hs=null;function Xc(t){if(Hs=null,t=sn(t),t!==null){var i=h(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=p(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Hs=t,null}function Sp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(du()){case ka:return 2;case cl:return 8;case an:case Ia:return 32;case ji:return 268435456;default:return 32}default:return 32}}var $c=!1,No=null,Ro=null,Do=null,ba=new Map,wa=new Map,ko=[],rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cp(t,i){switch(t){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Ro=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":ba.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wa.delete(i.pointerId)}}function Ea(t,i,r,u,d,x){return t===null||t.nativeEvent!==x?(t={blockedOn:i,domEventName:r,eventSystemFlags:u,nativeEvent:x,targetContainers:[d]},i!==null&&(i=Kn(i),i!==null&&Tp(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function av(t,i,r,u,d){switch(i){case"focusin":return No=Ea(No,t,i,r,u,d),!0;case"dragenter":return Ro=Ea(Ro,t,i,r,u,d),!0;case"mouseover":return Do=Ea(Do,t,i,r,u,d),!0;case"pointerover":var x=d.pointerId;return ba.set(x,Ea(ba.get(x)||null,t,i,r,u,d)),!0;case"gotpointercapture":return x=d.pointerId,wa.set(x,Ea(wa.get(x)||null,t,i,r,u,d)),!0}return!1}function bp(t){var i=sn(t.target);if(i!==null){var r=h(i);if(r!==null){if(i=r.tag,i===13){if(i=p(r),i!==null){t.blockedOn=i,Cr(t.priority,function(){if(r.tag===13){var u=Rn();u=Sr(u);var d=Xn(r,u);d!==null&&Dn(d,r,u),Jc(r,u)}});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zs(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=Qc(t.nativeEvent);if(r===null){r=t.nativeEvent;var u=new r.constructor(r.type,r);Un=u,r.target.dispatchEvent(u),Un=null}else return i=Kn(r),i!==null&&Tp(i),t.blockedOn=r,!1;i.shift()}return!0}function wp(t,i,r){zs(t)&&r.delete(i)}function sv(){$c=!1,No!==null&&zs(No)&&(No=null),Ro!==null&&zs(Ro)&&(Ro=null),Do!==null&&zs(Do)&&(Do=null),ba.forEach(wp),wa.forEach(wp)}function Fs(t,i){t.blockedOn===i&&(t.blockedOn=null,$c||($c=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,sv)))}var Ys=null;function Ep(t){Ys!==t&&(Ys=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ys===t&&(Ys=null);for(var i=0;i<t.length;i+=3){var r=t[i],u=t[i+1],d=t[i+2];if(typeof u!="function"){if(Xc(u||r)===null)continue;break}var x=Kn(r);x!==null&&(t.splice(i,3),i-=3,Xu(x,{pending:!0,data:d,method:r.method,action:u},u,d))}}))}function _a(t){function i(k){return Fs(k,t)}No!==null&&Fs(No,t),Ro!==null&&Fs(Ro,t),Do!==null&&Fs(Do,t),ba.forEach(i),wa.forEach(i);for(var r=0;r<ko.length;r++){var u=ko[r];u.blockedOn===t&&(u.blockedOn=null)}for(;0<ko.length&&(r=ko[0],r.blockedOn===null);)bp(r),r.blockedOn===null&&ko.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var d=r[u],x=r[u+1],E=d[at]||null;if(typeof x=="function")E||Ep(r);else if(E){var N=null;if(x&&x.hasAttribute("formAction")){if(d=x,E=x[at]||null)N=E.formAction;else if(Xc(d)!==null)continue}else N=E.action;typeof N=="function"?r[u+1]=N:(r.splice(u,3),u-=3),Ep(r)}}}function Zc(t){this._internalRoot=t}Ks.prototype.render=Zc.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(l(409));var r=i.current,u=Rn();vp(r,u,t,i,null,null)},Ks.prototype.unmount=Zc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;vp(t.current,2,null,t,null,null),As(),i[Xi]=null}};function Ks(t){this._internalRoot=t}Ks.prototype.unstable_scheduleHydration=function(t){if(t){var i=xi();t={blockedOn:null,target:t,priority:i};for(var r=0;r<ko.length&&i!==0&&i<ko[r].priority;r++);ko.splice(r,0,t),r===0&&bp(t)}};var _p=e.version;if(_p!=="19.1.1")throw Error(l(527,_p,"19.1.1"));ye.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=T(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var uv={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Js.isDisabled&&Js.supportsFiber)try{Yn=Js.inject(uv),Kt=Js}catch{}}return Ma.createRoot=function(t,i){if(!c(t))throw Error(l(299));var r=!1,u="",d=Hd,x=zd,E=Fd,N=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(x=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(N=i.unstable_transitionCallbacks)),i=gp(t,1,!1,null,null,r,u,d,x,E,N,null),t[Xi]=i.current,Uc(t),new Zc(i)},Ma.hydrateRoot=function(t,i,r){if(!c(t))throw Error(l(299));var u=!1,d="",x=Hd,E=zd,N=Fd,k=null,j=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(x=r.onUncaughtError),r.onCaughtError!==void 0&&(E=r.onCaughtError),r.onRecoverableError!==void 0&&(N=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(k=r.unstable_transitionCallbacks),r.formState!==void 0&&(j=r.formState)),i=gp(t,1,!0,i,r??null,u,d,x,E,N,k,j),i.context=yp(null),r=i.current,u=Rn(),u=Sr(u),d=mo(u),d.callback=null,go(r,d,u),r=u,i.current.lanes=r,vi(i,r),di(i),t[Xi]=i.current,Uc(t),new Ks(i)},Ma.version="19.1.1",Ma}var Pp;function Tv(){if(Pp)return tf.exports;Pp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tf.exports=xv(),tf.exports}var Sv=Tv();const Cv=wf(Sv);var eu={exports:{}},bv=eu.exports,Vp;function wv(){return Vp||(Vp=1,(function(n,e){(function(o,l){n.exports=l()})(bv,function(){var o=function(f,g){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,b){S.__proto__=b}||function(S,b){for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(S[_]=b[_])})(f,g)},l=function(){return(l=Object.assign||function(f){for(var g,S=1,b=arguments.length;S<b;S++)for(var _ in g=arguments[S])Object.prototype.hasOwnProperty.call(g,_)&&(f[_]=g[_]);return f}).apply(this,arguments)};function c(f,g,S){for(var b,_=0,M=g.length;_<M;_++)!b&&_ in g||((b=b||Array.prototype.slice.call(g,0,_))[_]=g[_]);return f.concat(b||Array.prototype.slice.call(g))}var h=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:fv,p=Object.keys,y=Array.isArray;function T(f,g){return typeof g!="object"||p(g).forEach(function(S){f[S]=g[S]}),f}typeof Promise>"u"||h.Promise||(h.Promise=Promise);var v=Object.getPrototypeOf,C={}.hasOwnProperty;function w(f,g){return C.call(f,g)}function A(f,g){typeof g=="function"&&(g=g(v(f))),(typeof Reflect>"u"?p:Reflect.ownKeys)(g).forEach(function(S){J(f,S,g[S])})}var I=Object.defineProperty;function J(f,g,S,b){I(f,g,T(S&&w(S,"get")&&typeof S.get=="function"?{get:S.get,set:S.set,configurable:!0}:{value:S,configurable:!0,writable:!0},b))}function te(f){return{from:function(g){return f.prototype=Object.create(g.prototype),J(f.prototype,"constructor",f),{extend:A.bind(null,f.prototype)}}}}var he=Object.getOwnPropertyDescriptor,be=[].slice;function ne(f,g,S){return be.call(f,g,S)}function ie(f,g){return g(f)}function pe(f){if(!f)throw new Error("Assertion Failed")}function ce(f){h.setImmediate?setImmediate(f):setTimeout(f,0)}function ae(f,g){if(typeof g=="string"&&w(f,g))return f[g];if(!g)return f;if(typeof g!="string"){for(var S=[],b=0,_=g.length;b<_;++b){var M=ae(f,g[b]);S.push(M)}return S}var R=g.indexOf(".");if(R!==-1){var D=f[g.substr(0,R)];return D==null?void 0:ae(D,g.substr(R+1))}}function xe(f,g,S){if(f&&g!==void 0&&!("isFrozen"in Object&&Object.isFrozen(f)))if(typeof g!="string"&&"length"in g){pe(typeof S!="string"&&"length"in S);for(var b=0,_=g.length;b<_;++b)xe(f,g[b],S[b])}else{var M,R,D=g.indexOf(".");D!==-1?(M=g.substr(0,D),(R=g.substr(D+1))===""?S===void 0?y(f)&&!isNaN(parseInt(M))?f.splice(M,1):delete f[M]:f[M]=S:xe(D=!(D=f[M])||!w(f,M)?f[M]={}:D,R,S)):S===void 0?y(f)&&!isNaN(parseInt(g))?f.splice(g,1):delete f[g]:f[g]=S}}function Pe(f){var g,S={};for(g in f)w(f,g)&&(S[g]=f[g]);return S}var Ne=[].concat;function Je(f){return Ne.apply([],f)}var Wt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Je([8,16,32,64].map(function(f){return["Int","Uint","Float"].map(function(g){return g+f+"Array"})}))).filter(function(f){return h[f]}),Ye=new Set(Wt.map(function(f){return h[f]})),Ze=null;function It(f){return Ze=new WeakMap,f=(function g(S){if(!S||typeof S!="object")return S;var b=Ze.get(S);if(b)return b;if(y(S)){b=[],Ze.set(S,b);for(var _=0,M=S.length;_<M;++_)b.push(g(S[_]))}else if(Ye.has(S.constructor))b=S;else{var R,D=v(S);for(R in b=D===Object.prototype?{}:Object.create(D),Ze.set(S,b),S)w(S,R)&&(b[R]=g(S[R]))}return b})(f),Ze=null,f}var rn={}.toString;function rt(f){return rn.call(f).slice(8,-1)}var X=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ye=typeof X=="symbol"?function(f){var g;return f!=null&&(g=f[X])&&g.apply(f)}:function(){return null};function Ae(f,g){return g=f.indexOf(g),0<=g&&f.splice(g,1),0<=g}var je={};function U(f){var g,S,b,_;if(arguments.length===1){if(y(f))return f.slice();if(this===je&&typeof f=="string")return[f];if(_=ye(f)){for(S=[];!(b=_.next()).done;)S.push(b.value);return S}if(f==null)return[f];if(typeof(g=f.length)!="number")return[f];for(S=new Array(g);g--;)S[g]=f[g];return S}for(g=arguments.length,S=new Array(g);g--;)S[g]=arguments[g];return S}var fe=typeof Symbol<"u"?function(f){return f[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Lo=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],dn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Lo),_e={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ce(f,g){this.name=f,this.message=g}function Le(f,g){return f+". Errors: "+Object.keys(g).map(function(S){return g[S].toString()}).filter(function(S,b,_){return _.indexOf(S)===b}).join(`
`)}function et(f,g,S,b){this.failures=g,this.failedKeys=b,this.successCount=S,this.message=Le(f,g)}function Ve(f,g){this.name="BulkError",this.failures=Object.keys(g).map(function(S){return g[S]}),this.failuresByPos=g,this.message=Le(f,this.failures)}te(Ce).from(Error).extend({toString:function(){return this.name+": "+this.message}}),te(et).from(Ce),te(Ve).from(Ce);var Yt=dn.reduce(function(f,g){return f[g]=g+"Error",f},{}),Tt=Ce,De=dn.reduce(function(f,g){var S=g+"Error";function b(_,M){this.name=S,_?typeof _=="string"?(this.message="".concat(_).concat(M?`
 `+M:""),this.inner=M||null):typeof _=="object"&&(this.message="".concat(_.name," ").concat(_.message),this.inner=_):(this.message=_e[g]||S,this.inner=null)}return te(b).from(Tt),f[g]=b,f},{});De.Syntax=SyntaxError,De.Type=TypeError,De.Range=RangeError;var ul=Lo.reduce(function(f,g){return f[g+"Error"]=De[g],f},{}),pi=dn.reduce(function(f,g){return["Syntax","Type","Range"].indexOf(g)===-1&&(f[g+"Error"]=De[g]),f},{});function st(){}function mi(f){return f}function Tr(f,g){return f==null||f===mi?g:function(S){return g(f(S))}}function gi(f,g){return function(){f.apply(this,arguments),g.apply(this,arguments)}}function fu(f,g){return f===st?g:function(){var S=f.apply(this,arguments);S!==void 0&&(arguments[0]=S);var b=this.onsuccess,_=this.onerror;this.onsuccess=null,this.onerror=null;var M=g.apply(this,arguments);return b&&(this.onsuccess=this.onsuccess?gi(b,this.onsuccess):b),_&&(this.onerror=this.onerror?gi(_,this.onerror):_),M!==void 0?M:S}}function kn(f,g){return f===st?g:function(){f.apply(this,arguments);var S=this.onsuccess,b=this.onerror;this.onsuccess=this.onerror=null,g.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?gi(S,this.onsuccess):S),b&&(this.onerror=this.onerror?gi(b,this.onerror):b)}}function du(f,g){return f===st?g:function(S){var b=f.apply(this,arguments);T(S,b);var _=this.onsuccess,M=this.onerror;return this.onsuccess=null,this.onerror=null,S=g.apply(this,arguments),_&&(this.onsuccess=this.onsuccess?gi(_,this.onsuccess):_),M&&(this.onerror=this.onerror?gi(M,this.onerror):M),b===void 0?S===void 0?void 0:S:T(b,S)}}function ka(f,g){return f===st?g:function(){return g.apply(this,arguments)!==!1&&f.apply(this,arguments)}}function cl(f,g){return f===st?g:function(){var S=f.apply(this,arguments);if(S&&typeof S.then=="function"){for(var b=this,_=arguments.length,M=new Array(_);_--;)M[_]=arguments[_];return S.then(function(){return g.apply(b,M)})}return g.apply(this,arguments)}}pi.ModifyError=et,pi.DexieError=Ce,pi.BulkError=Ve;var an=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ia(f){an=f}var ji={},Ua=100,Wt=typeof Promise>"u"?[]:(function(){var f=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[f,v(f),f];var g=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[g,v(g),f]})(),Lo=Wt[0],dn=Wt[1],Wt=Wt[2],dn=dn&&dn.then,Yn=Lo&&Lo.constructor,Kt=!!Wt,gn=function(f,g){Wn.push([f,g]),fl&&(queueMicrotask(Sr),fl=!1)},Jt=!0,fl=!0,yi=[],dl=[],Qi=mi,Sn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:st,pgp:!1,env:{},finalize:st},Me=Sn,Wn=[],Cn=0,hl=[];function we(f){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var g=this._PSD=Me;if(typeof f!="function"){if(f!==ji)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&vi(this,this._value))}this._state=null,this._value=null,++g.ref,(function S(b,_){try{_(function(M){if(b._state===null){if(M===b)throw new TypeError("A promise cannot be resolved with itself.");var R=b._lib&&ei();M&&typeof M.then=="function"?S(b,function(D,G){M instanceof we?M._then(D,G):M.then(D,G)}):(b._state=!0,b._value=M,La(b)),R&&xi()}},vi.bind(null,b))}catch(M){vi(b,M)}})(this,f)}var pl={get:function(){var f=Me,g=vl;function S(b,_){var M=this,R=!f.global&&(f!==Me||g!==vl),D=R&&!sn(),G=new we(function(P,z){gl(M,new ml(br(b,f,R,D),br(_,f,R,D),P,z,f))});return this._consoleTask&&(G._consoleTask=this._consoleTask),G}return S.prototype=ji,S},set:function(f){J(this,"then",f&&f.prototype===ji?pl:{get:function(){return f},set:pl.set})}};function ml(f,g,S,b,_){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof g=="function"?g:null,this.resolve=S,this.reject=b,this.psd=_}function vi(f,g){var S,b;dl.push(g),f._state===null&&(S=f._lib&&ei(),g=Qi(g),f._state=!1,f._value=g,b=f,yi.some(function(_){return _._value===b._value})||yi.push(b),La(f),S&&xi())}function La(f){var g=f._listeners;f._listeners=[];for(var S=0,b=g.length;S<b;++S)gl(f,g[S]);var _=f._PSD;--_.ref||_.finalize(),Cn===0&&(++Cn,gn(function(){--Cn==0&&Cr()},[]))}function gl(f,g){if(f._state!==null){var S=f._state?g.onFulfilled:g.onRejected;if(S===null)return(f._state?g.resolve:g.reject)(f._value);++g.psd.ref,++Cn,gn(Pa,[S,f,g])}else f._listeners.push(g)}function Pa(f,g,S){try{var b,_=g._value;!g._state&&dl.length&&(dl=[]),b=an&&g._consoleTask?g._consoleTask.run(function(){return f(_)}):f(_),g._state||dl.indexOf(_)!==-1||(function(M){for(var R=yi.length;R;)if(yi[--R]._value===M._value)return yi.splice(R,1)})(g),S.resolve(b)}catch(M){S.reject(M)}finally{--Cn==0&&Cr(),--S.psd.ref||S.psd.finalize()}}function Sr(){ni(Sn,function(){ei()&&xi()})}function ei(){var f=Jt;return fl=Jt=!1,f}function xi(){var f,g,S;do for(;0<Wn.length;)for(f=Wn,Wn=[],S=f.length,g=0;g<S;++g){var b=f[g];b[0].apply(null,b[1])}while(0<Wn.length);fl=Jt=!0}function Cr(){var f=yi;yi=[],f.forEach(function(b){b._PSD.onunhandled.call(null,b._value,b)});for(var g=hl.slice(0),S=g.length;S;)g[--S]()}function bn(f){return new we(ji,!1,f)}function Qe(f,g){var S=Me;return function(){var b=ei(),_=Me;try{return un(S,!0),f.apply(this,arguments)}catch(M){g&&g(M)}finally{un(_,!1),b&&xi()}}}A(we.prototype,{then:pl,_then:function(f,g){gl(this,new ml(null,null,f,g,Me))},catch:function(f){if(arguments.length===1)return this.then(null,f);var g=f,S=arguments[1];return typeof g=="function"?this.then(null,function(b){return(b instanceof g?S:bn)(b)}):this.then(null,function(b){return(b&&b.name===g?S:bn)(b)})},finally:function(f){return this.then(function(g){return we.resolve(f()).then(function(){return g})},function(g){return we.resolve(f()).then(function(){return bn(g)})})},timeout:function(f,g){var S=this;return f<1/0?new we(function(b,_){var M=setTimeout(function(){return _(new De.Timeout(g))},f);S.then(b,_).finally(clearTimeout.bind(null,M))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&J(we.prototype,Symbol.toStringTag,"Dexie.Promise"),Sn.env=Nt(),A(we,{all:function(){var f=U.apply(null,arguments).map(Kn);return new we(function(g,S){f.length===0&&g([]);var b=f.length;f.forEach(function(_,M){return we.resolve(_).then(function(R){f[M]=R,--b||g(f)},S)})})},resolve:function(f){return f instanceof we?f:f&&typeof f.then=="function"?new we(function(g,S){f.then(g,S)}):new we(ji,!0,f)},reject:bn,race:function(){var f=U.apply(null,arguments).map(Kn);return new we(function(g,S){f.map(function(b){return we.resolve(b).then(g,S)})})},PSD:{get:function(){return Me},set:function(f){return Me=f}},totalEchoes:{get:function(){return vl}},newPSD:yn,usePSD:ni,scheduler:{get:function(){return gn},set:function(f){gn=f}},rejectionMapper:{get:function(){return Qi},set:function(f){Qi=f}},follow:function(f,g){return new we(function(S,b){return yn(function(_,M){var R=Me;R.unhandleds=[],R.onunhandled=M,R.finalize=gi(function(){var D,G=this;D=function(){G.unhandleds.length===0?_():M(G.unhandleds[0])},hl.push(function P(){D(),hl.splice(hl.indexOf(P),1)}),++Cn,gn(function(){--Cn==0&&Cr()},[])},R.finalize),f()},g,S,b)})}}),Yn&&(Yn.allSettled&&J(we,"allSettled",function(){var f=U.apply(null,arguments).map(Kn);return new we(function(g){f.length===0&&g([]);var S=f.length,b=new Array(S);f.forEach(function(_,M){return we.resolve(_).then(function(R){return b[M]={status:"fulfilled",value:R}},function(R){return b[M]={status:"rejected",reason:R}}).then(function(){return--S||g(b)})})})}),Yn.any&&typeof AggregateError<"u"&&J(we,"any",function(){var f=U.apply(null,arguments).map(Kn);return new we(function(g,S){f.length===0&&S(new AggregateError([]));var b=f.length,_=new Array(b);f.forEach(function(M,R){return we.resolve(M).then(function(D){return g(D)},function(D){_[R]=D,--b||S(new AggregateError(_))})})})}));var at={awaits:0,echoes:0,id:0},Xi=0,$i=[],yl=0,vl=0,Va=0;function yn(f,g,S,b){var _=Me,M=Object.create(_);return M.parent=_,M.ref=0,M.global=!1,M.id=++Va,Sn.env,M.env=Kt?{Promise:we,PromiseProp:{value:we,configurable:!0,writable:!0},all:we.all,race:we.race,allSettled:we.allSettled,any:we.any,resolve:we.resolve,reject:we.reject}:{},g&&T(M,g),++_.ref,M.finalize=function(){--this.parent.ref||this.parent.finalize()},b=ni(M,f,S,b),M.ref===0&&M.finalize(),b}function ti(){return at.id||(at.id=++Xi),++at.awaits,at.echoes+=Ua,at.id}function sn(){return!!at.awaits&&(--at.awaits==0&&(at.id=0),at.echoes=at.awaits*Ua,!0)}function Kn(f){return at.echoes&&f&&f.constructor===Yn?(ti(),f.then(function(g){return sn(),g},function(g){return sn(),pt(g)})):f}function Po(){var f=$i[$i.length-1];$i.pop(),un(f,!1)}function un(f,g){var S,b=Me;(g?!at.echoes||yl++&&f===Me:!yl||--yl&&f===Me)||queueMicrotask(g?(function(_){++vl,at.echoes&&--at.echoes!=0||(at.echoes=at.awaits=at.id=0),$i.push(Me),un(_,!0)}).bind(null,f):Po),f!==Me&&(Me=f,b===Sn&&(Sn.env=Nt()),Kt&&(S=Sn.env.Promise,g=f.env,(b.global||f.global)&&(Object.defineProperty(h,"Promise",g.PromiseProp),S.all=g.all,S.race=g.race,S.resolve=g.resolve,S.reject=g.reject,g.allSettled&&(S.allSettled=g.allSettled),g.any&&(S.any=g.any))))}function Nt(){var f=h.Promise;return Kt?{Promise:f,PromiseProp:Object.getOwnPropertyDescriptor(h,"Promise"),all:f.all,race:f.race,allSettled:f.allSettled,any:f.any,resolve:f.resolve,reject:f.reject}:{}}function ni(f,g,S,b,_){var M=Me;try{return un(f,!0),g(S,b,_)}finally{un(M,!1)}}function br(f,g,S,b){return typeof f!="function"?f:function(){var _=Me;S&&ti(),un(g,!0);try{return f.apply(this,arguments)}finally{un(_,!1),b&&queueMicrotask(sn)}}}function Jn(f){Promise===Yn&&at.echoes===0?yl===0?f():enqueueNativeMicroTask(f):setTimeout(f,0)}(""+dn).indexOf("[native code]")===-1&&(ti=sn=st);var pt=we.reject,Ti="",In="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",wr="String expected.",Zi=[],Si="__dbnames",Wi="readonly",wn="readwrite";function jn(f,g){return f?g?function(){return f.apply(this,arguments)&&g.apply(this,arguments)}:f:g}var Er={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Qn(f){return typeof f!="string"||/\./.test(f)?function(g){return g}:function(g){return g[f]===void 0&&f in g&&delete(g=It(g))[f],g}}function xl(){throw De.Type()}function tt(f,g){try{var S=qa(f),b=qa(g);if(S!==b)return S==="Array"?1:b==="Array"?-1:S==="binary"?1:b==="binary"?-1:S==="string"?1:b==="string"?-1:S==="Date"?1:b!=="Date"?NaN:-1;switch(S){case"number":case"Date":case"string":return g<f?1:f<g?-1:0;case"binary":return(function(_,M){for(var R=_.length,D=M.length,G=R<D?R:D,P=0;P<G;++P)if(_[P]!==M[P])return _[P]<M[P]?-1:1;return R===D?0:R<D?-1:1})(_r(f),_r(g));case"Array":return(function(_,M){for(var R=_.length,D=M.length,G=R<D?R:D,P=0;P<G;++P){var z=tt(_[P],M[P]);if(z!==0)return z}return R===D?0:R<D?-1:1})(f,g)}}catch{}return NaN}function qa(f){var g=typeof f;return g!="object"?g:ArrayBuffer.isView(f)?"binary":(f=rt(f),f==="ArrayBuffer"?"binary":f)}function _r(f){return f instanceof Uint8Array?f:ArrayBuffer.isView(f)?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):new Uint8Array(f)}var cn=(mt.prototype._trans=function(f,g,S){var b=this._tx||Me.trans,_=this.name,M=an&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(f==="readonly"?"read":"write"," ").concat(this.name));function R(P,z,L){if(!L.schema[_])throw new De.NotFound("Table "+_+" not part of transaction");return g(L.idbtrans,L)}var D=ei();try{var G=b&&b.db._novip===this.db._novip?b===Me.trans?b._promise(f,R,S):yn(function(){return b._promise(f,R,S)},{trans:b,transless:Me.transless||Me}):(function P(z,L,H,V){if(z.idbdb&&(z._state.openComplete||Me.letThrough||z._vip)){var O=z._createTransaction(L,H,z._dbSchema);try{O.create(),z._state.PR1398_maxLoop=3}catch(Y){return Y.name===Yt.InvalidState&&z.isOpen()&&0<--z._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),z.close({disableAutoOpen:!1}),z.open().then(function(){return P(z,L,H,V)})):pt(Y)}return O._promise(L,function(Y,B){return yn(function(){return Me.trans=O,V(Y,B,O)})}).then(function(Y){if(L==="readwrite")try{O.idbtrans.commit()}catch{}return L==="readonly"?Y:O._completion.then(function(){return Y})})}if(z._state.openComplete)return pt(new De.DatabaseClosed(z._state.dbOpenError));if(!z._state.isBeingOpened){if(!z._state.autoOpen)return pt(new De.DatabaseClosed);z.open().catch(st)}return z._state.dbReadyPromise.then(function(){return P(z,L,H,V)})})(this.db,f,[this.name],R);return M&&(G._consoleTask=M,G=G.catch(function(P){return console.trace(P),pt(P)})),G}finally{D&&xi()}},mt.prototype.get=function(f,g){var S=this;return f&&f.constructor===Object?this.where(f).first(g):f==null?pt(new De.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return S.core.get({trans:b,key:f}).then(function(_){return S.hook.reading.fire(_)})}).then(g)},mt.prototype.where=function(f){if(typeof f=="string")return new this.db.WhereClause(this,f);if(y(f))return new this.db.WhereClause(this,"[".concat(f.join("+"),"]"));var g=p(f);if(g.length===1)return this.where(g[0]).equals(f[g[0]]);var S=this.schema.indexes.concat(this.schema.primKey).filter(function(G){if(G.compound&&g.every(function(z){return 0<=G.keyPath.indexOf(z)})){for(var P=0;P<g.length;++P)if(g.indexOf(G.keyPath[P])===-1)return!1;return!0}return!1}).sort(function(G,P){return G.keyPath.length-P.keyPath.length})[0];if(S&&this.db._maxKey!==Ti){var R=S.keyPath.slice(0,g.length);return this.where(R).equals(R.map(function(P){return f[P]}))}!S&&an&&console.warn("The query ".concat(JSON.stringify(f)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(g.join("+"),"]"));var b=this.schema.idxByName,_=this.db._deps.indexedDB;function M(G,P){return _.cmp(G,P)===0}var D=g.reduce(function(H,P){var z=H[0],L=H[1],H=b[P],V=f[P];return[z||H,z||!H?jn(L,H&&H.multi?function(O){return O=ae(O,P),y(O)&&O.some(function(Y){return M(V,Y)})}:function(O){return M(V,ae(O,P))}):L]},[null,null]),R=D[0],D=D[1];return R?this.where(R.name).equals(f[R.keyPath]).filter(D):S?this.filter(D):this.where(g).equals("")},mt.prototype.filter=function(f){return this.toCollection().and(f)},mt.prototype.count=function(f){return this.toCollection().count(f)},mt.prototype.offset=function(f){return this.toCollection().offset(f)},mt.prototype.limit=function(f){return this.toCollection().limit(f)},mt.prototype.each=function(f){return this.toCollection().each(f)},mt.prototype.toArray=function(f){return this.toCollection().toArray(f)},mt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},mt.prototype.orderBy=function(f){return new this.db.Collection(new this.db.WhereClause(this,y(f)?"[".concat(f.join("+"),"]"):f))},mt.prototype.reverse=function(){return this.toCollection().reverse()},mt.prototype.mapToClass=function(f){var g,S=this.db,b=this.name;function _(){return g!==null&&g.apply(this,arguments)||this}(this.schema.mappedClass=f).prototype instanceof xl&&((function(G,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function z(){this.constructor=G}o(G,P),G.prototype=P===null?Object.create(P):(z.prototype=P.prototype,new z)})(_,g=f),Object.defineProperty(_.prototype,"db",{get:function(){return S},enumerable:!1,configurable:!0}),_.prototype.table=function(){return b},f=_);for(var M=new Set,R=f.prototype;R;R=v(R))Object.getOwnPropertyNames(R).forEach(function(G){return M.add(G)});function D(G){if(!G)return G;var P,z=Object.create(f.prototype);for(P in G)if(!M.has(P))try{z[P]=G[P]}catch{}return z}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=D,this.hook("reading",D),f},mt.prototype.defineClass=function(){return this.mapToClass(function(f){T(this,f)})},mt.prototype.add=function(f,g){var S=this,b=this.schema.primKey,_=b.auto,M=b.keyPath,R=f;return M&&_&&(R=Qn(M)(f)),this._trans("readwrite",function(D){return S.core.mutate({trans:D,type:"add",keys:g!=null?[g]:null,values:[R]})}).then(function(D){return D.numFailures?we.reject(D.failures[0]):D.lastResult}).then(function(D){if(M)try{xe(f,M,D)}catch{}return D})},mt.prototype.update=function(f,g){return typeof f!="object"||y(f)?this.where(":id").equals(f).modify(g):(f=ae(f,this.schema.primKey.keyPath),f===void 0?pt(new De.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(f).modify(g))},mt.prototype.put=function(f,g){var S=this,b=this.schema.primKey,_=b.auto,M=b.keyPath,R=f;return M&&_&&(R=Qn(M)(f)),this._trans("readwrite",function(D){return S.core.mutate({trans:D,type:"put",values:[R],keys:g!=null?[g]:null})}).then(function(D){return D.numFailures?we.reject(D.failures[0]):D.lastResult}).then(function(D){if(M)try{xe(f,M,D)}catch{}return D})},mt.prototype.delete=function(f){var g=this;return this._trans("readwrite",function(S){return g.core.mutate({trans:S,type:"delete",keys:[f]})}).then(function(S){return S.numFailures?we.reject(S.failures[0]):void 0})},mt.prototype.clear=function(){var f=this;return this._trans("readwrite",function(g){return f.core.mutate({trans:g,type:"deleteRange",range:Er})}).then(function(g){return g.numFailures?we.reject(g.failures[0]):void 0})},mt.prototype.bulkGet=function(f){var g=this;return this._trans("readonly",function(S){return g.core.getMany({keys:f,trans:S}).then(function(b){return b.map(function(_){return g.hook.reading.fire(_)})})})},mt.prototype.bulkAdd=function(f,g,S){var b=this,_=Array.isArray(g)?g:void 0,M=(S=S||(_?void 0:g))?S.allKeys:void 0;return this._trans("readwrite",function(R){var P=b.schema.primKey,D=P.auto,P=P.keyPath;if(P&&_)throw new De.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(_&&_.length!==f.length)throw new De.InvalidArgument("Arguments objects and keys must have the same length");var G=f.length,P=P&&D?f.map(Qn(P)):f;return b.core.mutate({trans:R,type:"add",keys:_,values:P,wantResults:M}).then(function(O){var L=O.numFailures,H=O.results,V=O.lastResult,O=O.failures;if(L===0)return M?H:V;throw new Ve("".concat(b.name,".bulkAdd(): ").concat(L," of ").concat(G," operations failed"),O)})})},mt.prototype.bulkPut=function(f,g,S){var b=this,_=Array.isArray(g)?g:void 0,M=(S=S||(_?void 0:g))?S.allKeys:void 0;return this._trans("readwrite",function(R){var P=b.schema.primKey,D=P.auto,P=P.keyPath;if(P&&_)throw new De.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(_&&_.length!==f.length)throw new De.InvalidArgument("Arguments objects and keys must have the same length");var G=f.length,P=P&&D?f.map(Qn(P)):f;return b.core.mutate({trans:R,type:"put",keys:_,values:P,wantResults:M}).then(function(O){var L=O.numFailures,H=O.results,V=O.lastResult,O=O.failures;if(L===0)return M?H:V;throw new Ve("".concat(b.name,".bulkPut(): ").concat(L," of ").concat(G," operations failed"),O)})})},mt.prototype.bulkUpdate=function(f){var g=this,S=this.core,b=f.map(function(R){return R.key}),_=f.map(function(R){return R.changes}),M=[];return this._trans("readwrite",function(R){return S.getMany({trans:R,keys:b,cache:"clone"}).then(function(D){var G=[],P=[];f.forEach(function(L,H){var V=L.key,O=L.changes,Y=D[H];if(Y){for(var B=0,Q=Object.keys(O);B<Q.length;B++){var W=Q[B],ee=O[W];if(W===g.schema.primKey.keyPath){if(tt(ee,V)!==0)throw new De.Constraint("Cannot update primary key in bulkUpdate()")}else xe(Y,W,ee)}M.push(H),G.push(V),P.push(Y)}});var z=G.length;return S.mutate({trans:R,type:"put",keys:G,values:P,updates:{keys:b,changeSpecs:_}}).then(function(L){var H=L.numFailures,V=L.failures;if(H===0)return z;for(var O=0,Y=Object.keys(V);O<Y.length;O++){var B,Q=Y[O],W=M[Number(Q)];W!=null&&(B=V[Q],delete V[Q],V[W]=B)}throw new Ve("".concat(g.name,".bulkUpdate(): ").concat(H," of ").concat(z," operations failed"),V)})})})},mt.prototype.bulkDelete=function(f){var g=this,S=f.length;return this._trans("readwrite",function(b){return g.core.mutate({trans:b,type:"delete",keys:f})}).then(function(R){var _=R.numFailures,M=R.lastResult,R=R.failures;if(_===0)return M;throw new Ve("".concat(g.name,".bulkDelete(): ").concat(_," of ").concat(S," operations failed"),R)})},mt);function mt(){}function Vo(f){function g(R,D){if(D){for(var G=arguments.length,P=new Array(G-1);--G;)P[G-1]=arguments[G];return S[R].subscribe.apply(null,P),f}if(typeof R=="string")return S[R]}var S={};g.addEventType=M;for(var b=1,_=arguments.length;b<_;++b)M(arguments[b]);return g;function M(R,D,G){if(typeof R!="object"){var P;D=D||ka;var z={subscribers:[],fire:G=G||st,subscribe:function(L){z.subscribers.indexOf(L)===-1&&(z.subscribers.push(L),z.fire=D(z.fire,L))},unsubscribe:function(L){z.subscribers=z.subscribers.filter(function(H){return H!==L}),z.fire=z.subscribers.reduce(D,G)}};return S[R]=g[R]=z}p(P=R).forEach(function(L){var H=P[L];if(y(H))M(L,P[L][0],P[L][1]);else{if(H!=="asap")throw new De.InvalidArgument("Invalid event config");var V=M(L,mi,function(){for(var O=arguments.length,Y=new Array(O);O--;)Y[O]=arguments[O];V.subscribers.forEach(function(B){ce(function(){B.apply(null,Y)})})})}})}}function ii(f,g){return te(g).from({prototype:f}),g}function Ci(f,g){return!(f.filter||f.algorithm||f.or)&&(g?f.justLimit:!f.replayFilter)}function eo(f,g){f.filter=jn(f.filter,g)}function Ar(f,g,S){var b=f.replayFilter;f.replayFilter=b?function(){return jn(b(),g())}:g,f.justLimit=S&&!b}function jt(f,g){if(f.isPrimKey)return g.primaryKey;var S=g.getIndexByKeyPath(f.index);if(!S)throw new De.Schema("KeyPath "+f.index+" on object store "+g.name+" is not indexed");return S}function Tl(f,g,S){var b=jt(f,g.schema);return g.openCursor({trans:S,values:!f.keysOnly,reverse:f.dir==="prev",unique:!!f.unique,query:{index:b,range:f.range}})}function qo(f,g,S,b){var _=f.replayFilter?jn(f.filter,f.replayFilter()):f.filter;if(f.or){var M={},R=function(D,G,P){var z,L;_&&!_(G,P,function(H){return G.stop(H)},function(H){return G.fail(H)})||((L=""+(z=G.primaryKey))=="[object ArrayBuffer]"&&(L=""+new Uint8Array(z)),w(M,L)||(M[L]=!0,g(D,G,P)))};return Promise.all([f.or._iterate(R,S),Sl(Tl(f,b,S),f.algorithm,R,!f.keysOnly&&f.valueMapper)])}return Sl(Tl(f,b,S),jn(f.algorithm,_),g,!f.keysOnly&&f.valueMapper)}function Sl(f,g,S,b){var _=Qe(b?function(M,R,D){return S(b(M),R,D)}:S);return f.then(function(M){if(M)return M.start(function(){var R=function(){return M.continue()};g&&!g(M,function(D){return R=D},function(D){M.stop(D),R=st},function(D){M.fail(D),R=st})||_(M.value,M,function(D){return R=D}),R()})})}var Wt=Symbol(),to=(Mr.prototype.execute=function(f){if(this.add!==void 0){var g=this.add;if(y(g))return c(c([],y(f)?f:[],!0),g).sort();if(typeof g=="number")return(Number(f)||0)+g;if(typeof g=="bigint")try{return BigInt(f)+g}catch{return BigInt(0)+g}throw new TypeError("Invalid term ".concat(g))}if(this.remove!==void 0){var S=this.remove;if(y(S))return y(f)?f.filter(function(b){return!S.includes(b)}).sort():[];if(typeof S=="number")return Number(f)-S;if(typeof S=="bigint")try{return BigInt(f)-S}catch{return BigInt(0)-S}throw new TypeError("Invalid subtrahend ".concat(S))}return g=(g=this.replacePrefix)===null||g===void 0?void 0:g[0],g&&typeof f=="string"&&f.startsWith(g)?this.replacePrefix[1]+f.substring(g.length):f},Mr);function Mr(f){Object.assign(this,f)}var no=(ot.prototype._read=function(f,g){var S=this._ctx;return S.error?S.table._trans(null,pt.bind(null,S.error)):S.table._trans("readonly",f).then(g)},ot.prototype._write=function(f){var g=this._ctx;return g.error?g.table._trans(null,pt.bind(null,g.error)):g.table._trans("readwrite",f,"locked")},ot.prototype._addAlgorithm=function(f){var g=this._ctx;g.algorithm=jn(g.algorithm,f)},ot.prototype._iterate=function(f,g){return qo(this._ctx,f,g,this._ctx.table.core)},ot.prototype.clone=function(f){var g=Object.create(this.constructor.prototype),S=Object.create(this._ctx);return f&&T(S,f),g._ctx=S,g},ot.prototype.raw=function(){return this._ctx.valueMapper=null,this},ot.prototype.each=function(f){var g=this._ctx;return this._read(function(S){return qo(g,f,S,g.table.core)})},ot.prototype.count=function(f){var g=this;return this._read(function(S){var b=g._ctx,_=b.table.core;if(Ci(b,!0))return _.count({trans:S,query:{index:jt(b,_.schema),range:b.range}}).then(function(R){return Math.min(R,b.limit)});var M=0;return qo(b,function(){return++M,!1},S,_).then(function(){return M})}).then(f)},ot.prototype.sortBy=function(f,g){var S=f.split(".").reverse(),b=S[0],_=S.length-1;function M(G,P){return P?M(G[S[P]],P-1):G[b]}var R=this._ctx.dir==="next"?1:-1;function D(G,P){return G=M(G,_),P=M(P,_),G<P?-R:P<G?R:0}return this.toArray(function(G){return G.sort(D)}).then(g)},ot.prototype.toArray=function(f){var g=this;return this._read(function(S){var b=g._ctx;if(b.dir==="next"&&Ci(b,!0)&&0<b.limit){var _=b.valueMapper,M=jt(b,b.table.core.schema);return b.table.core.query({trans:S,limit:b.limit,values:!0,query:{index:M,range:b.range}}).then(function(D){return D=D.result,_?D.map(_):D})}var R=[];return qo(b,function(D){return R.push(D)},S,b.table.core).then(function(){return R})},f)},ot.prototype.offset=function(f){var g=this._ctx;return f<=0||(g.offset+=f,Ci(g)?Ar(g,function(){var S=f;return function(b,_){return S===0||(S===1?--S:_(function(){b.advance(S),S=0}),!1)}}):Ar(g,function(){var S=f;return function(){return--S<0}})),this},ot.prototype.limit=function(f){return this._ctx.limit=Math.min(this._ctx.limit,f),Ar(this._ctx,function(){var g=f;return function(S,b,_){return--g<=0&&b(_),0<=g}},!0),this},ot.prototype.until=function(f,g){return eo(this._ctx,function(S,b,_){return!f(S.value)||(b(_),g)}),this},ot.prototype.first=function(f){return this.limit(1).toArray(function(g){return g[0]}).then(f)},ot.prototype.last=function(f){return this.reverse().first(f)},ot.prototype.filter=function(f){var g;return eo(this._ctx,function(S){return f(S.value)}),(g=this._ctx).isMatch=jn(g.isMatch,f),this},ot.prototype.and=function(f){return this.filter(f)},ot.prototype.or=function(f){return new this.db.WhereClause(this._ctx.table,f,this)},ot.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ot.prototype.desc=function(){return this.reverse()},ot.prototype.eachKey=function(f){var g=this._ctx;return g.keysOnly=!g.isMatch,this.each(function(S,b){f(b.key,b)})},ot.prototype.eachUniqueKey=function(f){return this._ctx.unique="unique",this.eachKey(f)},ot.prototype.eachPrimaryKey=function(f){var g=this._ctx;return g.keysOnly=!g.isMatch,this.each(function(S,b){f(b.primaryKey,b)})},ot.prototype.keys=function(f){var g=this._ctx;g.keysOnly=!g.isMatch;var S=[];return this.each(function(b,_){S.push(_.key)}).then(function(){return S}).then(f)},ot.prototype.primaryKeys=function(f){var g=this._ctx;if(g.dir==="next"&&Ci(g,!0)&&0<g.limit)return this._read(function(b){var _=jt(g,g.table.core.schema);return g.table.core.query({trans:b,values:!1,limit:g.limit,query:{index:_,range:g.range}})}).then(function(b){return b.result}).then(f);g.keysOnly=!g.isMatch;var S=[];return this.each(function(b,_){S.push(_.primaryKey)}).then(function(){return S}).then(f)},ot.prototype.uniqueKeys=function(f){return this._ctx.unique="unique",this.keys(f)},ot.prototype.firstKey=function(f){return this.limit(1).keys(function(g){return g[0]}).then(f)},ot.prototype.lastKey=function(f){return this.reverse().firstKey(f)},ot.prototype.distinct=function(){var f=this._ctx,f=f.index&&f.table.schema.idxByName[f.index];if(!f||!f.multi)return this;var g={};return eo(this._ctx,function(_){var b=_.primaryKey.toString(),_=w(g,b);return g[b]=!0,!_}),this},ot.prototype.modify=function(f){var g=this,S=this._ctx;return this._write(function(b){var _,M,R;R=typeof f=="function"?f:(_=p(f),M=_.length,function(B){for(var Q=!1,W=0;W<M;++W){var ee=_[W],le=f[ee],ge=ae(B,ee);le instanceof to?(xe(B,ee,le.execute(ge)),Q=!0):ge!==le&&(xe(B,ee,le),Q=!0)}return Q});function D(B,ee){var W=ee.failures,ee=ee.numFailures;O+=B-ee;for(var le=0,ge=p(W);le<ge.length;le++){var Se=ge[le];V.push(W[Se])}}var G=S.table.core,P=G.schema.primaryKey,z=P.outbound,L=P.extractKey,H=g.db._options.modifyChunkSize||200,V=[],O=0,Y=[];return g.clone().primaryKeys().then(function(B){function Q(ee){var le=Math.min(H,B.length-ee);return G.getMany({trans:b,keys:B.slice(ee,ee+le),cache:"immutable"}).then(function(ge){for(var Se=[],me=[],ve=z?[]:null,Te=[],de=0;de<le;++de){var He=ge[de],Ue={value:It(He),primKey:B[ee+de]};R.call(Ue,Ue.value,Ue)!==!1&&(Ue.value==null?Te.push(B[ee+de]):z||tt(L(He),L(Ue.value))===0?(me.push(Ue.value),z&&ve.push(B[ee+de])):(Te.push(B[ee+de]),Se.push(Ue.value)))}return Promise.resolve(0<Se.length&&G.mutate({trans:b,type:"add",values:Se}).then(function(qe){for(var ze in qe.failures)Te.splice(parseInt(ze),1);D(Se.length,qe)})).then(function(){return(0<me.length||W&&typeof f=="object")&&G.mutate({trans:b,type:"put",keys:ve,values:me,criteria:W,changeSpec:typeof f!="function"&&f,isAdditionalChunk:0<ee}).then(function(qe){return D(me.length,qe)})}).then(function(){return(0<Te.length||W&&f===Cl)&&G.mutate({trans:b,type:"delete",keys:Te,criteria:W,isAdditionalChunk:0<ee}).then(function(qe){return D(Te.length,qe)})}).then(function(){return B.length>ee+le&&Q(ee+H)})})}var W=Ci(S)&&S.limit===1/0&&(typeof f!="function"||f===Cl)&&{index:S.index,range:S.range};return Q(0).then(function(){if(0<V.length)throw new et("Error modifying one or more objects",V,O,Y);return B.length})})})},ot.prototype.delete=function(){var f=this._ctx,g=f.range;return Ci(f)&&(f.isPrimKey||g.type===3)?this._write(function(S){var b=f.table.core.schema.primaryKey,_=g;return f.table.core.count({trans:S,query:{index:b,range:_}}).then(function(M){return f.table.core.mutate({trans:S,type:"deleteRange",range:_}).then(function(R){var D=R.failures;if(R.lastResult,R.results,R=R.numFailures,R)throw new et("Could not delete some values",Object.keys(D).map(function(G){return D[G]}),M-R);return M-R})})}):this.modify(Cl)},ot);function ot(){}var Cl=function(f,g){return g.value=null};function Ga(f,g){return f<g?-1:f===g?0:1}function Nr(f,g){return g<f?-1:f===g?0:1}function fn(f,g,S){return f=f instanceof wi?new f.Collection(f):f,f._ctx.error=new(S||TypeError)(g),f}function io(f){return new f.Collection(f,function(){return bl("")}).limit(0)}function bi(f,g,S,b){var _,M,R,D,G,P,z,L=S.length;if(!S.every(function(O){return typeof O=="string"}))return fn(f,wr);function H(O){_=O==="next"?function(B){return B.toUpperCase()}:function(B){return B.toLowerCase()},M=O==="next"?function(B){return B.toLowerCase()}:function(B){return B.toUpperCase()},R=O==="next"?Ga:Nr;var Y=S.map(function(B){return{lower:M(B),upper:_(B)}}).sort(function(B,Q){return R(B.lower,Q.lower)});D=Y.map(function(B){return B.upper}),G=Y.map(function(B){return B.lower}),z=(P=O)==="next"?"":b}H("next"),f=new f.Collection(f,function(){return Un(D[0],G[L-1]+b)}),f._ondirectionchange=function(O){H(O)};var V=0;return f._addAlgorithm(function(O,Y,B){var Q=O.key;if(typeof Q!="string")return!1;var W=M(Q);if(g(W,G,V))return!0;for(var ee=null,le=V;le<L;++le){var ge=(function(Se,me,ve,Te,de,He){for(var Ue=Math.min(Se.length,Te.length),qe=-1,ze=0;ze<Ue;++ze){var hn=me[ze];if(hn!==Te[ze])return de(Se[ze],ve[ze])<0?Se.substr(0,ze)+ve[ze]+ve.substr(ze+1):de(Se[ze],Te[ze])<0?Se.substr(0,ze)+Te[ze]+ve.substr(ze+1):0<=qe?Se.substr(0,qe)+me[qe]+ve.substr(qe+1):null;de(Se[ze],hn)<0&&(qe=ze)}return Ue<Te.length&&He==="next"?Se+ve.substr(Se.length):Ue<Se.length&&He==="prev"?Se.substr(0,ve.length):qe<0?null:Se.substr(0,qe)+Te[qe]+ve.substr(qe+1)})(Q,W,D[le],G[le],R,P);ge===null&&ee===null?V=le+1:(ee===null||0<R(ee,ge))&&(ee=ge)}return Y(ee!==null?function(){O.continue(ee+z)}:B),!1}),f}function Un(f,g,S,b){return{type:2,lower:f,upper:g,lowerOpen:S,upperOpen:b}}function bl(f){return{type:1,lower:f,upper:f}}var wi=(Object.defineProperty(Ct.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ct.prototype.between=function(f,g,S,b){S=S!==!1,b=b===!0;try{return 0<this._cmp(f,g)||this._cmp(f,g)===0&&(S||b)&&(!S||!b)?io(this):new this.Collection(this,function(){return Un(f,g,!S,!b)})}catch{return fn(this,In)}},Ct.prototype.equals=function(f){return f==null?fn(this,In):new this.Collection(this,function(){return bl(f)})},Ct.prototype.above=function(f){return f==null?fn(this,In):new this.Collection(this,function(){return Un(f,void 0,!0)})},Ct.prototype.aboveOrEqual=function(f){return f==null?fn(this,In):new this.Collection(this,function(){return Un(f,void 0,!1)})},Ct.prototype.below=function(f){return f==null?fn(this,In):new this.Collection(this,function(){return Un(void 0,f,!1,!0)})},Ct.prototype.belowOrEqual=function(f){return f==null?fn(this,In):new this.Collection(this,function(){return Un(void 0,f)})},Ct.prototype.startsWith=function(f){return typeof f!="string"?fn(this,wr):this.between(f,f+Ti,!0,!0)},Ct.prototype.startsWithIgnoreCase=function(f){return f===""?this.startsWith(f):bi(this,function(g,S){return g.indexOf(S[0])===0},[f],Ti)},Ct.prototype.equalsIgnoreCase=function(f){return bi(this,function(g,S){return g===S[0]},[f],"")},Ct.prototype.anyOfIgnoreCase=function(){var f=U.apply(je,arguments);return f.length===0?io(this):bi(this,function(g,S){return S.indexOf(g)!==-1},f,"")},Ct.prototype.startsWithAnyOfIgnoreCase=function(){var f=U.apply(je,arguments);return f.length===0?io(this):bi(this,function(g,S){return S.some(function(b){return g.indexOf(b)===0})},f,Ti)},Ct.prototype.anyOf=function(){var f=this,g=U.apply(je,arguments),S=this._cmp;try{g.sort(S)}catch{return fn(this,In)}if(g.length===0)return io(this);var b=new this.Collection(this,function(){return Un(g[0],g[g.length-1])});b._ondirectionchange=function(M){S=M==="next"?f._ascending:f._descending,g.sort(S)};var _=0;return b._addAlgorithm(function(M,R,D){for(var G=M.key;0<S(G,g[_]);)if(++_===g.length)return R(D),!1;return S(G,g[_])===0||(R(function(){M.continue(g[_])}),!1)}),b},Ct.prototype.notEqual=function(f){return this.inAnyRange([[-1/0,f],[f,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ct.prototype.noneOf=function(){var f=U.apply(je,arguments);if(f.length===0)return new this.Collection(this);try{f.sort(this._ascending)}catch{return fn(this,In)}var g=f.reduce(function(S,b){return S?S.concat([[S[S.length-1][1],b]]):[[-1/0,b]]},null);return g.push([f[f.length-1],this.db._maxKey]),this.inAnyRange(g,{includeLowers:!1,includeUppers:!1})},Ct.prototype.inAnyRange=function(Q,g){var S=this,b=this._cmp,_=this._ascending,M=this._descending,R=this._min,D=this._max;if(Q.length===0)return io(this);if(!Q.every(function(W){return W[0]!==void 0&&W[1]!==void 0&&_(W[0],W[1])<=0}))return fn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",De.InvalidArgument);var G=!g||g.includeLowers!==!1,P=g&&g.includeUppers===!0,z,L=_;function H(W,ee){return L(W[0],ee[0])}try{(z=Q.reduce(function(W,ee){for(var le=0,ge=W.length;le<ge;++le){var Se=W[le];if(b(ee[0],Se[1])<0&&0<b(ee[1],Se[0])){Se[0]=R(Se[0],ee[0]),Se[1]=D(Se[1],ee[1]);break}}return le===ge&&W.push(ee),W},[])).sort(H)}catch{return fn(this,In)}var V=0,O=P?function(W){return 0<_(W,z[V][1])}:function(W){return 0<=_(W,z[V][1])},Y=G?function(W){return 0<M(W,z[V][0])}:function(W){return 0<=M(W,z[V][0])},B=O,Q=new this.Collection(this,function(){return Un(z[0][0],z[z.length-1][1],!G,!P)});return Q._ondirectionchange=function(W){L=W==="next"?(B=O,_):(B=Y,M),z.sort(H)},Q._addAlgorithm(function(W,ee,le){for(var ge,Se=W.key;B(Se);)if(++V===z.length)return ee(le),!1;return!O(ge=Se)&&!Y(ge)||(S._cmp(Se,z[V][1])===0||S._cmp(Se,z[V][0])===0||ee(function(){L===_?W.continue(z[V][0]):W.continue(z[V][1])}),!1)}),Q},Ct.prototype.startsWithAnyOf=function(){var f=U.apply(je,arguments);return f.every(function(g){return typeof g=="string"})?f.length===0?io(this):this.inAnyRange(f.map(function(g){return[g,g+Ti]})):fn(this,"startsWithAnyOf() only works with strings")},Ct);function Ct(){}function En(f){return Qe(function(g){return Ei(g),f(g.target.error),!1})}function Ei(f){f.stopPropagation&&f.stopPropagation(),f.preventDefault&&f.preventDefault()}var oo="storagemutated",_i="x-storagemutated-1",Bt=Vo(null,oo),Rr=(en.prototype._lock=function(){return pe(!Me.global),++this._reculock,this._reculock!==1||Me.global||(Me.lockOwnerFor=this),this},en.prototype._unlock=function(){if(pe(!Me.global),--this._reculock==0)for(Me.global||(Me.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var f=this._blockedFuncs.shift();try{ni(f[1],f[0])}catch{}}return this},en.prototype._locked=function(){return this._reculock&&Me.lockOwnerFor!==this},en.prototype.create=function(f){var g=this;if(!this.mode)return this;var S=this.db.idbdb,b=this.db._state.dbOpenError;if(pe(!this.idbtrans),!f&&!S)switch(b&&b.name){case"DatabaseClosedError":throw new De.DatabaseClosed(b);case"MissingAPIError":throw new De.MissingAPI(b.message,b);default:throw new De.OpenFailed(b)}if(!this.active)throw new De.TransactionInactive;return pe(this._completion._state===null),(f=this.idbtrans=f||(this.db.core||S).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Qe(function(_){Ei(_),g._reject(f.error)}),f.onabort=Qe(function(_){Ei(_),g.active&&g._reject(new De.Abort(f.error)),g.active=!1,g.on("abort").fire(_)}),f.oncomplete=Qe(function(){g.active=!1,g._resolve(),"mutatedParts"in f&&Bt.storagemutated.fire(f.mutatedParts)}),this},en.prototype._promise=function(f,g,S){var b=this;if(f==="readwrite"&&this.mode!=="readwrite")return pt(new De.ReadOnly("Transaction is readonly"));if(!this.active)return pt(new De.TransactionInactive);if(this._locked())return new we(function(M,R){b._blockedFuncs.push([function(){b._promise(f,g,S).then(M,R)},Me])});if(S)return yn(function(){var M=new we(function(R,D){b._lock();var G=g(R,D,b);G&&G.then&&G.then(R,D)});return M.finally(function(){return b._unlock()}),M._lib=!0,M});var _=new we(function(M,R){var D=g(M,R,b);D&&D.then&&D.then(M,R)});return _._lib=!0,_},en.prototype._root=function(){return this.parent?this.parent._root():this},en.prototype.waitFor=function(f){var g,S=this._root(),b=we.resolve(f);S._waitingFor?S._waitingFor=S._waitingFor.then(function(){return b}):(S._waitingFor=b,S._waitingQueue=[],g=S.idbtrans.objectStore(S.storeNames[0]),(function M(){for(++S._spinCount;S._waitingQueue.length;)S._waitingQueue.shift()();S._waitingFor&&(g.get(-1/0).onsuccess=M)})());var _=S._waitingFor;return new we(function(M,R){b.then(function(D){return S._waitingQueue.push(Qe(M.bind(null,D)))},function(D){return S._waitingQueue.push(Qe(R.bind(null,D)))}).finally(function(){S._waitingFor===_&&(S._waitingFor=null)})})},en.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new De.Abort))},en.prototype.table=function(f){var g=this._memoizedTables||(this._memoizedTables={});if(w(g,f))return g[f];var S=this.schema[f];if(!S)throw new De.NotFound("Table "+f+" not part of transaction");return S=new this.db.Table(f,S,this),S.core=this.db.core.table(f),g[f]=S},en);function en(){}function Ln(f,g,S,b,_,M,R){return{name:f,keyPath:g,unique:S,multi:b,auto:_,compound:M,src:(S&&!R?"&":"")+(b?"*":"")+(_?"++":"")+wl(g)}}function wl(f){return typeof f=="string"?f:f?"["+[].join.call(f,"+")+"]":""}function lo(f,g,S){return{name:f,primKey:g,indexes:S,mappedClass:null,idxByName:(b=function(_){return[_.name,_]},S.reduce(function(_,M,R){return R=b(M,R),R&&(_[R[0]]=R[1]),_},{}))};var b}var ro=function(f){try{return f.only([[]]),ro=function(){return[[]]},[[]]}catch{return ro=function(){return Ti},Ti}};function ao(f){return f==null?function(){}:typeof f=="string"?(g=f).split(".").length===1?function(S){return S[g]}:function(S){return ae(S,g)}:function(S){return ae(S,f)};var g}function Go(f){return[].slice.call(f)}var Ba=0;function Ut(f){return f==null?":id":typeof f=="string"?f:"[".concat(f.join("+"),"]")}function Ai(f,g,G){function b(B){if(B.type===3)return null;if(B.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var V=B.lower,O=B.upper,Y=B.lowerOpen,B=B.upperOpen;return V===void 0?O===void 0?null:g.upperBound(O,!!B):O===void 0?g.lowerBound(V,!!Y):g.bound(V,O,!!Y,!!B)}function _(H){var V,O=H.name;return{name:O,schema:H,mutate:function(Y){var B=Y.trans,Q=Y.type,W=Y.keys,ee=Y.values,le=Y.range;return new Promise(function(ge,Se){ge=Qe(ge);var me=B.objectStore(O),ve=me.keyPath==null,Te=Q==="put"||Q==="add";if(!Te&&Q!=="delete"&&Q!=="deleteRange")throw new Error("Invalid operation type: "+Q);var de,He=(W||ee||{length:1}).length;if(W&&ee&&W.length!==ee.length)throw new Error("Given keys array must have same length as given values array.");if(He===0)return ge({numFailures:0,failures:{},results:[],lastResult:void 0});function Ue(Ot){++hn,Ei(Ot)}var qe=[],ze=[],hn=0;if(Q==="deleteRange"){if(le.type===4)return ge({numFailures:hn,failures:ze,results:[],lastResult:void 0});le.type===3?qe.push(de=me.clear()):qe.push(de=me.delete(b(le)))}else{var ve=Te?ve?[ee,W]:[ee,null]:[W,null],Ke=ve[0],Rt=ve[1];if(Te)for(var Lt=0;Lt<He;++Lt)qe.push(de=Rt&&Rt[Lt]!==void 0?me[Q](Ke[Lt],Rt[Lt]):me[Q](Ke[Lt])),de.onerror=Ue;else for(Lt=0;Lt<He;++Lt)qe.push(de=me[Q](Ke[Lt])),de.onerror=Ue}function Xn(Ot){Ot=Ot.target.result,qe.forEach(function(Vn,ai){return Vn.error!=null&&(ze[ai]=Vn.error)}),ge({numFailures:hn,failures:ze,results:Q==="delete"?W:qe.map(function(Vn){return Vn.result}),lastResult:Ot})}de.onerror=function(Ot){Ue(Ot),Xn(Ot)},de.onsuccess=Xn})},getMany:function(Y){var B=Y.trans,Q=Y.keys;return new Promise(function(W,ee){W=Qe(W);for(var le,ge=B.objectStore(O),Se=Q.length,me=new Array(Se),ve=0,Te=0,de=function(qe){qe=qe.target,me[qe._pos]=qe.result,++Te===ve&&W(me)},He=En(ee),Ue=0;Ue<Se;++Ue)Q[Ue]!=null&&((le=ge.get(Q[Ue]))._pos=Ue,le.onsuccess=de,le.onerror=He,++ve);ve===0&&W(me)})},get:function(Y){var B=Y.trans,Q=Y.key;return new Promise(function(W,ee){W=Qe(W);var le=B.objectStore(O).get(Q);le.onsuccess=function(ge){return W(ge.target.result)},le.onerror=En(ee)})},query:(V=P,function(Y){return new Promise(function(B,Q){B=Qe(B);var W,ee,le,ve=Y.trans,ge=Y.values,Se=Y.limit,de=Y.query,me=Se===1/0?void 0:Se,Te=de.index,de=de.range,ve=ve.objectStore(O),Te=Te.isPrimaryKey?ve:ve.index(Te.name),de=b(de);if(Se===0)return B({result:[]});V?((me=ge?Te.getAll(de,me):Te.getAllKeys(de,me)).onsuccess=function(He){return B({result:He.target.result})},me.onerror=En(Q)):(W=0,ee=!ge&&"openKeyCursor"in Te?Te.openKeyCursor(de):Te.openCursor(de),le=[],ee.onsuccess=function(He){var Ue=ee.result;return Ue?(le.push(ge?Ue.value:Ue.primaryKey),++W===Se?B({result:le}):void Ue.continue()):B({result:le})},ee.onerror=En(Q))})}),openCursor:function(Y){var B=Y.trans,Q=Y.values,W=Y.query,ee=Y.reverse,le=Y.unique;return new Promise(function(ge,Se){ge=Qe(ge);var Te=W.index,me=W.range,ve=B.objectStore(O),ve=Te.isPrimaryKey?ve:ve.index(Te.name),Te=ee?le?"prevunique":"prev":le?"nextunique":"next",de=!Q&&"openKeyCursor"in ve?ve.openKeyCursor(b(me),Te):ve.openCursor(b(me),Te);de.onerror=En(Se),de.onsuccess=Qe(function(He){var Ue,qe,ze,hn,Ke=de.result;Ke?(Ke.___id=++Ba,Ke.done=!1,Ue=Ke.continue.bind(Ke),qe=(qe=Ke.continuePrimaryKey)&&qe.bind(Ke),ze=Ke.advance.bind(Ke),hn=function(){throw new Error("Cursor not stopped")},Ke.trans=B,Ke.stop=Ke.continue=Ke.continuePrimaryKey=Ke.advance=function(){throw new Error("Cursor not started")},Ke.fail=Qe(Se),Ke.next=function(){var Rt=this,Lt=1;return this.start(function(){return Lt--?Rt.continue():Rt.stop()}).then(function(){return Rt})},Ke.start=function(Rt){function Lt(){if(de.result)try{Rt()}catch(Ot){Ke.fail(Ot)}else Ke.done=!0,Ke.start=function(){throw new Error("Cursor behind last entry")},Ke.stop()}var Xn=new Promise(function(Ot,Vn){Ot=Qe(Ot),de.onerror=En(Vn),Ke.fail=Vn,Ke.stop=function(ai){Ke.stop=Ke.continue=Ke.continuePrimaryKey=Ke.advance=hn,Ot(ai)}});return de.onsuccess=Qe(function(Ot){de.onsuccess=Lt,Lt()}),Ke.continue=Ue,Ke.continuePrimaryKey=qe,Ke.advance=ze,Lt(),Xn},ge(Ke)):ge(null)},Se)})},count:function(Y){var B=Y.query,Q=Y.trans,W=B.index,ee=B.range;return new Promise(function(le,ge){var Se=Q.objectStore(O),me=W.isPrimaryKey?Se:Se.index(W.name),Se=b(ee),me=Se?me.count(Se):me.count();me.onsuccess=Qe(function(ve){return le(ve.target.result)}),me.onerror=En(ge)})}}}var M,R,D,z=(R=G,D=Go((M=f).objectStoreNames),{schema:{name:M.name,tables:D.map(function(H){return R.objectStore(H)}).map(function(H){var V=H.keyPath,B=H.autoIncrement,O=y(V),Y={},B={name:H.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:V==null,compound:O,keyPath:V,autoIncrement:B,unique:!0,extractKey:ao(V)},indexes:Go(H.indexNames).map(function(Q){return H.index(Q)}).map(function(le){var W=le.name,ee=le.unique,ge=le.multiEntry,le=le.keyPath,ge={name:W,compound:y(le),keyPath:le,unique:ee,multiEntry:ge,extractKey:ao(le)};return Y[Ut(le)]=ge}),getIndexByKeyPath:function(Q){return Y[Ut(Q)]}};return Y[":id"]=B.primaryKey,V!=null&&(Y[Ut(V)]=B.primaryKey),B})},hasGetAll:0<D.length&&"getAll"in R.objectStore(D[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),G=z.schema,P=z.hasGetAll,z=G.tables.map(_),L={};return z.forEach(function(H){return L[H.name]=H}),{stack:"dbcore",transaction:f.transaction.bind(f),table:function(H){if(!L[H])throw new Error("Table '".concat(H,"' not found"));return L[H]},MIN_KEY:-1/0,MAX_KEY:ro(g),schema:G}}function El(f,g,S,b){var _=S.IDBKeyRange;return S.indexedDB,{dbcore:(b=Ai(g,_,b),f.dbcore.reduce(function(M,R){return R=R.create,l(l({},M),R(M))},b))}}function oi(f,b){var S=b.db,b=El(f._middlewares,S,f._deps,b);f.core=b.dbcore,f.tables.forEach(function(_){var M=_.name;f.core.schema.tables.some(function(R){return R.name===M})&&(_.core=f.core.table(M),f[M]instanceof f.Table&&(f[M].core=_.core))})}function _l(f,g,S,b){S.forEach(function(_){var M=b[_];g.forEach(function(R){var D=(function G(P,z){return he(P,z)||(P=v(P))&&G(P,z)})(R,_);(!D||"value"in D&&D.value===void 0)&&(R===f.Transaction.prototype||R instanceof f.Transaction?J(R,_,{get:function(){return this.table(_)},set:function(G){I(this,_,{value:G,writable:!0,configurable:!0,enumerable:!0})}}):R[_]=new f.Table(_,M))})})}function Bo(f,g){g.forEach(function(S){for(var b in S)S[b]instanceof f.Table&&delete S[b]})}function Dr(f,g){return f._cfg.version-g._cfg.version}function Oo(f,g,S,b){var _=f._dbSchema;S.objectStoreNames.contains("$meta")&&!_.$meta&&(_.$meta=lo("$meta",Ha("")[0],[]),f._storeNames.push("$meta"));var M=f._createTransaction("readwrite",f._storeNames,_);M.create(S),M._completion.catch(b);var R=M._reject.bind(M),D=Me.transless||Me;yn(function(){return Me.trans=M,Me.transless=D,g!==0?(oi(f,S),P=g,((G=M).storeNames.includes("$meta")?G.table("$meta").get("version").then(function(z){return z??P}):we.resolve(P)).then(function(z){return H=z,V=M,O=S,Y=[],z=(L=f)._versions,B=L._dbSchema=so(0,L.idbdb,O),(z=z.filter(function(Q){return Q._cfg.version>=H})).length!==0?(z.forEach(function(Q){Y.push(function(){var W=B,ee=Q._cfg.dbschema;Rl(L,W,O),Rl(L,ee,O),B=L._dbSchema=ee;var le=Ml(W,ee);le.add.forEach(function(Te){kr(O,Te[0],Te[1].primKey,Te[1].indexes)}),le.change.forEach(function(Te){if(Te.recreate)throw new De.Upgrade("Not yet support for changing primary key");var de=O.objectStore(Te.name);Te.add.forEach(function(He){return Nl(de,He)}),Te.change.forEach(function(He){de.deleteIndex(He.name),Nl(de,He)}),Te.del.forEach(function(He){return de.deleteIndex(He)})});var ge=Q._cfg.contentUpgrade;if(ge&&Q._cfg.version>H){oi(L,O),V._memoizedTables={};var Se=Pe(ee);le.del.forEach(function(Te){Se[Te]=W[Te]}),Bo(L,[L.Transaction.prototype]),_l(L,[L.Transaction.prototype],p(Se),Se),V.schema=Se;var me,ve=fe(ge);return ve&&ti(),le=we.follow(function(){var Te;(me=ge(V))&&ve&&(Te=sn.bind(null,null),me.then(Te,Te))}),me&&typeof me.then=="function"?we.resolve(me):le.then(function(){return me})}}),Y.push(function(W){var ee,le,ge=Q._cfg.dbschema;ee=ge,le=W,[].slice.call(le.db.objectStoreNames).forEach(function(Se){return ee[Se]==null&&le.db.deleteObjectStore(Se)}),Bo(L,[L.Transaction.prototype]),_l(L,[L.Transaction.prototype],L._storeNames,L._dbSchema),V.schema=L._dbSchema}),Y.push(function(W){L.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(L.idbdb.version/10)===Q._cfg.version?(L.idbdb.deleteObjectStore("$meta"),delete L._dbSchema.$meta,L._storeNames=L._storeNames.filter(function(ee){return ee!=="$meta"})):W.objectStore("$meta").put(Q._cfg.version,"version"))})}),(function Q(){return Y.length?we.resolve(Y.shift()(V.idbtrans)).then(Q):we.resolve()})().then(function(){Oa(B,O)})):we.resolve();var L,H,V,O,Y,B}).catch(R)):(p(_).forEach(function(z){kr(S,z,_[z].primKey,_[z].indexes)}),oi(f,S),void we.follow(function(){return f.on.populate.fire(M)}).catch(R));var G,P})}function Al(f,g){Oa(f._dbSchema,g),g.db.version%10!=0||g.objectStoreNames.contains("$meta")||g.db.createObjectStore("$meta").add(Math.ceil(g.db.version/10-1),"version");var S=so(0,f.idbdb,g);Rl(f,f._dbSchema,g);for(var b=0,_=Ml(S,f._dbSchema).change;b<_.length;b++){var M=(function(R){if(R.change.length||R.recreate)return console.warn("Unable to patch indexes of table ".concat(R.name," because it has changes on the type of index or primary key.")),{value:void 0};var D=g.objectStore(R.name);R.add.forEach(function(G){an&&console.debug("Dexie upgrade patch: Creating missing index ".concat(R.name,".").concat(G.src)),Nl(D,G)})})(_[b]);if(typeof M=="object")return M.value}}function Ml(f,g){var S,b={del:[],add:[],change:[]};for(S in f)g[S]||b.del.push(S);for(S in g){var _=f[S],M=g[S];if(_){var R={name:S,def:M,recreate:!1,del:[],add:[],change:[]};if(""+(_.primKey.keyPath||"")!=""+(M.primKey.keyPath||"")||_.primKey.auto!==M.primKey.auto)R.recreate=!0,b.change.push(R);else{var D=_.idxByName,G=M.idxByName,P=void 0;for(P in D)G[P]||R.del.push(P);for(P in G){var z=D[P],L=G[P];z?z.src!==L.src&&R.change.push(L):R.add.push(L)}(0<R.del.length||0<R.add.length||0<R.change.length)&&b.change.push(R)}}else b.add.push([S,M])}return b}function kr(f,g,S,b){var _=f.db.createObjectStore(g,S.keyPath?{keyPath:S.keyPath,autoIncrement:S.auto}:{autoIncrement:S.auto});return b.forEach(function(M){return Nl(_,M)}),_}function Oa(f,g){p(f).forEach(function(S){g.db.objectStoreNames.contains(S)||(an&&console.debug("Dexie: Creating missing table",S),kr(g,S,f[S].primKey,f[S].indexes))})}function Nl(f,g){f.createIndex(g.name,g.keyPath,{unique:g.unique,multiEntry:g.multi})}function so(f,g,S){var b={};return ne(g.objectStoreNames,0).forEach(function(_){for(var M=S.objectStore(_),R=Ln(wl(P=M.keyPath),P||"",!0,!1,!!M.autoIncrement,P&&typeof P!="string",!0),D=[],G=0;G<M.indexNames.length;++G){var z=M.index(M.indexNames[G]),P=z.keyPath,z=Ln(z.name,P,!!z.unique,!!z.multiEntry,!1,P&&typeof P!="string",!1);D.push(z)}b[_]=lo(_,R,D)}),b}function Rl(f,g,S){for(var b=S.db.objectStoreNames,_=0;_<b.length;++_){var M=b[_],R=S.objectStore(M);f._hasGetAll="getAll"in R;for(var D=0;D<R.indexNames.length;++D){var G=R.indexNames[D],P=R.index(G).keyPath,z=typeof P=="string"?P:"["+ne(P).join("+")+"]";!g[M]||(P=g[M].idxByName[z])&&(P.name=G,delete g[M].idxByName[z],g[M].idxByName[G]=P)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&h.WorkerGlobalScope&&h instanceof h.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(f._hasGetAll=!1)}function Ha(f){return f.split(",").map(function(g,S){var b=(g=g.trim()).replace(/([&*]|\+\+)/g,""),_=/^\[/.test(b)?b.match(/^\[(.*)\]$/)[1].split("+"):b;return Ln(b,_||null,/\&/.test(g),/\*/.test(g),/\+\+/.test(g),y(_),S===0)})}var hu=(Dl.prototype._parseStoresSpec=function(f,g){p(f).forEach(function(S){if(f[S]!==null){var b=Ha(f[S]),_=b.shift();if(_.unique=!0,_.multi)throw new De.Schema("Primary key cannot be multi-valued");b.forEach(function(M){if(M.auto)throw new De.Schema("Only primary key can be marked as autoIncrement (++)");if(!M.keyPath)throw new De.Schema("Index must have a name and cannot be an empty string")}),g[S]=lo(S,_,b)}})},Dl.prototype.stores=function(S){var g=this.db;this._cfg.storesSource=this._cfg.storesSource?T(this._cfg.storesSource,S):S;var S=g._versions,b={},_={};return S.forEach(function(M){T(b,M._cfg.storesSource),_=M._cfg.dbschema={},M._parseStoresSpec(b,_)}),g._dbSchema=_,Bo(g,[g._allTables,g,g.Transaction.prototype]),_l(g,[g._allTables,g,g.Transaction.prototype,this._cfg.tables],p(_),_),g._storeNames=p(_),this},Dl.prototype.upgrade=function(f){return this._cfg.contentUpgrade=cl(this._cfg.contentUpgrade||st,f),this},Dl);function Dl(){}function Ir(f,g){var S=f._dbNamesDB;return S||(S=f._dbNamesDB=new Pn(Si,{addons:[],indexedDB:f,IDBKeyRange:g})).version(1).stores({dbnames:"name"}),S.table("dbnames")}function kl(f){return f&&typeof f.databases=="function"}function Ur(f){return yn(function(){return Me.letThrough=!0,f()})}function Lr(f){return!("from"in f)}var Qt=function(f,g){if(!this){var S=new Qt;return f&&"d"in f&&T(S,f),S}T(this,arguments.length?{d:1,from:f,to:1<arguments.length?g:f}:{d:0})};function Ho(f,g,S){var b=tt(g,S);if(!isNaN(b)){if(0<b)throw RangeError();if(Lr(f))return T(f,{from:g,to:S,d:1});var _=f.l,b=f.r;if(tt(S,f.from)<0)return _?Ho(_,g,S):f.l={from:g,to:S,d:1,l:null,r:null},Fa(f);if(0<tt(g,f.to))return b?Ho(b,g,S):f.r={from:g,to:S,d:1,l:null,r:null},Fa(f);tt(g,f.from)<0&&(f.from=g,f.l=null,f.d=b?b.d+1:1),0<tt(S,f.to)&&(f.to=S,f.r=null,f.d=f.l?f.l.d+1:1),S=!f.r,_&&!f.l&&Mi(f,_),b&&S&&Mi(f,b)}}function Mi(f,g){Lr(g)||(function S(b,G){var M=G.from,R=G.to,D=G.l,G=G.r;Ho(b,M,R),D&&S(b,D),G&&S(b,G)})(f,g)}function za(f,g){var S=Il(g),b=S.next();if(b.done)return!1;for(var _=b.value,M=Il(f),R=M.next(_.from),D=R.value;!b.done&&!R.done;){if(tt(D.from,_.to)<=0&&0<=tt(D.to,_.from))return!0;tt(_.from,D.from)<0?_=(b=S.next(D.from)).value:D=(R=M.next(_.from)).value}return!1}function Il(f){var g=Lr(f)?null:{s:0,n:f};return{next:function(S){for(var b=0<arguments.length;g;)switch(g.s){case 0:if(g.s=1,b)for(;g.n.l&&tt(S,g.n.from)<0;)g={up:g,n:g.n.l,s:1};else for(;g.n.l;)g={up:g,n:g.n.l,s:1};case 1:if(g.s=2,!b||tt(S,g.n.to)<=0)return{value:g.n,done:!1};case 2:if(g.n.r){g.s=3,g={up:g,n:g.n.r,s:0};continue}case 3:g=g.up}return{done:!0}}}}function Fa(f){var g,S,b=(((g=f.r)===null||g===void 0?void 0:g.d)||0)-(((S=f.l)===null||S===void 0?void 0:S.d)||0),_=1<b?"r":b<-1?"l":"";_&&(g=_=="r"?"l":"r",S=l({},f),b=f[_],f.from=b.from,f.to=b.to,f[_]=b[_],S[_]=b[g],(f[g]=S).d=Pr(S)),f.d=Pr(f)}function Pr(S){var g=S.r,S=S.l;return(g?S?Math.max(g.d,S.d):g.d:S?S.d:0)+1}function Ul(f,g){return p(g).forEach(function(S){f[S]?Mi(f[S],g[S]):f[S]=(function b(_){var M,R,D={};for(M in _)w(_,M)&&(R=_[M],D[M]=!R||typeof R!="object"||Ye.has(R.constructor)?R:b(R));return D})(g[S])}),f}function Vr(f,g){return f.all||g.all||Object.keys(f).some(function(S){return g[S]&&za(g[S],f[S])})}A(Qt.prototype,((dn={add:function(f){return Mi(this,f),this},addKey:function(f){return Ho(this,f,f),this},addKeys:function(f){var g=this;return f.forEach(function(S){return Ho(g,S,S)}),this},hasKey:function(f){var g=Il(this).next(f).value;return g&&tt(g.from,f)<=0&&0<=tt(g.to,f)}})[X]=function(){return Il(this)},dn));var Ni={},qr={},Gr=!1;function Ll(f){Ul(qr,f),Gr||(Gr=!0,setTimeout(function(){Gr=!1,Br(qr,!(qr={}))},0))}function Br(f,g){g===void 0&&(g=!1);var S=new Set;if(f.all)for(var b=0,_=Object.values(Ni);b<_.length;b++)Ya(R=_[b],f,S,g);else for(var M in f){var R,D=/^idb\:\/\/(.*)\/(.*)\//.exec(M);D&&(M=D[1],D=D[2],(R=Ni["idb://".concat(M,"/").concat(D)])&&Ya(R,f,S,g))}S.forEach(function(G){return G()})}function Ya(f,g,S,b){for(var _=[],M=0,R=Object.entries(f.queries.query);M<R.length;M++){for(var D=R[M],G=D[0],P=[],z=0,L=D[1];z<L.length;z++){var H=L[z];Vr(g,H.obsSet)?H.subscribers.forEach(function(B){return S.add(B)}):b&&P.push(H)}b&&_.push([G,P])}if(b)for(var V=0,O=_;V<O.length;V++){var Y=O[V],G=Y[0],P=Y[1];f.queries.query[G]=P}}function pu(f){var g=f._state,S=f._deps.indexedDB;if(g.isBeingOpened||f.idbdb)return g.dbReadyPromise.then(function(){return g.dbOpenError?pt(g.dbOpenError):f});g.isBeingOpened=!0,g.dbOpenError=null,g.openComplete=!1;var b=g.openCanceller,_=Math.round(10*f.verno),M=!1;function R(){if(g.openCanceller!==b)throw new De.DatabaseClosed("db.open() was cancelled")}function D(){return new we(function(H,V){if(R(),!S)throw new De.MissingAPI;var O=f.name,Y=g.autoSchema||!_?S.open(O):S.open(O,_);if(!Y)throw new De.MissingAPI;Y.onerror=En(V),Y.onblocked=Qe(f._fireOnBlocked),Y.onupgradeneeded=Qe(function(B){var Q;z=Y.transaction,g.autoSchema&&!f._options.allowEmptyDB?(Y.onerror=Ei,z.abort(),Y.result.close(),(Q=S.deleteDatabase(O)).onsuccess=Q.onerror=Qe(function(){V(new De.NoSuchDatabase("Database ".concat(O," doesnt exist")))})):(z.onerror=En(V),B=B.oldVersion>Math.pow(2,62)?0:B.oldVersion,L=B<1,f.idbdb=Y.result,M&&Al(f,z),Oo(f,B/10,z,V))},V),Y.onsuccess=Qe(function(){z=null;var B,Q,W,ee,le,ge=f.idbdb=Y.result,Se=ne(ge.objectStoreNames);if(0<Se.length)try{var me=ge.transaction((ee=Se).length===1?ee[0]:ee,"readonly");if(g.autoSchema)Q=ge,W=me,(B=f).verno=Q.version/10,W=B._dbSchema=so(0,Q,W),B._storeNames=ne(Q.objectStoreNames,0),_l(B,[B._allTables],p(W),W);else if(Rl(f,f._dbSchema,me),((le=Ml(so(0,(le=f).idbdb,me),le._dbSchema)).add.length||le.change.some(function(ve){return ve.add.length||ve.change.length}))&&!M)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ge.close(),_=ge.version+1,M=!0,H(D());oi(f,me)}catch{}Zi.push(f),ge.onversionchange=Qe(function(ve){g.vcFired=!0,f.on("versionchange").fire(ve)}),ge.onclose=Qe(function(ve){f.on("close").fire(ve)}),L&&(le=f._deps,me=O,ge=le.indexedDB,le=le.IDBKeyRange,kl(ge)||me===Si||Ir(ge,le).put({name:me}).catch(st)),H()},V)}).catch(function(H){switch(H==null?void 0:H.name){case"UnknownError":if(0<g.PR1398_maxLoop)return g.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),D();break;case"VersionError":if(0<_)return _=0,D()}return we.reject(H)})}var G,P=g.dbReadyResolve,z=null,L=!1;return we.race([b,(typeof navigator>"u"?we.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(H){function V(){return indexedDB.databases().finally(H)}G=setInterval(V,100),V()}).finally(function(){return clearInterval(G)}):Promise.resolve()).then(D)]).then(function(){return R(),g.onReadyBeingFired=[],we.resolve(Ur(function(){return f.on.ready.fire(f.vip)})).then(function H(){if(0<g.onReadyBeingFired.length){var V=g.onReadyBeingFired.reduce(cl,st);return g.onReadyBeingFired=[],we.resolve(Ur(function(){return V(f.vip)})).then(H)}})}).finally(function(){g.openCanceller===b&&(g.onReadyBeingFired=null,g.isBeingOpened=!1)}).catch(function(H){g.dbOpenError=H;try{z&&z.abort()}catch{}return b===g.openCanceller&&f._close(),pt(H)}).finally(function(){g.openComplete=!0,P()}).then(function(){var H;return L&&(H={},f.tables.forEach(function(V){V.schema.indexes.forEach(function(O){O.name&&(H["idb://".concat(f.name,"/").concat(V.name,"/").concat(O.name)]=new Qt(-1/0,[[[]]]))}),H["idb://".concat(f.name,"/").concat(V.name,"/")]=H["idb://".concat(f.name,"/").concat(V.name,"/:dels")]=new Qt(-1/0,[[[]]])}),Bt(oo).fire(H),Br(H,!0)),f})}function zo(f){function g(M){return f.next(M)}var S=_(g),b=_(function(M){return f.throw(M)});function _(M){return function(G){var D=M(G),G=D.value;return D.done?G:G&&typeof G.then=="function"?G.then(S,b):y(G)?Promise.all(G).then(S,b):S(G)}}return _(g)()}function li(f,g,S){for(var b=y(f)?f.slice():[f],_=0;_<S;++_)b.push(g);return b}var mu={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(f){return l(l({},f),{table:function(g){var S=f.table(g),b=S.schema,_={},M=[];function R(L,H,V){var O=Ut(L),Y=_[O]=_[O]||[],B=L==null?0:typeof L=="string"?1:L.length,Q=0<H,Q=l(l({},V),{name:Q?"".concat(O,"(virtual-from:").concat(V.name,")"):V.name,lowLevelIndex:V,isVirtual:Q,keyTail:H,keyLength:B,extractKey:ao(L),unique:!Q&&V.unique});return Y.push(Q),Q.isPrimaryKey||M.push(Q),1<B&&R(B===2?L[0]:L.slice(0,B-1),H+1,V),Y.sort(function(W,ee){return W.keyTail-ee.keyTail}),Q}g=R(b.primaryKey.keyPath,0,b.primaryKey),_[":id"]=[g];for(var D=0,G=b.indexes;D<G.length;D++){var P=G[D];R(P.keyPath,0,P)}function z(L){var H,V=L.query.index;return V.isVirtual?l(l({},L),{query:{index:V.lowLevelIndex,range:(H=L.query.range,V=V.keyTail,{type:H.type===1?2:H.type,lower:li(H.lower,H.lowerOpen?f.MAX_KEY:f.MIN_KEY,V),lowerOpen:!0,upper:li(H.upper,H.upperOpen?f.MIN_KEY:f.MAX_KEY,V),upperOpen:!0})}}):L}return l(l({},S),{schema:l(l({},b),{primaryKey:g,indexes:M,getIndexByKeyPath:function(L){return(L=_[Ut(L)])&&L[0]}}),count:function(L){return S.count(z(L))},query:function(L){return S.query(z(L))},openCursor:function(L){var H=L.query.index,V=H.keyTail,O=H.isVirtual,Y=H.keyLength;return O?S.openCursor(z(L)).then(function(Q){return Q&&B(Q)}):S.openCursor(L);function B(Q){return Object.create(Q,{continue:{value:function(W){W!=null?Q.continue(li(W,L.reverse?f.MAX_KEY:f.MIN_KEY,V)):L.unique?Q.continue(Q.key.slice(0,Y).concat(L.reverse?f.MIN_KEY:f.MAX_KEY,V)):Q.continue()}},continuePrimaryKey:{value:function(W,ee){Q.continuePrimaryKey(li(W,f.MAX_KEY,V),ee)}},primaryKey:{get:function(){return Q.primaryKey}},key:{get:function(){var W=Q.key;return Y===1?W[0]:W.slice(0,Y)}},value:{get:function(){return Q.value}}})}}})}})}};function Pl(f,g,S,b){return S=S||{},b=b||"",p(f).forEach(function(_){var M,R,D;w(g,_)?(M=f[_],R=g[_],typeof M=="object"&&typeof R=="object"&&M&&R?(D=rt(M))!==rt(R)?S[b+_]=g[_]:D==="Object"?Pl(M,R,S,b+_+"."):M!==R&&(S[b+_]=g[_]):M!==R&&(S[b+_]=g[_])):S[b+_]=void 0}),p(g).forEach(function(_){w(f,_)||(S[b+_]=g[_])}),S}function Vl(f,g){return g.type==="delete"?g.keys:g.keys||g.values.map(f.extractKey)}var Ka={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(f){return l(l({},f),{table:function(g){var S=f.table(g),b=S.schema.primaryKey;return l(l({},S),{mutate:function(_){var M=Me.trans,R=M.table(g).hook,D=R.deleting,G=R.creating,P=R.updating;switch(_.type){case"add":if(G.fire===st)break;return M._promise("readwrite",function(){return z(_)},!0);case"put":if(G.fire===st&&P.fire===st)break;return M._promise("readwrite",function(){return z(_)},!0);case"delete":if(D.fire===st)break;return M._promise("readwrite",function(){return z(_)},!0);case"deleteRange":if(D.fire===st)break;return M._promise("readwrite",function(){return(function L(H,V,O){return S.query({trans:H,values:!1,query:{index:b,range:V},limit:O}).then(function(Y){var B=Y.result;return z({type:"delete",keys:B,trans:H}).then(function(Q){return 0<Q.numFailures?Promise.reject(Q.failures[0]):B.length<O?{failures:[],numFailures:0,lastResult:void 0}:L(H,l(l({},V),{lower:B[B.length-1],lowerOpen:!0}),O)})})})(_.trans,_.range,1e4)},!0)}return S.mutate(_);function z(L){var H,V,O,Y=Me.trans,B=L.keys||Vl(b,L);if(!B)throw new Error("Keys missing");return(L=L.type==="add"||L.type==="put"?l(l({},L),{keys:B}):l({},L)).type!=="delete"&&(L.values=c([],L.values)),L.keys&&(L.keys=c([],L.keys)),H=S,O=B,((V=L).type==="add"?Promise.resolve([]):H.getMany({trans:V.trans,keys:O,cache:"immutable"})).then(function(Q){var W=B.map(function(ee,le){var ge,Se,me,ve=Q[le],Te={onerror:null,onsuccess:null};return L.type==="delete"?D.fire.call(Te,ee,ve,Y):L.type==="add"||ve===void 0?(ge=G.fire.call(Te,ee,L.values[le],Y),ee==null&&ge!=null&&(L.keys[le]=ee=ge,b.outbound||xe(L.values[le],b.keyPath,ee))):(ge=Pl(ve,L.values[le]),(Se=P.fire.call(Te,ge,ee,ve,Y))&&(me=L.values[le],Object.keys(Se).forEach(function(de){w(me,de)?me[de]=Se[de]:xe(me,de,Se[de])}))),Te});return S.mutate(L).then(function(ee){for(var le=ee.failures,ge=ee.results,Se=ee.numFailures,ee=ee.lastResult,me=0;me<B.length;++me){var ve=(ge||B)[me],Te=W[me];ve==null?Te.onerror&&Te.onerror(le[me]):Te.onsuccess&&Te.onsuccess(L.type==="put"&&Q[me]?L.values[me]:ve)}return{failures:le,results:ge,numFailures:Se,lastResult:ee}}).catch(function(ee){return W.forEach(function(le){return le.onerror&&le.onerror(ee)}),Promise.reject(ee)})})}}})}})}};function Or(f,g,S){try{if(!g||g.keys.length<f.length)return null;for(var b=[],_=0,M=0;_<g.keys.length&&M<f.length;++_)tt(g.keys[_],f[M])===0&&(b.push(S?It(g.values[_]):g.values[_]),++M);return b.length===f.length?b:null}catch{return null}}var Ja={stack:"dbcore",level:-1,create:function(f){return{table:function(g){var S=f.table(g);return l(l({},S),{getMany:function(b){if(!b.cache)return S.getMany(b);var _=Or(b.keys,b.trans._cache,b.cache==="clone");return _?we.resolve(_):S.getMany(b).then(function(M){return b.trans._cache={keys:b.keys,values:b.cache==="clone"?It(M):M},M})},mutate:function(b){return b.type!=="add"&&(b.trans._cache=null),S.mutate(b)}})}}}};function Ri(f,g){return f.trans.mode==="readonly"&&!!f.subscr&&!f.trans.explicit&&f.trans.db._options.cache!=="disabled"&&!g.schema.primaryKey.outbound}function ja(f,g){switch(f){case"query":return g.values&&!g.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var gu={stack:"dbcore",level:0,name:"Observability",create:function(f){var g=f.schema.name,S=new Qt(f.MIN_KEY,f.MAX_KEY);return l(l({},f),{transaction:function(b,_,M){if(Me.subscr&&_!=="readonly")throw new De.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Me.querier));return f.transaction(b,_,M)},table:function(b){var _=f.table(b),M=_.schema,R=M.primaryKey,L=M.indexes,D=R.extractKey,G=R.outbound,P=R.autoIncrement&&L.filter(function(V){return V.compound&&V.keyPath.includes(R.keyPath)}),z=l(l({},_),{mutate:function(V){function O(de){return de="idb://".concat(g,"/").concat(b,"/").concat(de),ee[de]||(ee[de]=new Qt)}var Y,B,Q,W=V.trans,ee=V.mutatedParts||(V.mutatedParts={}),le=O(""),ge=O(":dels"),Se=V.type,Te=V.type==="deleteRange"?[V.range]:V.type==="delete"?[V.keys]:V.values.length<50?[Vl(R,V).filter(function(de){return de}),V.values]:[],me=Te[0],ve=Te[1],Te=V.trans._cache;return y(me)?(le.addKeys(me),(Te=Se==="delete"||me.length===ve.length?Or(me,Te):null)||ge.addKeys(me),(Te||ve)&&(Y=O,B=Te,Q=ve,M.indexes.forEach(function(de){var He=Y(de.name||"");function Ue(ze){return ze!=null?de.extractKey(ze):null}function qe(ze){return de.multiEntry&&y(ze)?ze.forEach(function(hn){return He.addKey(hn)}):He.addKey(ze)}(B||Q).forEach(function(ze,Rt){var Ke=B&&Ue(B[Rt]),Rt=Q&&Ue(Q[Rt]);tt(Ke,Rt)!==0&&(Ke!=null&&qe(Ke),Rt!=null&&qe(Rt))})}))):me?(ve={from:me.lower,to:me.upper},ge.add(ve),le.add(ve)):(le.add(S),ge.add(S),M.indexes.forEach(function(de){return O(de.name).add(S)})),_.mutate(V).then(function(de){return!me||V.type!=="add"&&V.type!=="put"||(le.addKeys(de.results),P&&P.forEach(function(He){var Ue=V.values.map(function(ze){return He.extractKey(ze)}),qe=He.keyPath.findIndex(function(ze){return ze===R.keyPath});de.results.forEach(function(ze){return Ue[qe]=ze}),O(He.name).addKeys(Ue)})),W.mutatedParts=Ul(W.mutatedParts||{},ee),de})}}),L=function(O){var Y=O.query,O=Y.index,Y=Y.range;return[O,new Qt((O=Y.lower)!==null&&O!==void 0?O:f.MIN_KEY,(Y=Y.upper)!==null&&Y!==void 0?Y:f.MAX_KEY)]},H={get:function(V){return[R,new Qt(V.key)]},getMany:function(V){return[R,new Qt().addKeys(V.keys)]},count:L,query:L,openCursor:L};return p(H).forEach(function(V){z[V]=function(O){var Y=Me.subscr,B=!!Y,Q=Ri(Me,_)&&ja(V,O)?O.obsSet={}:Y;if(B){var W=function(ve){return ve="idb://".concat(g,"/").concat(b,"/").concat(ve),Q[ve]||(Q[ve]=new Qt)},ee=W(""),le=W(":dels"),Y=H[V](O),B=Y[0],Y=Y[1];if((V==="query"&&B.isPrimaryKey&&!O.values?le:W(B.name||"")).add(Y),!B.isPrimaryKey){if(V!=="count"){var ge=V==="query"&&G&&O.values&&_.query(l(l({},O),{values:!1}));return _[V].apply(this,arguments).then(function(ve){if(V==="query"){if(G&&O.values)return ge.then(function(Ue){return Ue=Ue.result,ee.addKeys(Ue),ve});var Te=O.values?ve.result.map(D):ve.result;(O.values?ee:le).addKeys(Te)}else if(V==="openCursor"){var de=ve,He=O.values;return de&&Object.create(de,{key:{get:function(){return le.addKey(de.primaryKey),de.key}},primaryKey:{get:function(){var Ue=de.primaryKey;return le.addKey(Ue),Ue}},value:{get:function(){return He&&ee.addKey(de.primaryKey),de.value}}})}return ve})}le.add(S)}}return _[V].apply(this,arguments)}}),z}})}};function Qa(f,g,S){if(S.numFailures===0)return g;if(g.type==="deleteRange")return null;var b=g.keys?g.keys.length:"values"in g&&g.values?g.values.length:1;return S.numFailures===b?null:(g=l({},g),y(g.keys)&&(g.keys=g.keys.filter(function(_,M){return!(M in S.failures)})),"values"in g&&y(g.values)&&(g.values=g.values.filter(function(_,M){return!(M in S.failures)})),g)}function ql(f,g){return S=f,((b=g).lower===void 0||(b.lowerOpen?0<tt(S,b.lower):0<=tt(S,b.lower)))&&(f=f,(g=g).upper===void 0||(g.upperOpen?tt(f,g.upper)<0:tt(f,g.upper)<=0));var S,b}function Hr(f,g,H,b,_,M){if(!H||H.length===0)return f;var R=g.query.index,D=R.multiEntry,G=g.query.range,P=b.schema.primaryKey.extractKey,z=R.extractKey,L=(R.lowLevelIndex||R).extractKey,H=H.reduce(function(V,O){var Y=V,B=[];if(O.type==="add"||O.type==="put")for(var Q=new Qt,W=O.values.length-1;0<=W;--W){var ee,le=O.values[W],ge=P(le);Q.hasKey(ge)||(ee=z(le),(D&&y(ee)?ee.some(function(Te){return ql(Te,G)}):ql(ee,G))&&(Q.addKey(ge),B.push(le)))}switch(O.type){case"add":Y=V.concat(g.values?B:B.map(function(de){return P(de)}));break;case"put":var Se=new Qt().addKeys(O.values.map(function(de){return P(de)})),Y=V.filter(function(de){return!Se.hasKey(g.values?P(de):de)}).concat(g.values?B:B.map(function(de){return P(de)}));break;case"delete":var me=new Qt().addKeys(O.keys);Y=V.filter(function(de){return!me.hasKey(g.values?P(de):de)});break;case"deleteRange":var ve=O.range;Y=V.filter(function(de){return!ql(P(de),ve)})}return Y},f);return H===f?f:(H.sort(function(V,O){return tt(L(V),L(O))||tt(P(V),P(O))}),g.limit&&g.limit<1/0&&(H.length>g.limit?H.length=g.limit:f.length===g.limit&&H.length<g.limit&&(_.dirty=!0)),M?Object.freeze(H):H)}function uo(f,g){return tt(f.lower,g.lower)===0&&tt(f.upper,g.upper)===0&&!!f.lowerOpen==!!g.lowerOpen&&!!f.upperOpen==!!g.upperOpen}function Fo(f,g){return(function(S,b,_,M){if(S===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;if((b=tt(S,b))===0){if(_&&M)return 0;if(_)return 1;if(M)return-1}return b})(f.lower,g.lower,f.lowerOpen,g.lowerOpen)<=0&&0<=(function(S,b,_,M){if(S===void 0)return b!==void 0?1:0;if(b===void 0)return-1;if((b=tt(S,b))===0){if(_&&M)return 0;if(_)return-1;if(M)return 1}return b})(f.upper,g.upper,f.upperOpen,g.upperOpen)}function yu(f,g,S,b){f.subscribers.add(S),b.addEventListener("abort",function(){var _,M;f.subscribers.delete(S),f.subscribers.size===0&&(_=f,M=g,setTimeout(function(){_.subscribers.size===0&&Ae(M,_)},3e3))})}var Gl={stack:"dbcore",level:0,name:"Cache",create:function(f){var g=f.schema.name;return l(l({},f),{transaction:function(S,b,_){var M,R,D=f.transaction(S,b,_);return b==="readwrite"&&(R=(M=new AbortController).signal,_=function(G){return function(){if(M.abort(),b==="readwrite"){for(var P=new Set,z=0,L=S;z<L.length;z++){var H=L[z],V=Ni["idb://".concat(g,"/").concat(H)];if(V){var O=f.table(H),Y=V.optimisticOps.filter(function(He){return He.trans===D});if(D._explicit&&G&&D.mutatedParts)for(var B=0,Q=Object.values(V.queries.query);B<Q.length;B++)for(var W=0,ee=(Se=Q[B]).slice();W<ee.length;W++)Vr((me=ee[W]).obsSet,D.mutatedParts)&&(Ae(Se,me),me.subscribers.forEach(function(He){return P.add(He)}));else if(0<Y.length){V.optimisticOps=V.optimisticOps.filter(function(He){return He.trans!==D});for(var le=0,ge=Object.values(V.queries.query);le<ge.length;le++)for(var Se,me,ve,Te=0,de=(Se=ge[le]).slice();Te<de.length;Te++)(me=de[Te]).res!=null&&D.mutatedParts&&(G&&!me.dirty?(ve=Object.isFrozen(me.res),ve=Hr(me.res,me.req,Y,O,me,ve),me.dirty?(Ae(Se,me),me.subscribers.forEach(function(He){return P.add(He)})):ve!==me.res&&(me.res=ve,me.promise=we.resolve({result:ve}))):(me.dirty&&Ae(Se,me),me.subscribers.forEach(function(He){return P.add(He)})))}}}P.forEach(function(He){return He()})}}},D.addEventListener("abort",_(!1),{signal:R}),D.addEventListener("error",_(!1),{signal:R}),D.addEventListener("complete",_(!0),{signal:R})),D},table:function(S){var b=f.table(S),_=b.schema.primaryKey;return l(l({},b),{mutate:function(M){var R=Me.trans;if(_.outbound||R.db._options.cache==="disabled"||R.explicit)return b.mutate(M);var D=Ni["idb://".concat(g,"/").concat(S)];return D?(R=b.mutate(M),M.type!=="add"&&M.type!=="put"||!(50<=M.values.length||Vl(_,M).some(function(G){return G==null}))?(D.optimisticOps.push(M),M.mutatedParts&&Ll(M.mutatedParts),R.then(function(G){0<G.numFailures&&(Ae(D.optimisticOps,M),(G=Qa(0,M,G))&&D.optimisticOps.push(G),M.mutatedParts&&Ll(M.mutatedParts))}),R.catch(function(){Ae(D.optimisticOps,M),M.mutatedParts&&Ll(M.mutatedParts)})):R.then(function(G){var P=Qa(0,l(l({},M),{values:M.values.map(function(V,L){var H,V=(H=_.keyPath)!==null&&H!==void 0&&H.includes(".")?It(V):l({},V);return xe(V,_.keyPath,G.results[L]),V})}),G);D.optimisticOps.push(P),queueMicrotask(function(){return M.mutatedParts&&Ll(M.mutatedParts)})}),R):b.mutate(M)},query:function(M){if(!Ri(Me,b)||!ja("query",M))return b.query(M);var R=((P=Me.trans)===null||P===void 0?void 0:P.db._options.cache)==="immutable",L=Me,D=L.requery,G=L.signal,P=(function(O,Y,B,Q){var W=Ni["idb://".concat(O,"/").concat(Y)];if(!W)return[];if(!(Y=W.queries[B]))return[null,!1,W,null];var ee=Y[(Q.query?Q.query.index.name:null)||""];if(!ee)return[null,!1,W,null];switch(B){case"query":var le=ee.find(function(ge){return ge.req.limit===Q.limit&&ge.req.values===Q.values&&uo(ge.req.query.range,Q.query.range)});return le?[le,!0,W,ee]:[ee.find(function(ge){return("limit"in ge.req?ge.req.limit:1/0)>=Q.limit&&(!Q.values||ge.req.values)&&Fo(ge.req.query.range,Q.query.range)}),!1,W,ee];case"count":return le=ee.find(function(ge){return uo(ge.req.query.range,Q.query.range)}),[le,!!le,W,ee]}})(g,S,"query",M),z=P[0],L=P[1],H=P[2],V=P[3];return z&&L?z.obsSet=M.obsSet:(L=b.query(M).then(function(O){var Y=O.result;if(z&&(z.res=Y),R){for(var B=0,Q=Y.length;B<Q;++B)Object.freeze(Y[B]);Object.freeze(Y)}else O.result=It(Y);return O}).catch(function(O){return V&&z&&Ae(V,z),Promise.reject(O)}),z={obsSet:M.obsSet,promise:L,subscribers:new Set,type:"query",req:M,dirty:!1},V?V.push(z):(V=[z],(H=H||(Ni["idb://".concat(g,"/").concat(S)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[M.query.index.name||""]=V)),yu(z,V,D,G),z.promise.then(function(O){return{result:Hr(O.result,M,H==null?void 0:H.optimisticOps,b,z,R)}})}})}})}};function Yo(f,g){return new Proxy(f,{get:function(S,b,_){return b==="db"?g:Reflect.get(S,b,_)}})}var Pn=(bt.prototype.version=function(f){if(isNaN(f)||f<.1)throw new De.Type("Given version is not a positive number");if(f=Math.round(10*f)/10,this.idbdb||this._state.isBeingOpened)throw new De.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,f);var g=this._versions,S=g.filter(function(b){return b._cfg.version===f})[0];return S||(S=new this.Version(f),g.push(S),g.sort(Dr),S.stores({}),this._state.autoSchema=!1,S)},bt.prototype._whenReady=function(f){var g=this;return this.idbdb&&(this._state.openComplete||Me.letThrough||this._vip)?f():new we(function(S,b){if(g._state.openComplete)return b(new De.DatabaseClosed(g._state.dbOpenError));if(!g._state.isBeingOpened){if(!g._state.autoOpen)return void b(new De.DatabaseClosed);g.open().catch(st)}g._state.dbReadyPromise.then(S,b)}).then(f)},bt.prototype.use=function(f){var g=f.stack,S=f.create,b=f.level,_=f.name;return _&&this.unuse({stack:g,name:_}),f=this._middlewares[g]||(this._middlewares[g]=[]),f.push({stack:g,create:S,level:b??10,name:_}),f.sort(function(M,R){return M.level-R.level}),this},bt.prototype.unuse=function(f){var g=f.stack,S=f.name,b=f.create;return g&&this._middlewares[g]&&(this._middlewares[g]=this._middlewares[g].filter(function(_){return b?_.create!==b:!!S&&_.name!==S})),this},bt.prototype.open=function(){var f=this;return ni(Sn,function(){return pu(f)})},bt.prototype._close=function(){var f=this._state,g=Zi.indexOf(this);if(0<=g&&Zi.splice(g,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}f.isBeingOpened||(f.dbReadyPromise=new we(function(S){f.dbReadyResolve=S}),f.openCanceller=new we(function(S,b){f.cancelOpen=b}))},bt.prototype.close=function(S){var g=(S===void 0?{disableAutoOpen:!0}:S).disableAutoOpen,S=this._state;g?(S.isBeingOpened&&S.cancelOpen(new De.DatabaseClosed),this._close(),S.autoOpen=!1,S.dbOpenError=new De.DatabaseClosed):(this._close(),S.autoOpen=this._options.autoOpen||S.isBeingOpened,S.openComplete=!1,S.dbOpenError=null)},bt.prototype.delete=function(f){var g=this;f===void 0&&(f={disableAutoOpen:!0});var S=0<arguments.length&&typeof arguments[0]!="object",b=this._state;return new we(function(_,M){function R(){g.close(f);var D=g._deps.indexedDB.deleteDatabase(g.name);D.onsuccess=Qe(function(){var G,P,z;G=g._deps,P=g.name,z=G.indexedDB,G=G.IDBKeyRange,kl(z)||P===Si||Ir(z,G).delete(P).catch(st),_()}),D.onerror=En(M),D.onblocked=g._fireOnBlocked}if(S)throw new De.InvalidArgument("Invalid closeOptions argument to db.delete()");b.isBeingOpened?b.dbReadyPromise.then(R):R()})},bt.prototype.backendDB=function(){return this.idbdb},bt.prototype.isOpen=function(){return this.idbdb!==null},bt.prototype.hasBeenClosed=function(){var f=this._state.dbOpenError;return f&&f.name==="DatabaseClosed"},bt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},bt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(bt.prototype,"tables",{get:function(){var f=this;return p(this._allTables).map(function(g){return f._allTables[g]})},enumerable:!1,configurable:!0}),bt.prototype.transaction=function(){var f=(function(g,S,b){var _=arguments.length;if(_<2)throw new De.InvalidArgument("Too few arguments");for(var M=new Array(_-1);--_;)M[_-1]=arguments[_];return b=M.pop(),[g,Je(M),b]}).apply(this,arguments);return this._transaction.apply(this,f)},bt.prototype._transaction=function(f,g,S){var b=this,_=Me.trans;_&&_.db===this&&f.indexOf("!")===-1||(_=null);var M,R,D=f.indexOf("?")!==-1;f=f.replace("!","").replace("?","");try{if(R=g.map(function(P){if(P=P instanceof b.Table?P.name:P,typeof P!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return P}),f=="r"||f===Wi)M=Wi;else{if(f!="rw"&&f!=wn)throw new De.InvalidArgument("Invalid transaction mode: "+f);M=wn}if(_){if(_.mode===Wi&&M===wn){if(!D)throw new De.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");_=null}_&&R.forEach(function(P){if(_&&_.storeNames.indexOf(P)===-1){if(!D)throw new De.SubTransaction("Table "+P+" not included in parent transaction.");_=null}}),D&&_&&!_.active&&(_=null)}}catch(P){return _?_._promise(null,function(z,L){L(P)}):pt(P)}var G=(function P(z,L,H,V,O){return we.resolve().then(function(){var Y=Me.transless||Me,B=z._createTransaction(L,H,z._dbSchema,V);if(B.explicit=!0,Y={trans:B,transless:Y},V)B.idbtrans=V.idbtrans;else try{B.create(),B.idbtrans._explicit=!0,z._state.PR1398_maxLoop=3}catch(ee){return ee.name===Yt.InvalidState&&z.isOpen()&&0<--z._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),z.close({disableAutoOpen:!1}),z.open().then(function(){return P(z,L,H,null,O)})):pt(ee)}var Q,W=fe(O);return W&&ti(),Y=we.follow(function(){var ee;(Q=O.call(B,B))&&(W?(ee=sn.bind(null,null),Q.then(ee,ee)):typeof Q.next=="function"&&typeof Q.throw=="function"&&(Q=zo(Q)))},Y),(Q&&typeof Q.then=="function"?we.resolve(Q).then(function(ee){return B.active?ee:pt(new De.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Y.then(function(){return Q})).then(function(ee){return V&&B._resolve(),B._completion.then(function(){return ee})}).catch(function(ee){return B._reject(ee),pt(ee)})})}).bind(null,this,M,R,_,S);return _?_._promise(M,G,"lock"):Me.trans?ni(Me.transless,function(){return b._whenReady(G)}):this._whenReady(G)},bt.prototype.table=function(f){if(!w(this._allTables,f))throw new De.InvalidTable("Table ".concat(f," does not exist"));return this._allTables[f]},bt);function bt(f,g){var S=this;this._middlewares={},this.verno=0;var b=bt.dependencies;this._options=g=l({addons:bt.addons,autoOpen:!0,indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange,cache:"cloned"},g),this._deps={indexedDB:g.indexedDB,IDBKeyRange:g.IDBKeyRange},b=g.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var _,M,R,D,G,P={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:st,dbReadyPromise:null,cancelOpen:st,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:g.autoOpen};P.dbReadyPromise=new we(function(L){P.dbReadyResolve=L}),P.openCanceller=new we(function(L,H){P.cancelOpen=H}),this._state=P,this.name=f,this.on=Vo(this,"populate","blocked","versionchange","close",{ready:[cl,st]}),this.on.ready.subscribe=ie(this.on.ready.subscribe,function(L){return function(H,V){bt.vip(function(){var O,Y=S._state;Y.openComplete?(Y.dbOpenError||we.resolve().then(H),V&&L(H)):Y.onReadyBeingFired?(Y.onReadyBeingFired.push(H),V&&L(H)):(L(H),O=S,V||L(function B(){O.on.ready.unsubscribe(H),O.on.ready.unsubscribe(B)}))})}}),this.Collection=(_=this,ii(no.prototype,function(Q,B){this.db=_;var V=Er,O=null;if(B)try{V=B()}catch(W){O=W}var Y=Q._ctx,B=Y.table,Q=B.hook.reading.fire;this._ctx={table:B,index:Y.index,isPrimKey:!Y.index||B.schema.primKey.keyPath&&Y.index===B.schema.primKey.name,range:V,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:O,or:Y.or,valueMapper:Q!==mi?Q:null}})),this.Table=(M=this,ii(cn.prototype,function(L,H,V){this.db=M,this._tx=V,this.name=L,this.schema=H,this.hook=M._allTables[L]?M._allTables[L].hook:Vo(null,{creating:[fu,st],reading:[Tr,mi],updating:[du,st],deleting:[kn,st]})})),this.Transaction=(R=this,ii(Rr.prototype,function(L,H,V,O,Y){var B=this;this.db=R,this.mode=L,this.storeNames=H,this.schema=V,this.chromeTransactionDurability=O,this.idbtrans=null,this.on=Vo(this,"complete","error","abort"),this.parent=Y||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new we(function(Q,W){B._resolve=Q,B._reject=W}),this._completion.then(function(){B.active=!1,B.on.complete.fire()},function(Q){var W=B.active;return B.active=!1,B.on.error.fire(Q),B.parent?B.parent._reject(Q):W&&B.idbtrans&&B.idbtrans.abort(),pt(Q)})})),this.Version=(D=this,ii(hu.prototype,function(L){this.db=D,this._cfg={version:L,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(G=this,ii(wi.prototype,function(L,H,V){if(this.db=G,this._ctx={table:L,index:H===":id"?null:H,or:V},this._cmp=this._ascending=tt,this._descending=function(O,Y){return tt(Y,O)},this._max=function(O,Y){return 0<tt(O,Y)?O:Y},this._min=function(O,Y){return tt(O,Y)<0?O:Y},this._IDBKeyRange=G._deps.IDBKeyRange,!this._IDBKeyRange)throw new De.MissingAPI})),this.on("versionchange",function(L){0<L.newVersion?console.warn("Another connection wants to upgrade database '".concat(S.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(S.name,"'. Closing db now to resume the delete request.")),S.close({disableAutoOpen:!1})}),this.on("blocked",function(L){!L.newVersion||L.newVersion<L.oldVersion?console.warn("Dexie.delete('".concat(S.name,"') was blocked")):console.warn("Upgrade '".concat(S.name,"' blocked by other connection holding version ").concat(L.oldVersion/10))}),this._maxKey=ro(g.IDBKeyRange),this._createTransaction=function(L,H,V,O){return new S.Transaction(L,H,V,S._options.chromeTransactionDurability,O)},this._fireOnBlocked=function(L){S.on("blocked").fire(L),Zi.filter(function(H){return H.name===S.name&&H!==S&&!H._state.vcFired}).map(function(H){return H.on("versionchange").fire(L)})},this.use(Ja),this.use(Gl),this.use(gu),this.use(mu),this.use(Ka);var z=new Proxy(this,{get:function(L,H,V){if(H==="_vip")return!0;if(H==="table")return function(Y){return Yo(S.table(Y),z)};var O=Reflect.get(L,H,V);return O instanceof cn?Yo(O,z):H==="tables"?O.map(function(Y){return Yo(Y,z)}):H==="_createTransaction"?function(){return Yo(O.apply(this,arguments),z)}:O}});this.vip=z,b.forEach(function(L){return L(S)})}var co,dn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Xa=(Bl.prototype.subscribe=function(f,g,S){return this._subscribe(f&&typeof f!="function"?f:{next:f,error:g,complete:S})},Bl.prototype[dn]=function(){return this},Bl);function Bl(f){this._subscribe=f}try{co={indexedDB:h.indexedDB||h.mozIndexedDB||h.webkitIndexedDB||h.msIndexedDB,IDBKeyRange:h.IDBKeyRange||h.webkitIDBKeyRange}}catch{co={indexedDB:null,IDBKeyRange:null}}function $a(f){var g,S=!1,b=new Xa(function(_){var M=fe(f),R,D=!1,G={},P={},z={get closed(){return D},unsubscribe:function(){D||(D=!0,R&&R.abort(),L&&Bt.storagemutated.unsubscribe(V))}};_.start&&_.start(z);var L=!1,H=function(){return Jn(O)},V=function(Y){Ul(G,Y),Vr(P,G)&&H()},O=function(){var Y,B,Q;!D&&co.indexedDB&&(G={},Y={},R&&R.abort(),R=new AbortController,Q=(function(W){var ee=ei();try{M&&ti();var le=yn(f,W);return le=M?le.finally(sn):le}finally{ee&&xi()}})(B={subscr:Y,signal:R.signal,requery:H,querier:f,trans:null}),Promise.resolve(Q).then(function(W){S=!0,g=W,D||B.signal.aborted||(G={},(function(ee){for(var le in ee)if(w(ee,le))return;return 1})(P=Y)||L||(Bt(oo,V),L=!0),Jn(function(){return!D&&_.next&&_.next(W)}))},function(W){S=!1,["DatabaseClosedError","AbortError"].includes(W==null?void 0:W.name)||D||Jn(function(){D||_.error&&_.error(W)})}))};return setTimeout(H,0),z});return b.hasValue=function(){return S},b.getValue=function(){return g},b}var Di=Pn;function zr(f){var g=ri;try{ri=!0,Bt.storagemutated.fire(f),Br(f,!0)}finally{ri=g}}A(Di,l(l({},pi),{delete:function(f){return new Di(f,{addons:[]}).delete()},exists:function(f){return new Di(f,{addons:[]}).open().then(function(g){return g.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(f){try{return g=Di.dependencies,S=g.indexedDB,g=g.IDBKeyRange,(kl(S)?Promise.resolve(S.databases()).then(function(b){return b.map(function(_){return _.name}).filter(function(_){return _!==Si})}):Ir(S,g).toCollection().primaryKeys()).then(f)}catch{return pt(new De.MissingAPI)}var g,S},defineClass:function(){return function(f){T(this,f)}},ignoreTransaction:function(f){return Me.trans?ni(Me.transless,f):f()},vip:Ur,async:function(f){return function(){try{var g=zo(f.apply(this,arguments));return g&&typeof g.then=="function"?g:we.resolve(g)}catch(S){return pt(S)}}},spawn:function(f,g,S){try{var b=zo(f.apply(S,g||[]));return b&&typeof b.then=="function"?b:we.resolve(b)}catch(_){return pt(_)}},currentTransaction:{get:function(){return Me.trans||null}},waitFor:function(f,g){return g=we.resolve(typeof f=="function"?Di.ignoreTransaction(f):f).timeout(g||6e4),Me.trans?Me.trans.waitFor(g):g},Promise:we,debug:{get:function(){return an},set:function(f){Ia(f)}},derive:te,extend:T,props:A,override:ie,Events:Vo,on:Bt,liveQuery:$a,extendObservabilitySet:Ul,getByKeyPath:ae,setByKeyPath:xe,delByKeyPath:function(f,g){typeof g=="string"?xe(f,g,void 0):"length"in g&&[].map.call(g,function(S){xe(f,S,void 0)})},shallowClone:Pe,deepClone:It,getObjectDiff:Pl,cmp:tt,asap:ce,minKey:-1/0,addons:[],connections:Zi,errnames:Yt,dependencies:co,cache:Ni,semVer:"4.0.8",version:"4.0.8".split(".").map(function(f){return parseInt(f)}).reduce(function(f,g,S){return f+g/Math.pow(10,2*S)})})),Di.maxKey=ro(Di.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Bt(oo,function(f){ri||(f=new CustomEvent(_i,{detail:f}),ri=!0,dispatchEvent(f),ri=!1)}),addEventListener(_i,function(f){f=f.detail,ri||zr(f)}));var fo,ri=!1,tn=function(){};return typeof BroadcastChannel<"u"&&((tn=function(){(fo=new BroadcastChannel(_i)).onmessage=function(f){return f.data&&zr(f.data)}})(),typeof fo.unref=="function"&&fo.unref(),Bt(oo,function(f){ri||fo.postMessage(f)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(f){if(!Pn.disableBfCache&&f.persisted){an&&console.debug("Dexie: handling persisted pagehide"),fo!=null&&fo.close();for(var g=0,S=Zi;g<S.length;g++)S[g].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(f){!Pn.disableBfCache&&f.persisted&&(an&&console.debug("Dexie: handling persisted pageshow"),tn(),zr({all:new Qt(-1/0,[[]])}))})),we.rejectionMapper=function(f,g){return!f||f instanceof Ce||f instanceof TypeError||f instanceof SyntaxError||!f.name||!ul[f.name]?f:(g=new ul[f.name](g||f.message,f),"stack"in f&&J(g,"stack",{get:function(){return this.inner.stack}}),g)},Ia(an),l(Pn,Object.freeze({__proto__:null,Dexie:Pn,liveQuery:$a,Entity:xl,cmp:tt,PropModSymbol:Wt,PropModification:to,replacePrefix:function(f,g){return new to({replacePrefix:[f,g]})},add:function(f){return new to({add:f})},remove:function(f){return new to({remove:f})},default:Pn,RangeSet:Qt,mergeRanges:Mi,rangesOverlap:za}),{default:Pn}),Pn})})(eu)),eu.exports}var Ev=wv();const ff=wf(Ev),qp=Symbol.for("Dexie"),iu=globalThis[qp]||(globalThis[qp]=ff);if(ff.semVer!==iu.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ff.semVer} and ${iu.semVer}`);const{liveQuery:_v,mergeRanges:X1,rangesOverlap:$1,RangeSet:Z1,cmp:W1,Entity:eM,PropModSymbol:tM,PropModification:nM,replacePrefix:iM,add:oM,remove:lM}=iu;function Av(n,e,o){var l,c;typeof n=="function"?(l=e||[],c=o):(l=[],c=e);var h=cr.useRef({hasResult:!1,result:c,error:null}),p=cr.useReducer(function(v){return v+1},0);p[0];var y=p[1],T=cr.useMemo(function(){var v=typeof n=="function"?n():n;if(!v||typeof v.subscribe!="function")throw n===v?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!h.current.hasResult&&typeof window<"u"&&(typeof v.hasValue!="function"||v.hasValue()))if(typeof v.getValue=="function")h.current.result=v.getValue(),h.current.hasResult=!0;else{var C=v.subscribe(function(w){h.current.result=w,h.current.hasResult=!0});typeof C=="function"?C():C.unsubscribe()}return v},l);if(cr.useDebugValue(h.current.result),cr.useEffect(function(){var v=T.subscribe(function(C){var w=h.current;(w.error!==null||w.result!==C)&&(w.error=null,w.result=C,w.hasResult=!0,y())},function(C){var w=h.current;w.error!==C&&(w.error=C,y())});return typeof v=="function"?v:v.unsubscribe.bind(v)},l),h.current.error)throw h.current.error;return h.current.result}function hi(n,e,o){return Av(function(){return _v(n)},e||[],o)}class Mv extends iu{constructor(){super("lex-database"),this.version(7).stores({notes:"id, type, createdAt, updatedAt, archived, *links.assignments",assignments:"id, dueISO, status, createdAt, updatedAt, priority, energyLevel",planSteps:"id, domain, horizon, due, completedAt, goalId",research:"id, type, createdAt, status",dailyNotes:"id, dateISO",goals:"id, domain, horizon, createdAt, *links.research",userProfile:"id",schoolInfo:"id",appearanceSettings:"id"}),this.version(6).stores({notes:"id, type, createdAt, updatedAt, archived, *links.assignments",assignments:"id, dueISO, status, createdAt, updatedAt, priority, energyLevel",planSteps:"id, domain, horizon, due, completedAt, goalId",research:"id, type, query, createdAt, *links.goals",dailyNotes:"id, dateISO",goals:"id, domain, horizon, createdAt, *links.research",userProfile:"id",schoolInfo:"id",appearanceSettings:"id"}),this.version(5).stores({notes:"id, type, createdAt, updatedAt, archived, *links.assignments",assignments:"id, dueISO, status, createdAt, updatedAt, priority, energyLevel",planSteps:"id, domain, horizon, due, completedAt, goalId",research:"id, query, createdAt, *links.goals",dailyNotes:"id, dateISO",goals:"id, domain, horizon, createdAt, *links.research",userProfile:"id",schoolInfo:"id",appearanceSettings:"id"}),this.version(4).stores({notes:"id, type, createdAt, updatedAt, archived, *links.assignments",assignments:"id, dueISO, status, createdAt, updatedAt, priority, energyLevel",planSteps:"id, domain, horizon, due, completedAt, goalId",research:"id, query, createdAt",dailyNotes:"id, dateISO",goals:"id, domain, horizon, createdAt",userProfile:"id",schoolInfo:"id",appearanceSettings:"id"}),this.version(3).stores({notes:"id, type, createdAt, updatedAt, archived, *links.assignments",assignments:"id, dueISO, status, createdAt, updatedAt",planSteps:"id, domain, horizon, due, completedAt, goalId",research:"id, query, createdAt",dailyNotes:"id, dateISO",goals:"id, domain, horizon, createdAt",userProfile:"id",schoolInfo:"id",appearanceSettings:"id"}).upgrade(e=>{console.log("Upgrading database to version 3. New tables for user settings will be created.")}),this.version(2).stores({notes:"id, type, createdAt, updatedAt, *links.assignments",assignments:"id, dueISO, status, createdAt, updatedAt",planSteps:"id, domain, horizon, due, completedAt, goalId",research:"id, createdAt, query",dailyNotes:"id, dateISO",goals:"id, domain, horizon, createdAt"}),this.version(1).stores({notes:"id, type, createdAt, updatedAt, *links.assignments",assignments:"id, dueISO, status, createdAt, updatedAt",planSteps:"id, domain, horizon, due, completedAt",research:"id, createdAt, query",dailyNotes:"id, dateISO"})}}const Fe=new Mv;async function Nv(){if(await Fe.assignments.count()===0){console.log("Seeding database with initial data for The Grind...");const e=new Date().toISOString(),o=`as_${Date.now()}`,l=`as_${Date.now()+1}`,c=`goal_${Date.now()}`;await Fe.goals.bulkAdd([{id:c,title:"Graduate with Honors",domain:"academic",horizon:"long",description:"Finish my degree with a GPA above 3.7.",status:"not_started",createdAt:e,updatedAt:e,links:{}}]),await Fe.planSteps.bulkAdd([{id:`ps_${Date.now()}`,title:"Outline thesis proposal",domain:"academic",horizon:"mid",goalId:c,links:{}}]),await Fe.assignments.bulkAdd([{id:o,title:"Physics Lab Report",course:"Physics 101",dueISO:new Date(Date.now()+2880*60*1e3).toISOString(),status:"in_progress",links:{},createdAt:e,updatedAt:e,priority:"high",energyLevel:"deep"},{id:l,title:"History Midterm Prep",course:"History 202",dueISO:new Date(Date.now()+7200*60*1e3).toISOString(),status:"todo",links:{},createdAt:e,updatedAt:e,priority:"normal",energyLevel:"medium"},{id:`as_${Date.now()+2}`,title:"Review Spanish Vocab",course:"Spanish 102",dueISO:new Date().toISOString(),status:"todo",links:{},createdAt:e,updatedAt:e,priority:"low",energyLevel:"low"},{id:`as_${Date.now()+3}`,title:"Submit Final Thesis Draft",course:"Capstone Project",dueISO:new Date(Date.now()+1440*60*1e3).toISOString(),status:"todo",links:{},createdAt:e,updatedAt:e,priority:"urgent",energyLevel:"deep"},{id:`as_${Date.now()+4}`,title:"Complete Calculus Worksheet",course:"Math 210",dueISO:new Date(Date.now()+4320*60*1e3).toISOString(),status:"done",links:{},createdAt:e,updatedAt:e,priority:"normal",energyLevel:"medium"}]),await Fe.notes.bulkAdd([{id:`note_${Date.now()}`,type:"text",title:"Initial thoughts on lab",text:"The experiment on momentum seems straightforward. Need to collect data on Friday.",createdAt:e,updatedAt:e,links:{assignments:[o]}}])}}async function _f(){const n=Fe.tables.map(o=>o.name),e={};for(const o of n)e[o]=await Fe.table(o).toArray();return JSON.stringify(e,null,2)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Rv,Dv;function kv(){return{geminiUrl:Rv,vertexUrl:Dv}}function Iv(n,e,o,l){var c,h;if(!(n!=null&&n.baseUrl)){const p=kv();return e?(c=p.vertexUrl)!==null&&c!==void 0?c:o:(h=p.geminiUrl)!==null&&h!==void 0?h:l}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class al{}function ke(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(l,c)=>{if(Object.prototype.hasOwnProperty.call(e,c)){const h=e[c];return h!=null?String(h):""}else throw new Error(`Key '${c}' not found in valueMap.`)})}function s(n,e,o){for(let h=0;h<e.length-1;h++){const p=e[h];if(p.endsWith("[]")){const y=p.slice(0,-2);if(!(y in n))if(Array.isArray(o))n[y]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(n[y])){const T=n[y];if(Array.isArray(o))for(let v=0;v<T.length;v++){const C=T[v];s(C,e.slice(h+1),o[v])}else for(const v of T)s(v,e.slice(h+1),o)}return}else if(p.endsWith("[0]")){const y=p.slice(0,-3);y in n||(n[y]=[{}]);const T=n[y];s(T[0],e.slice(h+1),o);return}(!n[p]||typeof n[p]!="object")&&(n[p]={}),n=n[p]}const l=e[e.length-1],c=n[l];if(c!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===c)return;if(typeof c=="object"&&typeof o=="object"&&c!==null&&o!==null)Object.assign(c,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else n[l]=o}function a(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return;const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2);if(c in n){const h=n[c];return Array.isArray(h)?h.map(p=>a(p,e.slice(o+1))):void 0}else return}else n=n[l]}return n}catch(o){if(o instanceof TypeError)return;throw o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function df(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gp;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Gp||(Gp={}));var Bp;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Bp||(Bp={}));var mn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(mn||(mn={}));var Op;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Op||(Op={}));var Hp;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Hp||(Hp={}));var zp;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(zp||(zp={}));var Fp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Fp||(Fp={}));var Yp;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Yp||(Yp={}));var Kp;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Kp||(Kp={}));var Jp;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Jp||(Jp={}));var jp;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(jp||(jp={}));var Qp;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Qp||(Qp={}));var Xp;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Xp||(Xp={}));var $p;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})($p||($p={}));var Zp;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Zp||(Zp={}));var Wp;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Wp||(Wp={}));var ou;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(ou||(ou={}));var em;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(em||(em={}));var hf;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(hf||(hf={}));var tm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(tm||(tm={}));var nm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(nm||(nm={}));var im;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(im||(im={}));var om;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(om||(om={}));var lm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(lm||(lm={}));var rm;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(rm||(rm={}));var am;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(am||(am={}));var sm;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(sm||(sm={}));var um;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(um||(um={}));var cm;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(cm||(cm={}));var fm;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(fm||(fm={}));var dm;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(dm||(dm={}));var hm;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(hm||(hm={}));var pm;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(pm||(pm={}));var mm;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(mm||(mm={}));var gm;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(gm||(gm={}));var ym;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ym||(ym={}));var vm;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(vm||(vm={}));var xm;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(xm||(xm={}));var Tm;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Tm||(Tm={}));var Sm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Sm||(Sm={}));var Cm;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Cm||(Cm={}));var bm;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(bm||(bm={}));var fr;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(fr||(fr={}));class pf{constructor(e){const o={};for(const l of e.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Na{get text(){var e,o,l,c,h,p,y,T;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let v="",C=!1;const w=[];for(const A of(T=(y=(p=(h=this.candidates)===null||h===void 0?void 0:h[0])===null||p===void 0?void 0:p.content)===null||y===void 0?void 0:y.parts)!==null&&T!==void 0?T:[]){for(const[I,J]of Object.entries(A))I!=="text"&&I!=="thought"&&(J!==null||J!==void 0)&&w.push(I);if(typeof A.text=="string"){if(typeof A.thought=="boolean"&&A.thought)continue;C=!0,v+=A.text}}return w.length>0&&console.warn(`there are non-text parts ${w} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),C?v:void 0}get data(){var e,o,l,c,h,p,y,T;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let v="";const C=[];for(const w of(T=(y=(p=(h=this.candidates)===null||h===void 0?void 0:h[0])===null||p===void 0?void 0:p.content)===null||y===void 0?void 0:y.parts)!==null&&T!==void 0?T:[]){for(const[A,I]of Object.entries(w))A!=="inlineData"&&(I!==null||I!==void 0)&&C.push(A);w.inlineData&&typeof w.inlineData.data=="string"&&(v+=atob(w.inlineData.data))}return C.length>0&&console.warn(`there are non-data parts ${C} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),v.length>0?btoa(v):void 0}get functionCalls(){var e,o,l,c,h,p,y,T;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const v=(T=(y=(p=(h=this.candidates)===null||h===void 0?void 0:h[0])===null||p===void 0?void 0:p.content)===null||y===void 0?void 0:y.parts)===null||T===void 0?void 0:T.filter(C=>C.functionCall).map(C=>C.functionCall).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return v}get executableCode(){var e,o,l,c,h,p,y,T,v;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const C=(T=(y=(p=(h=this.candidates)===null||h===void 0?void 0:h[0])===null||p===void 0?void 0:p.content)===null||y===void 0?void 0:y.parts)===null||T===void 0?void 0:T.filter(w=>w.executableCode).map(w=>w.executableCode).filter(w=>w!==void 0);if((C==null?void 0:C.length)!==0)return(v=C==null?void 0:C[0])===null||v===void 0?void 0:v.code}get codeExecutionResult(){var e,o,l,c,h,p,y,T,v;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const C=(T=(y=(p=(h=this.candidates)===null||h===void 0?void 0:h[0])===null||p===void 0?void 0:p.content)===null||y===void 0?void 0:y.parts)===null||T===void 0?void 0:T.filter(w=>w.codeExecutionResult).map(w=>w.codeExecutionResult).filter(w=>w!==void 0);if((C==null?void 0:C.length)!==0)return(v=C==null?void 0:C[0])===null||v===void 0?void 0:v.output}}class wm{}class Em{}class Uv{}class Lv{}class Pv{}class _m{}class Am{}class Mm{}class Vv{}class Nm{}class Rm{}class Dm{}class km{}class qv{}class Gv{}class Bv{}class Im{}class Ov{get text(){var e,o,l;let c="",h=!1;const p=[];for(const y of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[T,v]of Object.entries(y))T!=="text"&&T!=="thought"&&v!==null&&p.push(T);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;h=!0,c+=y.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?c:void 0}get data(){var e,o,l;let c="";const h=[];for(const p of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[y,T]of Object.entries(p))y!=="inlineData"&&T!==null&&h.push(y);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}}class lu{_fromAPIResponse({apiResponse:e,isVertexAI:o}){const l=new lu;if(l.name=e.name,l.metadata=e.metadata,l.done=e.done,l.error=e.error,o){const c=e.response;if(c){const h=new Nm,p=c.videos;h.generatedVideos=p==null?void 0:p.map(y=>({video:{uri:y.gcsUri,videoBytes:y.bytesBase64Encoded?df(y.bytesBase64Encoded):void 0,mimeType:y.mimeType}})),h.raiMediaFilteredCount=c.raiMediaFilteredCount,h.raiMediaFilteredReasons=c.raiMediaFilteredReasons,l.response=h}}else{const c=e.response;if(c){const h=new Nm,p=c.generateVideoResponse,y=p==null?void 0:p.generatedSamples;h.generatedVideos=y==null?void 0:y.map(T=>{const v=T.video;return{video:{uri:v==null?void 0:v.uri,videoBytes:v!=null&&v.encodedVideo?df(v==null?void 0:v.encodedVideo):void 0,mimeType:T.encoding}}}),h.raiMediaFilteredCount=p==null?void 0:p.raiMediaFilteredCount,h.raiMediaFilteredReasons=p==null?void 0:p.raiMediaFilteredReasons,l.response=h}}return l}}class Hv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ft(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function cg(n,e){const o=ft(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function fg(n){return Array.isArray(n)?n.map(e=>ru(e)):[ru(n)]}function ru(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function dg(n){const e=ru(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function hg(n){const e=ru(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Um(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function pg(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Um(e)):[Um(n)]}function mf(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Lm(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Pm(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ln(n){if(n==null)throw new Error("ContentUnion is required");return mf(n)?n:{role:"user",parts:pg(n)}}function mg(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const l=ln(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(n.isVertexAI()){const o=ln(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>ln(o)):[ln(e)]}function zn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Lm(n)||Pm(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ln(n)]}const e=[],o=[],l=mf(n[0]);for(const c of n){const h=mf(c);if(h!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(h)e.push(c);else{if(Lm(c)||Pm(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(c)}}return l||e.push({role:"user",parts:pg(o)}),e}function zv(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(l=>l!=="null");if(o.length===1)e.type=Object.values(mn).includes(o[0].toUpperCase())?o[0].toUpperCase():mn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of o)e.anyOf.push({type:Object.values(mn).includes(l.toUpperCase())?l.toUpperCase():mn.TYPE_UNSPECIFIED})}}function dr(n){const e={},o=["items"],l=["anyOf"],c=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const h=n.anyOf;h!=null&&h.length==2&&(h[0].type==="null"?(e.nullable=!0,n=h[1]):h[1].type==="null"&&(e.nullable=!0,n=h[0])),n.type instanceof Array&&zv(n.type,e);for(const[p,y]of Object.entries(n))if(y!=null)if(p=="type"){if(y==="null")throw new Error("type: null can not be the only possible type for the field.");if(y instanceof Array)continue;e.type=Object.values(mn).includes(y.toUpperCase())?y.toUpperCase():mn.TYPE_UNSPECIFIED}else if(o.includes(p))e[p]=dr(y);else if(l.includes(p)){const T=[];for(const v of y){if(v.type=="null"){e.nullable=!0;continue}T.push(dr(v))}e[p]=T}else if(c.includes(p)){const T={};for(const[v,C]of Object.entries(y))T[v]=dr(C);e[p]=T}else{if(p==="additionalProperties")continue;e[p]=y}return e}function Af(n){return dr(n)}function Mf(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Nf(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function mr(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=dr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=dr(e.response));return n}function gr(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function Fv(n,e,o,l=1){const c=!e.startsWith(`${o}/`)&&e.split("/").length===l;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:c?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:c?`${o}/${e}`:e}function Ki(n,e){if(typeof e!="string")throw new Error("name must be a string");return Fv(n,e,"cachedContents")}function gg(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function sl(n){return df(n)}function Yv(n){return n!=null&&typeof n=="object"&&"name"in n}function Kv(n){return n!=null&&typeof n=="object"&&"video"in n}function Jv(n){return n!=null&&typeof n=="object"&&"uri"in n}function yg(n){var e;let o;if(Yv(n)&&(o=n.name),!(Jv(n)&&(o=n.uri,o===void 0))&&!(Kv(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const c=o.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${o}`);o=c[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function vg(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function xg(n){for(const e of["models","tunedModels","publisherModels"])if(jv(n,e))return n[e];return[]}function jv(n,e){return n!==null&&typeof n=="object"&&e in n}function Qv(n,e={}){const o=n,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function Xv(n,e={}){const o=[],l=new Set;for(const c of n){const h=c.name;if(l.has(h))throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);l.add(h);const p=Qv(c,e);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function Tg(n,e){if(typeof e!="string"&&!Array.isArray(e)){if(n&&n.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function $v(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function yr(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Sg(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zv(n){const e={},o=a(n,["fps"]);o!=null&&s(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&s(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&s(e,["startOffset"],c),e}function Wv(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&s(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function e0(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&s(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function t0(n){const e={},o=a(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],Zv(o));const l=a(n,["thought"]);l!=null&&s(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&s(e,["inlineData"],Wv(c));const h=a(n,["fileData"]);h!=null&&s(e,["fileData"],e0(h));const p=a(n,["thoughtSignature"]);p!=null&&s(e,["thoughtSignature"],p);const y=a(n,["codeExecutionResult"]);y!=null&&s(e,["codeExecutionResult"],y);const T=a(n,["executableCode"]);T!=null&&s(e,["executableCode"],T);const v=a(n,["functionCall"]);v!=null&&s(e,["functionCall"],v);const C=a(n,["functionResponse"]);C!=null&&s(e,["functionResponse"],C);const w=a(n,["text"]);return w!=null&&s(e,["text"],w),e}function Cg(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>t0(h))),s(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&s(e,["role"],l),e}function n0(n){const e={},o=a(n,["anyOf"]);o!=null&&s(e,["anyOf"],o);const l=a(n,["default"]);l!=null&&s(e,["default"],l);const c=a(n,["description"]);c!=null&&s(e,["description"],c);const h=a(n,["enum"]);h!=null&&s(e,["enum"],h);const p=a(n,["example"]);p!=null&&s(e,["example"],p);const y=a(n,["format"]);y!=null&&s(e,["format"],y);const T=a(n,["items"]);T!=null&&s(e,["items"],T);const v=a(n,["maxItems"]);v!=null&&s(e,["maxItems"],v);const C=a(n,["maxLength"]);C!=null&&s(e,["maxLength"],C);const w=a(n,["maxProperties"]);w!=null&&s(e,["maxProperties"],w);const A=a(n,["maximum"]);A!=null&&s(e,["maximum"],A);const I=a(n,["minItems"]);I!=null&&s(e,["minItems"],I);const J=a(n,["minLength"]);J!=null&&s(e,["minLength"],J);const te=a(n,["minProperties"]);te!=null&&s(e,["minProperties"],te);const he=a(n,["minimum"]);he!=null&&s(e,["minimum"],he);const be=a(n,["nullable"]);be!=null&&s(e,["nullable"],be);const ne=a(n,["pattern"]);ne!=null&&s(e,["pattern"],ne);const ie=a(n,["properties"]);ie!=null&&s(e,["properties"],ie);const pe=a(n,["propertyOrdering"]);pe!=null&&s(e,["propertyOrdering"],pe);const ce=a(n,["required"]);ce!=null&&s(e,["required"],ce);const ae=a(n,["title"]);ae!=null&&s(e,["title"],ae);const xe=a(n,["type"]);return xe!=null&&s(e,["type"],xe),e}function i0(n){const e={};if(a(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=a(n,["category"]);o!=null&&s(e,["category"],o);const l=a(n,["threshold"]);return l!=null&&s(e,["threshold"],l),e}function o0(n){const e={},o=a(n,["behavior"]);o!=null&&s(e,["behavior"],o);const l=a(n,["description"]);l!=null&&s(e,["description"],l);const c=a(n,["name"]);c!=null&&s(e,["name"],c);const h=a(n,["parameters"]);h!=null&&s(e,["parameters"],h);const p=a(n,["parametersJsonSchema"]);p!=null&&s(e,["parametersJsonSchema"],p);const y=a(n,["response"]);y!=null&&s(e,["response"],y);const T=a(n,["responseJsonSchema"]);return T!=null&&s(e,["responseJsonSchema"],T),e}function l0(n){const e={},o=a(n,["startTime"]);o!=null&&s(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&s(e,["endTime"],l),e}function r0(n){const e={},o=a(n,["timeRangeFilter"]);return o!=null&&s(e,["timeRangeFilter"],l0(o)),e}function a0(n){const e={},o=a(n,["mode"]);o!=null&&s(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&s(e,["dynamicThreshold"],l),e}function s0(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&s(e,["dynamicRetrievalConfig"],a0(o)),e}function u0(){return{}}function c0(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(v=>o0(v))),s(e,["functionDeclarations"],T)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&s(e,["googleSearch"],r0(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&s(e,["googleSearchRetrieval"],s0(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&s(e,["urlContext"],u0());const p=a(n,["codeExecution"]);p!=null&&s(e,["codeExecution"],p);const y=a(n,["computerUse"]);return y!=null&&s(e,["computerUse"],y),e}function f0(n){const e={},o=a(n,["mode"]);o!=null&&s(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&s(e,["allowedFunctionNames"],l),e}function d0(n){const e={},o=a(n,["latitude"]);o!=null&&s(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&s(e,["longitude"],l),e}function h0(n){const e={},o=a(n,["latLng"]);o!=null&&s(e,["latLng"],d0(o));const l=a(n,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function p0(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&s(e,["functionCallingConfig"],f0(o));const l=a(n,["retrievalConfig"]);return l!=null&&s(e,["retrievalConfig"],h0(l)),e}function m0(n){const e={},o=a(n,["voiceName"]);return o!=null&&s(e,["voiceName"],o),e}function bg(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&s(e,["prebuiltVoiceConfig"],m0(o)),e}function g0(n){const e={},o=a(n,["speaker"]);o!=null&&s(e,["speaker"],o);const l=a(n,["voiceConfig"]);return l!=null&&s(e,["voiceConfig"],bg(l)),e}function y0(n){const e={},o=a(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>g0(c))),s(e,["speakerVoiceConfigs"],l)}return e}function v0(n){const e={},o=a(n,["voiceConfig"]);o!=null&&s(e,["voiceConfig"],bg(o));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&s(e,["multiSpeakerVoiceConfig"],y0(l));const c=a(n,["languageCode"]);return c!=null&&s(e,["languageCode"],c),e}function x0(n){const e={},o=a(n,["includeThoughts"]);o!=null&&s(e,["includeThoughts"],o);const l=a(n,["thinkingBudget"]);return l!=null&&s(e,["thinkingBudget"],l),e}function T0(n,e,o){const l={},c=a(e,["systemInstruction"]);o!==void 0&&c!=null&&s(o,["systemInstruction"],Cg(ln(c)));const h=a(e,["temperature"]);h!=null&&s(l,["temperature"],h);const p=a(e,["topP"]);p!=null&&s(l,["topP"],p);const y=a(e,["topK"]);y!=null&&s(l,["topK"],y);const T=a(e,["candidateCount"]);T!=null&&s(l,["candidateCount"],T);const v=a(e,["maxOutputTokens"]);v!=null&&s(l,["maxOutputTokens"],v);const C=a(e,["stopSequences"]);C!=null&&s(l,["stopSequences"],C);const w=a(e,["responseLogprobs"]);w!=null&&s(l,["responseLogprobs"],w);const A=a(e,["logprobs"]);A!=null&&s(l,["logprobs"],A);const I=a(e,["presencePenalty"]);I!=null&&s(l,["presencePenalty"],I);const J=a(e,["frequencyPenalty"]);J!=null&&s(l,["frequencyPenalty"],J);const te=a(e,["seed"]);te!=null&&s(l,["seed"],te);const he=a(e,["responseMimeType"]);he!=null&&s(l,["responseMimeType"],he);const be=a(e,["responseSchema"]);be!=null&&s(l,["responseSchema"],n0(Af(be)));const ne=a(e,["responseJsonSchema"]);if(ne!=null&&s(l,["responseJsonSchema"],ne),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const ie=a(e,["safetySettings"]);if(o!==void 0&&ie!=null){let Ye=ie;Array.isArray(Ye)&&(Ye=Ye.map(Ze=>i0(Ze))),s(o,["safetySettings"],Ye)}const pe=a(e,["tools"]);if(o!==void 0&&pe!=null){let Ye=gr(pe);Array.isArray(Ye)&&(Ye=Ye.map(Ze=>c0(mr(Ze)))),s(o,["tools"],Ye)}const ce=a(e,["toolConfig"]);if(o!==void 0&&ce!=null&&s(o,["toolConfig"],p0(ce)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ae=a(e,["cachedContent"]);o!==void 0&&ae!=null&&s(o,["cachedContent"],Ki(n,ae));const xe=a(e,["responseModalities"]);xe!=null&&s(l,["responseModalities"],xe);const Pe=a(e,["mediaResolution"]);Pe!=null&&s(l,["mediaResolution"],Pe);const Ne=a(e,["speechConfig"]);if(Ne!=null&&s(l,["speechConfig"],v0(Mf(Ne))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Je=a(e,["thinkingConfig"]);return Je!=null&&s(l,["thinkingConfig"],x0(Je)),l}function S0(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["request","model"],ft(n,l));const c=a(e,["contents"]);if(c!=null){let p=zn(c);Array.isArray(p)&&(p=p.map(y=>Cg(y))),s(o,["request","contents"],p)}const h=a(e,["config"]);return h!=null&&s(o,["request","generationConfig"],T0(n,h,o)),o}function C0(n,e){const o={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=a(e,["fileName"]);l!=null&&s(o,["fileName"],l);const c=a(e,["inlinedRequests"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>S0(n,p))),s(o,["requests","requests"],h)}return o}function b0(n,e){const o={},l=a(n,["displayName"]);if(e!==void 0&&l!=null&&s(e,["batch","displayName"],l),a(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function w0(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","model"],ft(n,l));const c=a(e,["src"]);c!=null&&s(o,["batch","inputConfig"],C0(n,Tg(n,c)));const h=a(e,["config"]);return h!=null&&s(o,["config"],b0(h,o)),o}function E0(n,e){const o={},l=a(e,["name"]);l!=null&&s(o,["_url","name"],yr(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],c),o}function _0(n,e){const o={},l=a(e,["name"]);l!=null&&s(o,["_url","name"],yr(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],c),o}function A0(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&s(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);if(e!==void 0&&c!=null&&s(e,["_query","pageToken"],c),a(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function M0(n){const e={},o=a(n,["config"]);return o!=null&&s(e,["config"],A0(o,e)),e}function N0(n,e){const o={},l=a(e,["name"]);l!=null&&s(o,["_url","name"],yr(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],c),o}function R0(n){const e={},o=a(n,["format"]);o!=null&&s(e,["instancesFormat"],o);const l=a(n,["gcsUri"]);l!=null&&s(e,["gcsSource","uris"],l);const c=a(n,["bigqueryUri"]);if(c!=null&&s(e,["bigquerySource","inputUri"],c),a(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function D0(n){const e={},o=a(n,["format"]);o!=null&&s(e,["predictionsFormat"],o);const l=a(n,["gcsUri"]);l!=null&&s(e,["gcsDestination","outputUriPrefix"],l);const c=a(n,["bigqueryUri"]);if(c!=null&&s(e,["bigqueryDestination","outputUri"],c),a(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function k0(n,e){const o={},l=a(n,["displayName"]);e!==void 0&&l!=null&&s(e,["displayName"],l);const c=a(n,["dest"]);return e!==void 0&&c!=null&&s(e,["outputConfig"],D0($v(c))),o}function I0(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["model"],ft(n,l));const c=a(e,["src"]);c!=null&&s(o,["inputConfig"],R0(Tg(n,c)));const h=a(e,["config"]);return h!=null&&s(o,["config"],k0(h,o)),o}function U0(n,e){const o={},l=a(e,["name"]);l!=null&&s(o,["_url","name"],yr(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],c),o}function L0(n,e){const o={},l=a(e,["name"]);l!=null&&s(o,["_url","name"],yr(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],c),o}function P0(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&s(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);e!==void 0&&c!=null&&s(e,["_query","pageToken"],c);const h=a(n,["filter"]);return e!==void 0&&h!=null&&s(e,["_query","filter"],h),o}function V0(n){const e={},o=a(n,["config"]);return o!=null&&s(e,["config"],P0(o,e)),e}function q0(n,e){const o={},l=a(e,["name"]);l!=null&&s(o,["_url","name"],yr(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],c),o}function G0(n){const e={},o=a(n,["fps"]);o!=null&&s(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&s(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&s(e,["startOffset"],c),e}function B0(n){const e={},o=a(n,["data"]);o!=null&&s(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function O0(n){const e={},o=a(n,["fileUri"]);o!=null&&s(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function H0(n){const e={},o=a(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],G0(o));const l=a(n,["thought"]);l!=null&&s(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&s(e,["inlineData"],B0(c));const h=a(n,["fileData"]);h!=null&&s(e,["fileData"],O0(h));const p=a(n,["thoughtSignature"]);p!=null&&s(e,["thoughtSignature"],p);const y=a(n,["codeExecutionResult"]);y!=null&&s(e,["codeExecutionResult"],y);const T=a(n,["executableCode"]);T!=null&&s(e,["executableCode"],T);const v=a(n,["functionCall"]);v!=null&&s(e,["functionCall"],v);const C=a(n,["functionResponse"]);C!=null&&s(e,["functionResponse"],C);const w=a(n,["text"]);return w!=null&&s(e,["text"],w),e}function z0(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>H0(h))),s(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&s(e,["role"],l),e}function F0(n){const e={},o=a(n,["citationSources"]);return o!=null&&s(e,["citations"],o),e}function Y0(n){const e={},o=a(n,["retrievedUrl"]);o!=null&&s(e,["retrievedUrl"],o);const l=a(n,["urlRetrievalStatus"]);return l!=null&&s(e,["urlRetrievalStatus"],l),e}function K0(n){const e={},o=a(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Y0(c))),s(e,["urlMetadata"],l)}return e}function J0(n){const e={},o=a(n,["content"]);o!=null&&s(e,["content"],z0(o));const l=a(n,["citationMetadata"]);l!=null&&s(e,["citationMetadata"],F0(l));const c=a(n,["tokenCount"]);c!=null&&s(e,["tokenCount"],c);const h=a(n,["finishReason"]);h!=null&&s(e,["finishReason"],h);const p=a(n,["urlContextMetadata"]);p!=null&&s(e,["urlContextMetadata"],K0(p));const y=a(n,["avgLogprobs"]);y!=null&&s(e,["avgLogprobs"],y);const T=a(n,["groundingMetadata"]);T!=null&&s(e,["groundingMetadata"],T);const v=a(n,["index"]);v!=null&&s(e,["index"],v);const C=a(n,["logprobsResult"]);C!=null&&s(e,["logprobsResult"],C);const w=a(n,["safetyRatings"]);return w!=null&&s(e,["safetyRatings"],w),e}function j0(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["candidates"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(v=>J0(v))),s(e,["candidates"],T)}const c=a(n,["modelVersion"]);c!=null&&s(e,["modelVersion"],c);const h=a(n,["promptFeedback"]);h!=null&&s(e,["promptFeedback"],h);const p=a(n,["responseId"]);p!=null&&s(e,["responseId"],p);const y=a(n,["usageMetadata"]);return y!=null&&s(e,["usageMetadata"],y),e}function wg(n){const e={},o=a(n,["details"]);o!=null&&s(e,["details"],o);const l=a(n,["code"]);l!=null&&s(e,["code"],l);const c=a(n,["message"]);return c!=null&&s(e,["message"],c),e}function Q0(n){const e={},o=a(n,["response"]);o!=null&&s(e,["response"],j0(o));const l=a(n,["error"]);return l!=null&&s(e,["error"],wg(l)),e}function X0(n){const e={},o=a(n,["responsesFile"]);o!=null&&s(e,["fileName"],o);const l=a(n,["inlinedResponses","inlinedResponses"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>Q0(h))),s(e,["inlinedResponses"],c)}return e}function gf(n){const e={},o=a(n,["name"]);o!=null&&s(e,["name"],o);const l=a(n,["metadata","displayName"]);l!=null&&s(e,["displayName"],l);const c=a(n,["metadata","state"]);c!=null&&s(e,["state"],Sg(c));const h=a(n,["metadata","createTime"]);h!=null&&s(e,["createTime"],h);const p=a(n,["metadata","endTime"]);p!=null&&s(e,["endTime"],p);const y=a(n,["metadata","updateTime"]);y!=null&&s(e,["updateTime"],y);const T=a(n,["metadata","model"]);T!=null&&s(e,["model"],T);const v=a(n,["metadata","output"]);return v!=null&&s(e,["dest"],X0(v)),e}function $0(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&s(e,["nextPageToken"],l);const c=a(n,["operations"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>gf(p))),s(e,["batchJobs"],h)}return e}function Z0(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&s(e,["name"],l);const c=a(n,["done"]);c!=null&&s(e,["done"],c);const h=a(n,["error"]);return h!=null&&s(e,["error"],wg(h)),e}function Eg(n){const e={},o=a(n,["details"]);o!=null&&s(e,["details"],o);const l=a(n,["code"]);l!=null&&s(e,["code"],l);const c=a(n,["message"]);return c!=null&&s(e,["message"],c),e}function W0(n){const e={},o=a(n,["instancesFormat"]);o!=null&&s(e,["format"],o);const l=a(n,["gcsSource","uris"]);l!=null&&s(e,["gcsUri"],l);const c=a(n,["bigquerySource","inputUri"]);return c!=null&&s(e,["bigqueryUri"],c),e}function ex(n){const e={},o=a(n,["predictionsFormat"]);o!=null&&s(e,["format"],o);const l=a(n,["gcsDestination","outputUriPrefix"]);l!=null&&s(e,["gcsUri"],l);const c=a(n,["bigqueryDestination","outputUri"]);return c!=null&&s(e,["bigqueryUri"],c),e}function yf(n){const e={},o=a(n,["name"]);o!=null&&s(e,["name"],o);const l=a(n,["displayName"]);l!=null&&s(e,["displayName"],l);const c=a(n,["state"]);c!=null&&s(e,["state"],Sg(c));const h=a(n,["error"]);h!=null&&s(e,["error"],Eg(h));const p=a(n,["createTime"]);p!=null&&s(e,["createTime"],p);const y=a(n,["startTime"]);y!=null&&s(e,["startTime"],y);const T=a(n,["endTime"]);T!=null&&s(e,["endTime"],T);const v=a(n,["updateTime"]);v!=null&&s(e,["updateTime"],v);const C=a(n,["model"]);C!=null&&s(e,["model"],C);const w=a(n,["inputConfig"]);w!=null&&s(e,["src"],W0(w));const A=a(n,["outputConfig"]);return A!=null&&s(e,["dest"],ex(A)),e}function tx(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&s(e,["nextPageToken"],l);const c=a(n,["batchPredictionJobs"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>yf(p))),s(e,["batchJobs"],h)}return e}function nx(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&s(e,["name"],l);const c=a(n,["done"]);c!=null&&s(e,["done"],c);const h=a(n,["error"]);return h!=null&&s(e,["error"],Eg(h)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var rl;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(rl||(rl={}));class Da{constructor(e,o,l,c){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,l,c)}init(e,o,l){var c,h;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!l||Object.keys(l).length===0?p={config:{}}:typeof l=="object"?p=Object.assign({},l):p=l,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(h=(c=p.config)===null||c===void 0?void 0:c.pageSize)!==null&&h!==void 0?h:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ix extends al{constructor(e){super(),this.apiClient=e,this.create=async o=>{if(this.apiClient.isVertexAI()){const c=Date.now().toString();if(Array.isArray(o.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(o.config=o.config||{},o.config.displayName===void 0&&(o.config.displayName="genaiBatchJob_${timestampStr}"),o.config.dest===void 0&&typeof o.src=="string")if(o.src.startsWith("gs://")&&o.src.endsWith(".jsonl"))o.config.dest=`${o.src.slice(0,-6)}/dest`;else if(o.src.startsWith("bq://"))o.config.dest=`${o.src}_dest_${c}`;else throw new Error("Unsupported source:"+o.src)}return await this.createInternal(o)},this.list=async(o={})=>new Da(rl.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o)}async createInternal(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=I0(this.apiClient,e);return y=ke("batchPredictionJobs",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json()),p.then(C=>yf(C))}else{const v=w0(this.apiClient,e);return y=ke("{model}:batchGenerateContent",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json()),p.then(C=>gf(C))}}async get(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=U0(this.apiClient,e);return y=ke("batchPredictionJobs/{name}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json()),p.then(C=>yf(C))}else{const v=E0(this.apiClient,e);return y=ke("batches/{name}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json()),p.then(C=>gf(C))}}async cancel(e){var o,l,c,h;let p="",y={};if(this.apiClient.isVertexAI()){const T=L0(this.apiClient,e);p=ke("batchPredictionJobs/{name}:cancel",T._url),y=T._query,delete T.config,delete T._url,delete T._query,await this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const T=_0(this.apiClient,e);p=ke("batches/{name}:cancel",T._url),y=T._query,delete T.config,delete T._url,delete T._query,await this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal})}}async listInternal(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=V0(e);return y=ke("batchPredictionJobs",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>{const w=tx(C),A=new Im;return Object.assign(A,w),A})}else{const v=M0(e);return y=ke("batches",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>{const w=$0(C),A=new Im;return Object.assign(A,w),A})}}async delete(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=q0(this.apiClient,e);return y=ke("batchPredictionJobs/{name}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>nx(C))}else{const v=N0(this.apiClient,e);return y=ke("batches/{name}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>Z0(C))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ox(n){const e={},o=a(n,["fps"]);o!=null&&s(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&s(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&s(e,["startOffset"],c),e}function lx(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&s(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function rx(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&s(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function ax(n){const e={},o=a(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],ox(o));const l=a(n,["thought"]);l!=null&&s(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&s(e,["inlineData"],lx(c));const h=a(n,["fileData"]);h!=null&&s(e,["fileData"],rx(h));const p=a(n,["thoughtSignature"]);p!=null&&s(e,["thoughtSignature"],p);const y=a(n,["codeExecutionResult"]);y!=null&&s(e,["codeExecutionResult"],y);const T=a(n,["executableCode"]);T!=null&&s(e,["executableCode"],T);const v=a(n,["functionCall"]);v!=null&&s(e,["functionCall"],v);const C=a(n,["functionResponse"]);C!=null&&s(e,["functionResponse"],C);const w=a(n,["text"]);return w!=null&&s(e,["text"],w),e}function Vm(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>ax(h))),s(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&s(e,["role"],l),e}function sx(n){const e={},o=a(n,["behavior"]);o!=null&&s(e,["behavior"],o);const l=a(n,["description"]);l!=null&&s(e,["description"],l);const c=a(n,["name"]);c!=null&&s(e,["name"],c);const h=a(n,["parameters"]);h!=null&&s(e,["parameters"],h);const p=a(n,["parametersJsonSchema"]);p!=null&&s(e,["parametersJsonSchema"],p);const y=a(n,["response"]);y!=null&&s(e,["response"],y);const T=a(n,["responseJsonSchema"]);return T!=null&&s(e,["responseJsonSchema"],T),e}function ux(n){const e={},o=a(n,["startTime"]);o!=null&&s(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&s(e,["endTime"],l),e}function cx(n){const e={},o=a(n,["timeRangeFilter"]);return o!=null&&s(e,["timeRangeFilter"],ux(o)),e}function fx(n){const e={},o=a(n,["mode"]);o!=null&&s(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&s(e,["dynamicThreshold"],l),e}function dx(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&s(e,["dynamicRetrievalConfig"],fx(o)),e}function hx(){return{}}function px(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(v=>sx(v))),s(e,["functionDeclarations"],T)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&s(e,["googleSearch"],cx(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&s(e,["googleSearchRetrieval"],dx(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&s(e,["urlContext"],hx());const p=a(n,["codeExecution"]);p!=null&&s(e,["codeExecution"],p);const y=a(n,["computerUse"]);return y!=null&&s(e,["computerUse"],y),e}function mx(n){const e={},o=a(n,["mode"]);o!=null&&s(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&s(e,["allowedFunctionNames"],l),e}function gx(n){const e={},o=a(n,["latitude"]);o!=null&&s(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&s(e,["longitude"],l),e}function yx(n){const e={},o=a(n,["latLng"]);o!=null&&s(e,["latLng"],gx(o));const l=a(n,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function vx(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&s(e,["functionCallingConfig"],mx(o));const l=a(n,["retrievalConfig"]);return l!=null&&s(e,["retrievalConfig"],yx(l)),e}function xx(n,e){const o={},l=a(n,["ttl"]);e!==void 0&&l!=null&&s(e,["ttl"],l);const c=a(n,["expireTime"]);e!==void 0&&c!=null&&s(e,["expireTime"],c);const h=a(n,["displayName"]);e!==void 0&&h!=null&&s(e,["displayName"],h);const p=a(n,["contents"]);if(e!==void 0&&p!=null){let C=zn(p);Array.isArray(C)&&(C=C.map(w=>Vm(w))),s(e,["contents"],C)}const y=a(n,["systemInstruction"]);e!==void 0&&y!=null&&s(e,["systemInstruction"],Vm(ln(y)));const T=a(n,["tools"]);if(e!==void 0&&T!=null){let C=T;Array.isArray(C)&&(C=C.map(w=>px(w))),s(e,["tools"],C)}const v=a(n,["toolConfig"]);if(e!==void 0&&v!=null&&s(e,["toolConfig"],vx(v)),a(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function Tx(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["model"],cg(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],xx(c,o)),o}function Sx(n,e){const o={},l=a(e,["name"]);l!=null&&s(o,["_url","name"],Ki(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],c),o}function Cx(n,e){const o={},l=a(e,["name"]);l!=null&&s(o,["_url","name"],Ki(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],c),o}function bx(n,e){const o={},l=a(n,["ttl"]);e!==void 0&&l!=null&&s(e,["ttl"],l);const c=a(n,["expireTime"]);return e!==void 0&&c!=null&&s(e,["expireTime"],c),o}function wx(n,e){const o={},l=a(e,["name"]);l!=null&&s(o,["_url","name"],Ki(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],bx(c,o)),o}function Ex(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&s(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);return e!==void 0&&c!=null&&s(e,["_query","pageToken"],c),o}function _x(n){const e={},o=a(n,["config"]);return o!=null&&s(e,["config"],Ex(o,e)),e}function Ax(n){const e={},o=a(n,["fps"]);o!=null&&s(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&s(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&s(e,["startOffset"],c),e}function Mx(n){const e={},o=a(n,["displayName"]);o!=null&&s(e,["displayName"],o);const l=a(n,["data"]);l!=null&&s(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&s(e,["mimeType"],c),e}function Nx(n){const e={},o=a(n,["displayName"]);o!=null&&s(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&s(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&s(e,["mimeType"],c),e}function Rx(n){const e={},o=a(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],Ax(o));const l=a(n,["thought"]);l!=null&&s(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&s(e,["inlineData"],Mx(c));const h=a(n,["fileData"]);h!=null&&s(e,["fileData"],Nx(h));const p=a(n,["thoughtSignature"]);p!=null&&s(e,["thoughtSignature"],p);const y=a(n,["codeExecutionResult"]);y!=null&&s(e,["codeExecutionResult"],y);const T=a(n,["executableCode"]);T!=null&&s(e,["executableCode"],T);const v=a(n,["functionCall"]);v!=null&&s(e,["functionCall"],v);const C=a(n,["functionResponse"]);C!=null&&s(e,["functionResponse"],C);const w=a(n,["text"]);return w!=null&&s(e,["text"],w),e}function qm(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>Rx(h))),s(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&s(e,["role"],l),e}function Dx(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=a(n,["description"]);o!=null&&s(e,["description"],o);const l=a(n,["name"]);l!=null&&s(e,["name"],l);const c=a(n,["parameters"]);c!=null&&s(e,["parameters"],c);const h=a(n,["parametersJsonSchema"]);h!=null&&s(e,["parametersJsonSchema"],h);const p=a(n,["response"]);p!=null&&s(e,["response"],p);const y=a(n,["responseJsonSchema"]);return y!=null&&s(e,["responseJsonSchema"],y),e}function kx(n){const e={},o=a(n,["startTime"]);o!=null&&s(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&s(e,["endTime"],l),e}function Ix(n){const e={},o=a(n,["timeRangeFilter"]);return o!=null&&s(e,["timeRangeFilter"],kx(o)),e}function Ux(n){const e={},o=a(n,["mode"]);o!=null&&s(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&s(e,["dynamicThreshold"],l),e}function Lx(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&s(e,["dynamicRetrievalConfig"],Ux(o)),e}function Px(){return{}}function Vx(n){const e={},o=a(n,["apiKeyString"]);return o!=null&&s(e,["apiKeyString"],o),e}function qx(n){const e={},o=a(n,["apiKeyConfig"]);o!=null&&s(e,["apiKeyConfig"],Vx(o));const l=a(n,["authType"]);l!=null&&s(e,["authType"],l);const c=a(n,["googleServiceAccountConfig"]);c!=null&&s(e,["googleServiceAccountConfig"],c);const h=a(n,["httpBasicAuthConfig"]);h!=null&&s(e,["httpBasicAuthConfig"],h);const p=a(n,["oauthConfig"]);p!=null&&s(e,["oauthConfig"],p);const y=a(n,["oidcConfig"]);return y!=null&&s(e,["oidcConfig"],y),e}function Gx(n){const e={},o=a(n,["authConfig"]);return o!=null&&s(e,["authConfig"],qx(o)),e}function Bx(){return{}}function Ox(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let w=o;Array.isArray(w)&&(w=w.map(A=>Dx(A))),s(e,["functionDeclarations"],w)}const l=a(n,["retrieval"]);l!=null&&s(e,["retrieval"],l);const c=a(n,["googleSearch"]);c!=null&&s(e,["googleSearch"],Ix(c));const h=a(n,["googleSearchRetrieval"]);h!=null&&s(e,["googleSearchRetrieval"],Lx(h)),a(n,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],Px());const y=a(n,["googleMaps"]);y!=null&&s(e,["googleMaps"],Gx(y)),a(n,["urlContext"])!=null&&s(e,["urlContext"],Bx());const v=a(n,["codeExecution"]);v!=null&&s(e,["codeExecution"],v);const C=a(n,["computerUse"]);return C!=null&&s(e,["computerUse"],C),e}function Hx(n){const e={},o=a(n,["mode"]);o!=null&&s(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&s(e,["allowedFunctionNames"],l),e}function zx(n){const e={},o=a(n,["latitude"]);o!=null&&s(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&s(e,["longitude"],l),e}function Fx(n){const e={},o=a(n,["latLng"]);o!=null&&s(e,["latLng"],zx(o));const l=a(n,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function Yx(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&s(e,["functionCallingConfig"],Hx(o));const l=a(n,["retrievalConfig"]);return l!=null&&s(e,["retrievalConfig"],Fx(l)),e}function Kx(n,e){const o={},l=a(n,["ttl"]);e!==void 0&&l!=null&&s(e,["ttl"],l);const c=a(n,["expireTime"]);e!==void 0&&c!=null&&s(e,["expireTime"],c);const h=a(n,["displayName"]);e!==void 0&&h!=null&&s(e,["displayName"],h);const p=a(n,["contents"]);if(e!==void 0&&p!=null){let w=zn(p);Array.isArray(w)&&(w=w.map(A=>qm(A))),s(e,["contents"],w)}const y=a(n,["systemInstruction"]);e!==void 0&&y!=null&&s(e,["systemInstruction"],qm(ln(y)));const T=a(n,["tools"]);if(e!==void 0&&T!=null){let w=T;Array.isArray(w)&&(w=w.map(A=>Ox(A))),s(e,["tools"],w)}const v=a(n,["toolConfig"]);e!==void 0&&v!=null&&s(e,["toolConfig"],Yx(v));const C=a(n,["kmsKeyName"]);return e!==void 0&&C!=null&&s(e,["encryption_spec","kmsKeyName"],C),o}function Jx(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["model"],cg(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],Kx(c,o)),o}function jx(n,e){const o={},l=a(e,["name"]);l!=null&&s(o,["_url","name"],Ki(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],c),o}function Qx(n,e){const o={},l=a(e,["name"]);l!=null&&s(o,["_url","name"],Ki(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],c),o}function Xx(n,e){const o={},l=a(n,["ttl"]);e!==void 0&&l!=null&&s(e,["ttl"],l);const c=a(n,["expireTime"]);return e!==void 0&&c!=null&&s(e,["expireTime"],c),o}function $x(n,e){const o={},l=a(e,["name"]);l!=null&&s(o,["_url","name"],Ki(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],Xx(c,o)),o}function Zx(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&s(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);return e!==void 0&&c!=null&&s(e,["_query","pageToken"],c),o}function Wx(n){const e={},o=a(n,["config"]);return o!=null&&s(e,["config"],Zx(o,e)),e}function tu(n){const e={},o=a(n,["name"]);o!=null&&s(e,["name"],o);const l=a(n,["displayName"]);l!=null&&s(e,["displayName"],l);const c=a(n,["model"]);c!=null&&s(e,["model"],c);const h=a(n,["createTime"]);h!=null&&s(e,["createTime"],h);const p=a(n,["updateTime"]);p!=null&&s(e,["updateTime"],p);const y=a(n,["expireTime"]);y!=null&&s(e,["expireTime"],y);const T=a(n,["usageMetadata"]);return T!=null&&s(e,["usageMetadata"],T),e}function eT(){return{}}function tT(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&s(e,["nextPageToken"],l);const c=a(n,["cachedContents"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>tu(p))),s(e,["cachedContents"],h)}return e}function nu(n){const e={},o=a(n,["name"]);o!=null&&s(e,["name"],o);const l=a(n,["displayName"]);l!=null&&s(e,["displayName"],l);const c=a(n,["model"]);c!=null&&s(e,["model"],c);const h=a(n,["createTime"]);h!=null&&s(e,["createTime"],h);const p=a(n,["updateTime"]);p!=null&&s(e,["updateTime"],p);const y=a(n,["expireTime"]);y!=null&&s(e,["expireTime"],y);const T=a(n,["usageMetadata"]);return T!=null&&s(e,["usageMetadata"],T),e}function nT(){return{}}function iT(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&s(e,["nextPageToken"],l);const c=a(n,["cachedContents"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>nu(p))),s(e,["cachedContents"],h)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oT extends al{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Da(rl.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=Jx(this.apiClient,e);return y=ke("cachedContents",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json()),p.then(C=>nu(C))}else{const v=Tx(this.apiClient,e);return y=ke("cachedContents",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json()),p.then(C=>tu(C))}}async get(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=jx(this.apiClient,e);return y=ke("{name}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json()),p.then(C=>nu(C))}else{const v=Sx(this.apiClient,e);return y=ke("{name}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json()),p.then(C=>tu(C))}}async delete(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=Qx(this.apiClient,e);return y=ke("{name}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json()),p.then(()=>{const C=nT(),w=new Dm;return Object.assign(w,C),w})}else{const v=Cx(this.apiClient,e);return y=ke("{name}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json()),p.then(()=>{const C=eT(),w=new Dm;return Object.assign(w,C),w})}}async update(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=$x(this.apiClient,e);return y=ke("{name}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json()),p.then(C=>nu(C))}else{const v=wx(this.apiClient,e);return y=ke("{name}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json()),p.then(C=>tu(C))}}async listInternal(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=Wx(e);return y=ke("cachedContents",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>{const w=iT(C),A=new km;return Object.assign(A,w),A})}else{const v=_x(e);return y=ke("cachedContents",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>{const w=tT(C),A=new km;return Object.assign(A,w),A})}}}function Gm(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],l=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wt(n){return this instanceof wt?(this.v=n,this):new wt(n)}function hr(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(n,e||[]),c,h=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",p),c[Symbol.asyncIterator]=function(){return this},c;function p(I){return function(J){return Promise.resolve(J).then(I,w)}}function y(I,J){l[I]&&(c[I]=function(te){return new Promise(function(he,be){h.push([I,te,he,be])>1||T(I,te)})},J&&(c[I]=J(c[I])))}function T(I,J){try{v(l[I](J))}catch(te){A(h[0][3],te)}}function v(I){I.value instanceof wt?Promise.resolve(I.value.v).then(C,w):A(h[0][2],I)}function C(I){T("next",I)}function w(I){T("throw",I)}function A(I,J){I(J),h.shift(),h.length&&T(h[0][0],h[0][1])}}function Ra(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof Gm=="function"?Gm(n):n[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(h){o[h]=n[h]&&function(p){return new Promise(function(y,T){p=n[h](p),c(y,T,p.done,p.value)})}}function c(h,p,y,T){Promise.resolve(T).then(function(v){h({value:v,done:y})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lT(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:_g(o)}function _g(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function rT(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Bm(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let l=0;for(;l<o;)if(n[l].role==="user")e.push(n[l]),l++;else{const c=[];let h=!0;for(;l<o&&n[l].role==="model";)c.push(n[l]),h&&!_g(n[l])&&(h=!1),l++;h?e.push(...c):e.pop()}return e}class aT{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new sT(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class sT{constructor(e,o,l,c={},h=[]){this.apiClient=e,this.modelsModule=o,this.model=l,this.config=c,this.history=h,this.sendPromise=Promise.resolve(),rT(h)}async sendMessage(e){var o;await this.sendPromise;const l=ln(e.message),c=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var h,p,y;const T=await c,v=(p=(h=T.candidates)===null||h===void 0?void 0:h[0])===null||p===void 0?void 0:p.content,C=T.automaticFunctionCallingHistory,w=this.getHistory(!0).length;let A=[];C!=null&&(A=(y=C.slice(w))!==null&&y!==void 0?y:[]);const I=v?[v]:[];this.recordHistory(l,I,A)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),c}async sendMessageStream(e){var o;await this.sendPromise;const l=ln(e.message),c=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=c.then(()=>{}).catch(()=>{});const h=await c;return this.processStreamResponse(h,l)}getHistory(e=!1){const o=e?Bm(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var l,c;return hr(this,arguments,function*(){var p,y,T,v;const C=[];try{for(var w=!0,A=Ra(e),I;I=yield wt(A.next()),p=I.done,!p;w=!0){v=I.value,w=!1;const J=v;if(lT(J)){const te=(c=(l=J.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;te!==void 0&&C.push(te)}yield yield wt(J)}}catch(J){y={error:J}}finally{try{!w&&!p&&(T=A.return)&&(yield wt(T.call(A)))}finally{if(y)throw y.error}}this.recordHistory(o,C)})}recordHistory(e,o,l){let c=[];o.length>0&&o.every(h=>h.role!==void 0)?c=o:c.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...Bm(l)):this.history.push(e),this.history.push(...c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class au extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,au.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uT(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&s(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);return e!==void 0&&c!=null&&s(e,["_query","pageToken"],c),o}function cT(n){const e={},o=a(n,["config"]);return o!=null&&s(e,["config"],uT(o,e)),e}function fT(n){const e={},o=a(n,["details"]);o!=null&&s(e,["details"],o);const l=a(n,["message"]);l!=null&&s(e,["message"],l);const c=a(n,["code"]);return c!=null&&s(e,["code"],c),e}function dT(n){const e={},o=a(n,["name"]);o!=null&&s(e,["name"],o);const l=a(n,["displayName"]);l!=null&&s(e,["displayName"],l);const c=a(n,["mimeType"]);c!=null&&s(e,["mimeType"],c);const h=a(n,["sizeBytes"]);h!=null&&s(e,["sizeBytes"],h);const p=a(n,["createTime"]);p!=null&&s(e,["createTime"],p);const y=a(n,["expirationTime"]);y!=null&&s(e,["expirationTime"],y);const T=a(n,["updateTime"]);T!=null&&s(e,["updateTime"],T);const v=a(n,["sha256Hash"]);v!=null&&s(e,["sha256Hash"],v);const C=a(n,["uri"]);C!=null&&s(e,["uri"],C);const w=a(n,["downloadUri"]);w!=null&&s(e,["downloadUri"],w);const A=a(n,["state"]);A!=null&&s(e,["state"],A);const I=a(n,["source"]);I!=null&&s(e,["source"],I);const J=a(n,["videoMetadata"]);J!=null&&s(e,["videoMetadata"],J);const te=a(n,["error"]);return te!=null&&s(e,["error"],fT(te)),e}function hT(n){const e={},o=a(n,["file"]);o!=null&&s(e,["file"],dT(o));const l=a(n,["config"]);return l!=null&&s(e,["config"],l),e}function pT(n){const e={},o=a(n,["name"]);o!=null&&s(e,["_url","file"],yg(o));const l=a(n,["config"]);return l!=null&&s(e,["config"],l),e}function mT(n){const e={},o=a(n,["name"]);o!=null&&s(e,["_url","file"],yg(o));const l=a(n,["config"]);return l!=null&&s(e,["config"],l),e}function gT(n){const e={},o=a(n,["details"]);o!=null&&s(e,["details"],o);const l=a(n,["message"]);l!=null&&s(e,["message"],l);const c=a(n,["code"]);return c!=null&&s(e,["code"],c),e}function vf(n){const e={},o=a(n,["name"]);o!=null&&s(e,["name"],o);const l=a(n,["displayName"]);l!=null&&s(e,["displayName"],l);const c=a(n,["mimeType"]);c!=null&&s(e,["mimeType"],c);const h=a(n,["sizeBytes"]);h!=null&&s(e,["sizeBytes"],h);const p=a(n,["createTime"]);p!=null&&s(e,["createTime"],p);const y=a(n,["expirationTime"]);y!=null&&s(e,["expirationTime"],y);const T=a(n,["updateTime"]);T!=null&&s(e,["updateTime"],T);const v=a(n,["sha256Hash"]);v!=null&&s(e,["sha256Hash"],v);const C=a(n,["uri"]);C!=null&&s(e,["uri"],C);const w=a(n,["downloadUri"]);w!=null&&s(e,["downloadUri"],w);const A=a(n,["state"]);A!=null&&s(e,["state"],A);const I=a(n,["source"]);I!=null&&s(e,["source"],I);const J=a(n,["videoMetadata"]);J!=null&&s(e,["videoMetadata"],J);const te=a(n,["error"]);return te!=null&&s(e,["error"],gT(te)),e}function yT(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&s(e,["nextPageToken"],l);const c=a(n,["files"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>vf(p))),s(e,["files"],h)}return e}function vT(n){const e={},o=a(n,["sdkHttpResponse"]);return o!=null&&s(e,["sdkHttpResponse"],o),e}function xT(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TT extends al{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Da(rl.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>vf(o))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,l;let c,h="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=cT(e);return h=ke("files",y._url),p=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:T.headers},C})),c.then(T=>{const v=yT(T),C=new qv;return Object.assign(C,v),C})}}async createInternal(e){var o,l;let c,h="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=hT(e);return h=ke("upload/v1beta/files",y._url),p=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),c.then(T=>{const v=vT(T),C=new Gv;return Object.assign(C,v),C})}}async get(e){var o,l;let c,h="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=pT(e);return h=ke("files/{file}",y._url),p=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),c.then(T=>vf(T))}}async delete(e){var o,l;let c,h="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=mT(e);return h=ke("files/{file}",y._url),p=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),c.then(()=>{const T=xT(),v=new Bv;return Object.assign(v,T),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ST(n){const e={},o=a(n,["voiceName"]);return o!=null&&s(e,["voiceName"],o),e}function Ag(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&s(e,["prebuiltVoiceConfig"],ST(o)),e}function CT(n){const e={},o=a(n,["speaker"]);o!=null&&s(e,["speaker"],o);const l=a(n,["voiceConfig"]);return l!=null&&s(e,["voiceConfig"],Ag(l)),e}function bT(n){const e={},o=a(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>CT(c))),s(e,["speakerVoiceConfigs"],l)}return e}function wT(n){const e={},o=a(n,["voiceConfig"]);o!=null&&s(e,["voiceConfig"],Ag(o));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&s(e,["multiSpeakerVoiceConfig"],bT(l));const c=a(n,["languageCode"]);return c!=null&&s(e,["languageCode"],c),e}function ET(n){const e={},o=a(n,["fps"]);o!=null&&s(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&s(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&s(e,["startOffset"],c),e}function _T(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&s(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function AT(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&s(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function MT(n){const e={},o=a(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],ET(o));const l=a(n,["thought"]);l!=null&&s(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&s(e,["inlineData"],_T(c));const h=a(n,["fileData"]);h!=null&&s(e,["fileData"],AT(h));const p=a(n,["thoughtSignature"]);p!=null&&s(e,["thoughtSignature"],p);const y=a(n,["codeExecutionResult"]);y!=null&&s(e,["codeExecutionResult"],y);const T=a(n,["executableCode"]);T!=null&&s(e,["executableCode"],T);const v=a(n,["functionCall"]);v!=null&&s(e,["functionCall"],v);const C=a(n,["functionResponse"]);C!=null&&s(e,["functionResponse"],C);const w=a(n,["text"]);return w!=null&&s(e,["text"],w),e}function NT(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>MT(h))),s(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&s(e,["role"],l),e}function RT(n){const e={},o=a(n,["behavior"]);o!=null&&s(e,["behavior"],o);const l=a(n,["description"]);l!=null&&s(e,["description"],l);const c=a(n,["name"]);c!=null&&s(e,["name"],c);const h=a(n,["parameters"]);h!=null&&s(e,["parameters"],h);const p=a(n,["parametersJsonSchema"]);p!=null&&s(e,["parametersJsonSchema"],p);const y=a(n,["response"]);y!=null&&s(e,["response"],y);const T=a(n,["responseJsonSchema"]);return T!=null&&s(e,["responseJsonSchema"],T),e}function DT(n){const e={},o=a(n,["startTime"]);o!=null&&s(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&s(e,["endTime"],l),e}function kT(n){const e={},o=a(n,["timeRangeFilter"]);return o!=null&&s(e,["timeRangeFilter"],DT(o)),e}function IT(n){const e={},o=a(n,["mode"]);o!=null&&s(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&s(e,["dynamicThreshold"],l),e}function UT(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&s(e,["dynamicRetrievalConfig"],IT(o)),e}function LT(){return{}}function PT(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(v=>RT(v))),s(e,["functionDeclarations"],T)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&s(e,["googleSearch"],kT(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&s(e,["googleSearchRetrieval"],UT(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&s(e,["urlContext"],LT());const p=a(n,["codeExecution"]);p!=null&&s(e,["codeExecution"],p);const y=a(n,["computerUse"]);return y!=null&&s(e,["computerUse"],y),e}function VT(n){const e={},o=a(n,["handle"]);if(o!=null&&s(e,["handle"],o),a(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Om(){return{}}function qT(n){const e={},o=a(n,["disabled"]);o!=null&&s(e,["disabled"],o);const l=a(n,["startOfSpeechSensitivity"]);l!=null&&s(e,["startOfSpeechSensitivity"],l);const c=a(n,["endOfSpeechSensitivity"]);c!=null&&s(e,["endOfSpeechSensitivity"],c);const h=a(n,["prefixPaddingMs"]);h!=null&&s(e,["prefixPaddingMs"],h);const p=a(n,["silenceDurationMs"]);return p!=null&&s(e,["silenceDurationMs"],p),e}function GT(n){const e={},o=a(n,["automaticActivityDetection"]);o!=null&&s(e,["automaticActivityDetection"],qT(o));const l=a(n,["activityHandling"]);l!=null&&s(e,["activityHandling"],l);const c=a(n,["turnCoverage"]);return c!=null&&s(e,["turnCoverage"],c),e}function BT(n){const e={},o=a(n,["targetTokens"]);return o!=null&&s(e,["targetTokens"],o),e}function OT(n){const e={},o=a(n,["triggerTokens"]);o!=null&&s(e,["triggerTokens"],o);const l=a(n,["slidingWindow"]);return l!=null&&s(e,["slidingWindow"],BT(l)),e}function HT(n){const e={},o=a(n,["proactiveAudio"]);return o!=null&&s(e,["proactiveAudio"],o),e}function zT(n,e){const o={},l=a(n,["generationConfig"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig"],l);const c=a(n,["responseModalities"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","responseModalities"],c);const h=a(n,["temperature"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","temperature"],h);const p=a(n,["topP"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","topP"],p);const y=a(n,["topK"]);e!==void 0&&y!=null&&s(e,["setup","generationConfig","topK"],y);const T=a(n,["maxOutputTokens"]);e!==void 0&&T!=null&&s(e,["setup","generationConfig","maxOutputTokens"],T);const v=a(n,["mediaResolution"]);e!==void 0&&v!=null&&s(e,["setup","generationConfig","mediaResolution"],v);const C=a(n,["seed"]);e!==void 0&&C!=null&&s(e,["setup","generationConfig","seed"],C);const w=a(n,["speechConfig"]);e!==void 0&&w!=null&&s(e,["setup","generationConfig","speechConfig"],wT(Nf(w)));const A=a(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],A);const I=a(n,["systemInstruction"]);e!==void 0&&I!=null&&s(e,["setup","systemInstruction"],NT(ln(I)));const J=a(n,["tools"]);if(e!==void 0&&J!=null){let ce=gr(J);Array.isArray(ce)&&(ce=ce.map(ae=>PT(mr(ae)))),s(e,["setup","tools"],ce)}const te=a(n,["sessionResumption"]);e!==void 0&&te!=null&&s(e,["setup","sessionResumption"],VT(te));const he=a(n,["inputAudioTranscription"]);e!==void 0&&he!=null&&s(e,["setup","inputAudioTranscription"],Om());const be=a(n,["outputAudioTranscription"]);e!==void 0&&be!=null&&s(e,["setup","outputAudioTranscription"],Om());const ne=a(n,["realtimeInputConfig"]);e!==void 0&&ne!=null&&s(e,["setup","realtimeInputConfig"],GT(ne));const ie=a(n,["contextWindowCompression"]);e!==void 0&&ie!=null&&s(e,["setup","contextWindowCompression"],OT(ie));const pe=a(n,["proactivity"]);return e!==void 0&&pe!=null&&s(e,["setup","proactivity"],HT(pe)),o}function FT(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["setup","model"],ft(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],zT(c,o)),o}function YT(){return{}}function KT(){return{}}function JT(n){const e={},o=a(n,["media"]);o!=null&&s(e,["mediaChunks"],fg(o));const l=a(n,["audio"]);l!=null&&s(e,["audio"],hg(l));const c=a(n,["audioStreamEnd"]);c!=null&&s(e,["audioStreamEnd"],c);const h=a(n,["video"]);h!=null&&s(e,["video"],dg(h));const p=a(n,["text"]);return p!=null&&s(e,["text"],p),a(n,["activityStart"])!=null&&s(e,["activityStart"],YT()),a(n,["activityEnd"])!=null&&s(e,["activityEnd"],KT()),e}function Mg(n){const e={},o=a(n,["text"]);o!=null&&s(e,["text"],o);const l=a(n,["weight"]);return l!=null&&s(e,["weight"],l),e}function jT(n){const e={},o=a(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Mg(c))),s(e,["weightedPrompts"],l)}return e}function Ng(n){const e={},o=a(n,["temperature"]);o!=null&&s(e,["temperature"],o);const l=a(n,["topK"]);l!=null&&s(e,["topK"],l);const c=a(n,["seed"]);c!=null&&s(e,["seed"],c);const h=a(n,["guidance"]);h!=null&&s(e,["guidance"],h);const p=a(n,["bpm"]);p!=null&&s(e,["bpm"],p);const y=a(n,["density"]);y!=null&&s(e,["density"],y);const T=a(n,["brightness"]);T!=null&&s(e,["brightness"],T);const v=a(n,["scale"]);v!=null&&s(e,["scale"],v);const C=a(n,["muteBass"]);C!=null&&s(e,["muteBass"],C);const w=a(n,["muteDrums"]);w!=null&&s(e,["muteDrums"],w);const A=a(n,["onlyBassAndDrums"]);A!=null&&s(e,["onlyBassAndDrums"],A);const I=a(n,["musicGenerationMode"]);return I!=null&&s(e,["musicGenerationMode"],I),e}function QT(n){const e={},o=a(n,["musicGenerationConfig"]);return o!=null&&s(e,["musicGenerationConfig"],Ng(o)),e}function Rg(n){const e={},o=a(n,["model"]);return o!=null&&s(e,["model"],o),e}function Dg(n){const e={},o=a(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Mg(c))),s(e,["weightedPrompts"],l)}return e}function xf(n){const e={},o=a(n,["setup"]);o!=null&&s(e,["setup"],Rg(o));const l=a(n,["clientContent"]);l!=null&&s(e,["clientContent"],Dg(l));const c=a(n,["musicGenerationConfig"]);c!=null&&s(e,["musicGenerationConfig"],Ng(c));const h=a(n,["playbackControl"]);return h!=null&&s(e,["playbackControl"],h),e}function XT(n){const e={},o=a(n,["voiceName"]);return o!=null&&s(e,["voiceName"],o),e}function $T(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&s(e,["prebuiltVoiceConfig"],XT(o)),e}function ZT(n){const e={},o=a(n,["voiceConfig"]);if(o!=null&&s(e,["voiceConfig"],$T(o)),a(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(n,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function WT(n){const e={},o=a(n,["fps"]);o!=null&&s(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&s(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&s(e,["startOffset"],c),e}function eS(n){const e={},o=a(n,["displayName"]);o!=null&&s(e,["displayName"],o);const l=a(n,["data"]);l!=null&&s(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&s(e,["mimeType"],c),e}function tS(n){const e={},o=a(n,["displayName"]);o!=null&&s(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&s(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&s(e,["mimeType"],c),e}function nS(n){const e={},o=a(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],WT(o));const l=a(n,["thought"]);l!=null&&s(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&s(e,["inlineData"],eS(c));const h=a(n,["fileData"]);h!=null&&s(e,["fileData"],tS(h));const p=a(n,["thoughtSignature"]);p!=null&&s(e,["thoughtSignature"],p);const y=a(n,["codeExecutionResult"]);y!=null&&s(e,["codeExecutionResult"],y);const T=a(n,["executableCode"]);T!=null&&s(e,["executableCode"],T);const v=a(n,["functionCall"]);v!=null&&s(e,["functionCall"],v);const C=a(n,["functionResponse"]);C!=null&&s(e,["functionResponse"],C);const w=a(n,["text"]);return w!=null&&s(e,["text"],w),e}function iS(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>nS(h))),s(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&s(e,["role"],l),e}function oS(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=a(n,["description"]);o!=null&&s(e,["description"],o);const l=a(n,["name"]);l!=null&&s(e,["name"],l);const c=a(n,["parameters"]);c!=null&&s(e,["parameters"],c);const h=a(n,["parametersJsonSchema"]);h!=null&&s(e,["parametersJsonSchema"],h);const p=a(n,["response"]);p!=null&&s(e,["response"],p);const y=a(n,["responseJsonSchema"]);return y!=null&&s(e,["responseJsonSchema"],y),e}function lS(n){const e={},o=a(n,["startTime"]);o!=null&&s(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&s(e,["endTime"],l),e}function rS(n){const e={},o=a(n,["timeRangeFilter"]);return o!=null&&s(e,["timeRangeFilter"],lS(o)),e}function aS(n){const e={},o=a(n,["mode"]);o!=null&&s(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&s(e,["dynamicThreshold"],l),e}function sS(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&s(e,["dynamicRetrievalConfig"],aS(o)),e}function uS(){return{}}function cS(n){const e={},o=a(n,["apiKeyString"]);return o!=null&&s(e,["apiKeyString"],o),e}function fS(n){const e={},o=a(n,["apiKeyConfig"]);o!=null&&s(e,["apiKeyConfig"],cS(o));const l=a(n,["authType"]);l!=null&&s(e,["authType"],l);const c=a(n,["googleServiceAccountConfig"]);c!=null&&s(e,["googleServiceAccountConfig"],c);const h=a(n,["httpBasicAuthConfig"]);h!=null&&s(e,["httpBasicAuthConfig"],h);const p=a(n,["oauthConfig"]);p!=null&&s(e,["oauthConfig"],p);const y=a(n,["oidcConfig"]);return y!=null&&s(e,["oidcConfig"],y),e}function dS(n){const e={},o=a(n,["authConfig"]);return o!=null&&s(e,["authConfig"],fS(o)),e}function hS(){return{}}function pS(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let w=o;Array.isArray(w)&&(w=w.map(A=>oS(A))),s(e,["functionDeclarations"],w)}const l=a(n,["retrieval"]);l!=null&&s(e,["retrieval"],l);const c=a(n,["googleSearch"]);c!=null&&s(e,["googleSearch"],rS(c));const h=a(n,["googleSearchRetrieval"]);h!=null&&s(e,["googleSearchRetrieval"],sS(h)),a(n,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],uS());const y=a(n,["googleMaps"]);y!=null&&s(e,["googleMaps"],dS(y)),a(n,["urlContext"])!=null&&s(e,["urlContext"],hS());const v=a(n,["codeExecution"]);v!=null&&s(e,["codeExecution"],v);const C=a(n,["computerUse"]);return C!=null&&s(e,["computerUse"],C),e}function mS(n){const e={},o=a(n,["handle"]);o!=null&&s(e,["handle"],o);const l=a(n,["transparent"]);return l!=null&&s(e,["transparent"],l),e}function Hm(){return{}}function gS(n){const e={},o=a(n,["disabled"]);o!=null&&s(e,["disabled"],o);const l=a(n,["startOfSpeechSensitivity"]);l!=null&&s(e,["startOfSpeechSensitivity"],l);const c=a(n,["endOfSpeechSensitivity"]);c!=null&&s(e,["endOfSpeechSensitivity"],c);const h=a(n,["prefixPaddingMs"]);h!=null&&s(e,["prefixPaddingMs"],h);const p=a(n,["silenceDurationMs"]);return p!=null&&s(e,["silenceDurationMs"],p),e}function yS(n){const e={},o=a(n,["automaticActivityDetection"]);o!=null&&s(e,["automaticActivityDetection"],gS(o));const l=a(n,["activityHandling"]);l!=null&&s(e,["activityHandling"],l);const c=a(n,["turnCoverage"]);return c!=null&&s(e,["turnCoverage"],c),e}function vS(n){const e={},o=a(n,["targetTokens"]);return o!=null&&s(e,["targetTokens"],o),e}function xS(n){const e={},o=a(n,["triggerTokens"]);o!=null&&s(e,["triggerTokens"],o);const l=a(n,["slidingWindow"]);return l!=null&&s(e,["slidingWindow"],vS(l)),e}function TS(n){const e={},o=a(n,["proactiveAudio"]);return o!=null&&s(e,["proactiveAudio"],o),e}function SS(n,e){const o={},l=a(n,["generationConfig"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig"],l);const c=a(n,["responseModalities"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","responseModalities"],c);const h=a(n,["temperature"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","temperature"],h);const p=a(n,["topP"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","topP"],p);const y=a(n,["topK"]);e!==void 0&&y!=null&&s(e,["setup","generationConfig","topK"],y);const T=a(n,["maxOutputTokens"]);e!==void 0&&T!=null&&s(e,["setup","generationConfig","maxOutputTokens"],T);const v=a(n,["mediaResolution"]);e!==void 0&&v!=null&&s(e,["setup","generationConfig","mediaResolution"],v);const C=a(n,["seed"]);e!==void 0&&C!=null&&s(e,["setup","generationConfig","seed"],C);const w=a(n,["speechConfig"]);e!==void 0&&w!=null&&s(e,["setup","generationConfig","speechConfig"],ZT(Nf(w)));const A=a(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],A);const I=a(n,["systemInstruction"]);e!==void 0&&I!=null&&s(e,["setup","systemInstruction"],iS(ln(I)));const J=a(n,["tools"]);if(e!==void 0&&J!=null){let ce=gr(J);Array.isArray(ce)&&(ce=ce.map(ae=>pS(mr(ae)))),s(e,["setup","tools"],ce)}const te=a(n,["sessionResumption"]);e!==void 0&&te!=null&&s(e,["setup","sessionResumption"],mS(te));const he=a(n,["inputAudioTranscription"]);e!==void 0&&he!=null&&s(e,["setup","inputAudioTranscription"],Hm());const be=a(n,["outputAudioTranscription"]);e!==void 0&&be!=null&&s(e,["setup","outputAudioTranscription"],Hm());const ne=a(n,["realtimeInputConfig"]);e!==void 0&&ne!=null&&s(e,["setup","realtimeInputConfig"],yS(ne));const ie=a(n,["contextWindowCompression"]);e!==void 0&&ie!=null&&s(e,["setup","contextWindowCompression"],xS(ie));const pe=a(n,["proactivity"]);return e!==void 0&&pe!=null&&s(e,["setup","proactivity"],TS(pe)),o}function CS(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["setup","model"],ft(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],SS(c,o)),o}function bS(){return{}}function wS(){return{}}function ES(n){const e={},o=a(n,["media"]);o!=null&&s(e,["mediaChunks"],fg(o));const l=a(n,["audio"]);l!=null&&s(e,["audio"],hg(l));const c=a(n,["audioStreamEnd"]);c!=null&&s(e,["audioStreamEnd"],c);const h=a(n,["video"]);h!=null&&s(e,["video"],dg(h));const p=a(n,["text"]);return p!=null&&s(e,["text"],p),a(n,["activityStart"])!=null&&s(e,["activityStart"],bS()),a(n,["activityEnd"])!=null&&s(e,["activityEnd"],wS()),e}function _S(){return{}}function AS(n){const e={},o=a(n,["fps"]);o!=null&&s(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&s(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&s(e,["startOffset"],c),e}function MS(n){const e={},o=a(n,["data"]);o!=null&&s(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function NS(n){const e={},o=a(n,["fileUri"]);o!=null&&s(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function RS(n){const e={},o=a(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],AS(o));const l=a(n,["thought"]);l!=null&&s(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&s(e,["inlineData"],MS(c));const h=a(n,["fileData"]);h!=null&&s(e,["fileData"],NS(h));const p=a(n,["thoughtSignature"]);p!=null&&s(e,["thoughtSignature"],p);const y=a(n,["codeExecutionResult"]);y!=null&&s(e,["codeExecutionResult"],y);const T=a(n,["executableCode"]);T!=null&&s(e,["executableCode"],T);const v=a(n,["functionCall"]);v!=null&&s(e,["functionCall"],v);const C=a(n,["functionResponse"]);C!=null&&s(e,["functionResponse"],C);const w=a(n,["text"]);return w!=null&&s(e,["text"],w),e}function DS(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>RS(h))),s(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&s(e,["role"],l),e}function zm(n){const e={},o=a(n,["text"]);o!=null&&s(e,["text"],o);const l=a(n,["finished"]);return l!=null&&s(e,["finished"],l),e}function kS(n){const e={},o=a(n,["retrievedUrl"]);o!=null&&s(e,["retrievedUrl"],o);const l=a(n,["urlRetrievalStatus"]);return l!=null&&s(e,["urlRetrievalStatus"],l),e}function IS(n){const e={},o=a(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>kS(c))),s(e,["urlMetadata"],l)}return e}function US(n){const e={},o=a(n,["modelTurn"]);o!=null&&s(e,["modelTurn"],DS(o));const l=a(n,["turnComplete"]);l!=null&&s(e,["turnComplete"],l);const c=a(n,["interrupted"]);c!=null&&s(e,["interrupted"],c);const h=a(n,["groundingMetadata"]);h!=null&&s(e,["groundingMetadata"],h);const p=a(n,["generationComplete"]);p!=null&&s(e,["generationComplete"],p);const y=a(n,["inputTranscription"]);y!=null&&s(e,["inputTranscription"],zm(y));const T=a(n,["outputTranscription"]);T!=null&&s(e,["outputTranscription"],zm(T));const v=a(n,["urlContextMetadata"]);return v!=null&&s(e,["urlContextMetadata"],IS(v)),e}function LS(n){const e={},o=a(n,["id"]);o!=null&&s(e,["id"],o);const l=a(n,["args"]);l!=null&&s(e,["args"],l);const c=a(n,["name"]);return c!=null&&s(e,["name"],c),e}function PS(n){const e={},o=a(n,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>LS(c))),s(e,["functionCalls"],l)}return e}function VS(n){const e={},o=a(n,["ids"]);return o!=null&&s(e,["ids"],o),e}function js(n){const e={},o=a(n,["modality"]);o!=null&&s(e,["modality"],o);const l=a(n,["tokenCount"]);return l!=null&&s(e,["tokenCount"],l),e}function qS(n){const e={},o=a(n,["promptTokenCount"]);o!=null&&s(e,["promptTokenCount"],o);const l=a(n,["cachedContentTokenCount"]);l!=null&&s(e,["cachedContentTokenCount"],l);const c=a(n,["responseTokenCount"]);c!=null&&s(e,["responseTokenCount"],c);const h=a(n,["toolUsePromptTokenCount"]);h!=null&&s(e,["toolUsePromptTokenCount"],h);const p=a(n,["thoughtsTokenCount"]);p!=null&&s(e,["thoughtsTokenCount"],p);const y=a(n,["totalTokenCount"]);y!=null&&s(e,["totalTokenCount"],y);const T=a(n,["promptTokensDetails"]);if(T!=null){let A=T;Array.isArray(A)&&(A=A.map(I=>js(I))),s(e,["promptTokensDetails"],A)}const v=a(n,["cacheTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(I=>js(I))),s(e,["cacheTokensDetails"],A)}const C=a(n,["responseTokensDetails"]);if(C!=null){let A=C;Array.isArray(A)&&(A=A.map(I=>js(I))),s(e,["responseTokensDetails"],A)}const w=a(n,["toolUsePromptTokensDetails"]);if(w!=null){let A=w;Array.isArray(A)&&(A=A.map(I=>js(I))),s(e,["toolUsePromptTokensDetails"],A)}return e}function GS(n){const e={},o=a(n,["timeLeft"]);return o!=null&&s(e,["timeLeft"],o),e}function BS(n){const e={},o=a(n,["newHandle"]);o!=null&&s(e,["newHandle"],o);const l=a(n,["resumable"]);l!=null&&s(e,["resumable"],l);const c=a(n,["lastConsumedClientMessageIndex"]);return c!=null&&s(e,["lastConsumedClientMessageIndex"],c),e}function OS(n){const e={};a(n,["setupComplete"])!=null&&s(e,["setupComplete"],_S());const l=a(n,["serverContent"]);l!=null&&s(e,["serverContent"],US(l));const c=a(n,["toolCall"]);c!=null&&s(e,["toolCall"],PS(c));const h=a(n,["toolCallCancellation"]);h!=null&&s(e,["toolCallCancellation"],VS(h));const p=a(n,["usageMetadata"]);p!=null&&s(e,["usageMetadata"],qS(p));const y=a(n,["goAway"]);y!=null&&s(e,["goAway"],GS(y));const T=a(n,["sessionResumptionUpdate"]);return T!=null&&s(e,["sessionResumptionUpdate"],BS(T)),e}function HS(){return{}}function zS(n){const e={},o=a(n,["text"]);o!=null&&s(e,["text"],o);const l=a(n,["weight"]);return l!=null&&s(e,["weight"],l),e}function FS(n){const e={},o=a(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>zS(c))),s(e,["weightedPrompts"],l)}return e}function YS(n){const e={},o=a(n,["temperature"]);o!=null&&s(e,["temperature"],o);const l=a(n,["topK"]);l!=null&&s(e,["topK"],l);const c=a(n,["seed"]);c!=null&&s(e,["seed"],c);const h=a(n,["guidance"]);h!=null&&s(e,["guidance"],h);const p=a(n,["bpm"]);p!=null&&s(e,["bpm"],p);const y=a(n,["density"]);y!=null&&s(e,["density"],y);const T=a(n,["brightness"]);T!=null&&s(e,["brightness"],T);const v=a(n,["scale"]);v!=null&&s(e,["scale"],v);const C=a(n,["muteBass"]);C!=null&&s(e,["muteBass"],C);const w=a(n,["muteDrums"]);w!=null&&s(e,["muteDrums"],w);const A=a(n,["onlyBassAndDrums"]);A!=null&&s(e,["onlyBassAndDrums"],A);const I=a(n,["musicGenerationMode"]);return I!=null&&s(e,["musicGenerationMode"],I),e}function KS(n){const e={},o=a(n,["clientContent"]);o!=null&&s(e,["clientContent"],FS(o));const l=a(n,["musicGenerationConfig"]);return l!=null&&s(e,["musicGenerationConfig"],YS(l)),e}function JS(n){const e={},o=a(n,["data"]);o!=null&&s(e,["data"],o);const l=a(n,["mimeType"]);l!=null&&s(e,["mimeType"],l);const c=a(n,["sourceMetadata"]);return c!=null&&s(e,["sourceMetadata"],KS(c)),e}function jS(n){const e={},o=a(n,["audioChunks"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>JS(c))),s(e,["audioChunks"],l)}return e}function QS(n){const e={},o=a(n,["text"]);o!=null&&s(e,["text"],o);const l=a(n,["filteredReason"]);return l!=null&&s(e,["filteredReason"],l),e}function XS(n){const e={};a(n,["setupComplete"])!=null&&s(e,["setupComplete"],HS());const l=a(n,["serverContent"]);l!=null&&s(e,["serverContent"],jS(l));const c=a(n,["filteredPrompt"]);return c!=null&&s(e,["filteredPrompt"],QS(c)),e}function $S(n){const e={},o=a(n,["sessionId"]);return o!=null&&s(e,["sessionId"],o),e}function ZS(n){const e={},o=a(n,["fps"]);o!=null&&s(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&s(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&s(e,["startOffset"],c),e}function WS(n){const e={},o=a(n,["displayName"]);o!=null&&s(e,["displayName"],o);const l=a(n,["data"]);l!=null&&s(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&s(e,["mimeType"],c),e}function eC(n){const e={},o=a(n,["displayName"]);o!=null&&s(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&s(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&s(e,["mimeType"],c),e}function tC(n){const e={},o=a(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],ZS(o));const l=a(n,["thought"]);l!=null&&s(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&s(e,["inlineData"],WS(c));const h=a(n,["fileData"]);h!=null&&s(e,["fileData"],eC(h));const p=a(n,["thoughtSignature"]);p!=null&&s(e,["thoughtSignature"],p);const y=a(n,["codeExecutionResult"]);y!=null&&s(e,["codeExecutionResult"],y);const T=a(n,["executableCode"]);T!=null&&s(e,["executableCode"],T);const v=a(n,["functionCall"]);v!=null&&s(e,["functionCall"],v);const C=a(n,["functionResponse"]);C!=null&&s(e,["functionResponse"],C);const w=a(n,["text"]);return w!=null&&s(e,["text"],w),e}function nC(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>tC(h))),s(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&s(e,["role"],l),e}function Fm(n){const e={},o=a(n,["text"]);o!=null&&s(e,["text"],o);const l=a(n,["finished"]);return l!=null&&s(e,["finished"],l),e}function iC(n){const e={},o=a(n,["modelTurn"]);o!=null&&s(e,["modelTurn"],nC(o));const l=a(n,["turnComplete"]);l!=null&&s(e,["turnComplete"],l);const c=a(n,["interrupted"]);c!=null&&s(e,["interrupted"],c);const h=a(n,["groundingMetadata"]);h!=null&&s(e,["groundingMetadata"],h);const p=a(n,["generationComplete"]);p!=null&&s(e,["generationComplete"],p);const y=a(n,["inputTranscription"]);y!=null&&s(e,["inputTranscription"],Fm(y));const T=a(n,["outputTranscription"]);return T!=null&&s(e,["outputTranscription"],Fm(T)),e}function oC(n){const e={},o=a(n,["args"]);o!=null&&s(e,["args"],o);const l=a(n,["name"]);return l!=null&&s(e,["name"],l),e}function lC(n){const e={},o=a(n,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>oC(c))),s(e,["functionCalls"],l)}return e}function rC(n){const e={},o=a(n,["ids"]);return o!=null&&s(e,["ids"],o),e}function Qs(n){const e={},o=a(n,["modality"]);o!=null&&s(e,["modality"],o);const l=a(n,["tokenCount"]);return l!=null&&s(e,["tokenCount"],l),e}function aC(n){const e={},o=a(n,["promptTokenCount"]);o!=null&&s(e,["promptTokenCount"],o);const l=a(n,["cachedContentTokenCount"]);l!=null&&s(e,["cachedContentTokenCount"],l);const c=a(n,["candidatesTokenCount"]);c!=null&&s(e,["responseTokenCount"],c);const h=a(n,["toolUsePromptTokenCount"]);h!=null&&s(e,["toolUsePromptTokenCount"],h);const p=a(n,["thoughtsTokenCount"]);p!=null&&s(e,["thoughtsTokenCount"],p);const y=a(n,["totalTokenCount"]);y!=null&&s(e,["totalTokenCount"],y);const T=a(n,["promptTokensDetails"]);if(T!=null){let I=T;Array.isArray(I)&&(I=I.map(J=>Qs(J))),s(e,["promptTokensDetails"],I)}const v=a(n,["cacheTokensDetails"]);if(v!=null){let I=v;Array.isArray(I)&&(I=I.map(J=>Qs(J))),s(e,["cacheTokensDetails"],I)}const C=a(n,["candidatesTokensDetails"]);if(C!=null){let I=C;Array.isArray(I)&&(I=I.map(J=>Qs(J))),s(e,["responseTokensDetails"],I)}const w=a(n,["toolUsePromptTokensDetails"]);if(w!=null){let I=w;Array.isArray(I)&&(I=I.map(J=>Qs(J))),s(e,["toolUsePromptTokensDetails"],I)}const A=a(n,["trafficType"]);return A!=null&&s(e,["trafficType"],A),e}function sC(n){const e={},o=a(n,["timeLeft"]);return o!=null&&s(e,["timeLeft"],o),e}function uC(n){const e={},o=a(n,["newHandle"]);o!=null&&s(e,["newHandle"],o);const l=a(n,["resumable"]);l!=null&&s(e,["resumable"],l);const c=a(n,["lastConsumedClientMessageIndex"]);return c!=null&&s(e,["lastConsumedClientMessageIndex"],c),e}function cC(n){const e={},o=a(n,["setupComplete"]);o!=null&&s(e,["setupComplete"],$S(o));const l=a(n,["serverContent"]);l!=null&&s(e,["serverContent"],iC(l));const c=a(n,["toolCall"]);c!=null&&s(e,["toolCall"],lC(c));const h=a(n,["toolCallCancellation"]);h!=null&&s(e,["toolCallCancellation"],rC(h));const p=a(n,["usageMetadata"]);p!=null&&s(e,["usageMetadata"],aC(p));const y=a(n,["goAway"]);y!=null&&s(e,["goAway"],sC(y));const T=a(n,["sessionResumptionUpdate"]);return T!=null&&s(e,["sessionResumptionUpdate"],uC(T)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fC(n){const e={},o=a(n,["fps"]);o!=null&&s(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&s(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&s(e,["startOffset"],c),e}function dC(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&s(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function hC(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&s(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function pC(n){const e={},o=a(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],fC(o));const l=a(n,["thought"]);l!=null&&s(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&s(e,["inlineData"],dC(c));const h=a(n,["fileData"]);h!=null&&s(e,["fileData"],hC(h));const p=a(n,["thoughtSignature"]);p!=null&&s(e,["thoughtSignature"],p);const y=a(n,["codeExecutionResult"]);y!=null&&s(e,["codeExecutionResult"],y);const T=a(n,["executableCode"]);T!=null&&s(e,["executableCode"],T);const v=a(n,["functionCall"]);v!=null&&s(e,["functionCall"],v);const C=a(n,["functionResponse"]);C!=null&&s(e,["functionResponse"],C);const w=a(n,["text"]);return w!=null&&s(e,["text"],w),e}function su(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>pC(h))),s(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&s(e,["role"],l),e}function mC(n){const e={},o=a(n,["anyOf"]);o!=null&&s(e,["anyOf"],o);const l=a(n,["default"]);l!=null&&s(e,["default"],l);const c=a(n,["description"]);c!=null&&s(e,["description"],c);const h=a(n,["enum"]);h!=null&&s(e,["enum"],h);const p=a(n,["example"]);p!=null&&s(e,["example"],p);const y=a(n,["format"]);y!=null&&s(e,["format"],y);const T=a(n,["items"]);T!=null&&s(e,["items"],T);const v=a(n,["maxItems"]);v!=null&&s(e,["maxItems"],v);const C=a(n,["maxLength"]);C!=null&&s(e,["maxLength"],C);const w=a(n,["maxProperties"]);w!=null&&s(e,["maxProperties"],w);const A=a(n,["maximum"]);A!=null&&s(e,["maximum"],A);const I=a(n,["minItems"]);I!=null&&s(e,["minItems"],I);const J=a(n,["minLength"]);J!=null&&s(e,["minLength"],J);const te=a(n,["minProperties"]);te!=null&&s(e,["minProperties"],te);const he=a(n,["minimum"]);he!=null&&s(e,["minimum"],he);const be=a(n,["nullable"]);be!=null&&s(e,["nullable"],be);const ne=a(n,["pattern"]);ne!=null&&s(e,["pattern"],ne);const ie=a(n,["properties"]);ie!=null&&s(e,["properties"],ie);const pe=a(n,["propertyOrdering"]);pe!=null&&s(e,["propertyOrdering"],pe);const ce=a(n,["required"]);ce!=null&&s(e,["required"],ce);const ae=a(n,["title"]);ae!=null&&s(e,["title"],ae);const xe=a(n,["type"]);return xe!=null&&s(e,["type"],xe),e}function gC(n){const e={};if(a(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=a(n,["category"]);o!=null&&s(e,["category"],o);const l=a(n,["threshold"]);return l!=null&&s(e,["threshold"],l),e}function yC(n){const e={},o=a(n,["behavior"]);o!=null&&s(e,["behavior"],o);const l=a(n,["description"]);l!=null&&s(e,["description"],l);const c=a(n,["name"]);c!=null&&s(e,["name"],c);const h=a(n,["parameters"]);h!=null&&s(e,["parameters"],h);const p=a(n,["parametersJsonSchema"]);p!=null&&s(e,["parametersJsonSchema"],p);const y=a(n,["response"]);y!=null&&s(e,["response"],y);const T=a(n,["responseJsonSchema"]);return T!=null&&s(e,["responseJsonSchema"],T),e}function vC(n){const e={},o=a(n,["startTime"]);o!=null&&s(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&s(e,["endTime"],l),e}function xC(n){const e={},o=a(n,["timeRangeFilter"]);return o!=null&&s(e,["timeRangeFilter"],vC(o)),e}function TC(n){const e={},o=a(n,["mode"]);o!=null&&s(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&s(e,["dynamicThreshold"],l),e}function SC(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&s(e,["dynamicRetrievalConfig"],TC(o)),e}function CC(){return{}}function bC(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(v=>yC(v))),s(e,["functionDeclarations"],T)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&s(e,["googleSearch"],xC(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&s(e,["googleSearchRetrieval"],SC(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&s(e,["urlContext"],CC());const p=a(n,["codeExecution"]);p!=null&&s(e,["codeExecution"],p);const y=a(n,["computerUse"]);return y!=null&&s(e,["computerUse"],y),e}function wC(n){const e={},o=a(n,["mode"]);o!=null&&s(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&s(e,["allowedFunctionNames"],l),e}function EC(n){const e={},o=a(n,["latitude"]);o!=null&&s(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&s(e,["longitude"],l),e}function _C(n){const e={},o=a(n,["latLng"]);o!=null&&s(e,["latLng"],EC(o));const l=a(n,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function AC(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&s(e,["functionCallingConfig"],wC(o));const l=a(n,["retrievalConfig"]);return l!=null&&s(e,["retrievalConfig"],_C(l)),e}function MC(n){const e={},o=a(n,["voiceName"]);return o!=null&&s(e,["voiceName"],o),e}function kg(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&s(e,["prebuiltVoiceConfig"],MC(o)),e}function NC(n){const e={},o=a(n,["speaker"]);o!=null&&s(e,["speaker"],o);const l=a(n,["voiceConfig"]);return l!=null&&s(e,["voiceConfig"],kg(l)),e}function RC(n){const e={},o=a(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>NC(c))),s(e,["speakerVoiceConfigs"],l)}return e}function DC(n){const e={},o=a(n,["voiceConfig"]);o!=null&&s(e,["voiceConfig"],kg(o));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&s(e,["multiSpeakerVoiceConfig"],RC(l));const c=a(n,["languageCode"]);return c!=null&&s(e,["languageCode"],c),e}function kC(n){const e={},o=a(n,["includeThoughts"]);o!=null&&s(e,["includeThoughts"],o);const l=a(n,["thinkingBudget"]);return l!=null&&s(e,["thinkingBudget"],l),e}function IC(n,e,o){const l={},c=a(e,["systemInstruction"]);o!==void 0&&c!=null&&s(o,["systemInstruction"],su(ln(c)));const h=a(e,["temperature"]);h!=null&&s(l,["temperature"],h);const p=a(e,["topP"]);p!=null&&s(l,["topP"],p);const y=a(e,["topK"]);y!=null&&s(l,["topK"],y);const T=a(e,["candidateCount"]);T!=null&&s(l,["candidateCount"],T);const v=a(e,["maxOutputTokens"]);v!=null&&s(l,["maxOutputTokens"],v);const C=a(e,["stopSequences"]);C!=null&&s(l,["stopSequences"],C);const w=a(e,["responseLogprobs"]);w!=null&&s(l,["responseLogprobs"],w);const A=a(e,["logprobs"]);A!=null&&s(l,["logprobs"],A);const I=a(e,["presencePenalty"]);I!=null&&s(l,["presencePenalty"],I);const J=a(e,["frequencyPenalty"]);J!=null&&s(l,["frequencyPenalty"],J);const te=a(e,["seed"]);te!=null&&s(l,["seed"],te);const he=a(e,["responseMimeType"]);he!=null&&s(l,["responseMimeType"],he);const be=a(e,["responseSchema"]);be!=null&&s(l,["responseSchema"],mC(Af(be)));const ne=a(e,["responseJsonSchema"]);if(ne!=null&&s(l,["responseJsonSchema"],ne),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const ie=a(e,["safetySettings"]);if(o!==void 0&&ie!=null){let Ye=ie;Array.isArray(Ye)&&(Ye=Ye.map(Ze=>gC(Ze))),s(o,["safetySettings"],Ye)}const pe=a(e,["tools"]);if(o!==void 0&&pe!=null){let Ye=gr(pe);Array.isArray(Ye)&&(Ye=Ye.map(Ze=>bC(mr(Ze)))),s(o,["tools"],Ye)}const ce=a(e,["toolConfig"]);if(o!==void 0&&ce!=null&&s(o,["toolConfig"],AC(ce)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ae=a(e,["cachedContent"]);o!==void 0&&ae!=null&&s(o,["cachedContent"],Ki(n,ae));const xe=a(e,["responseModalities"]);xe!=null&&s(l,["responseModalities"],xe);const Pe=a(e,["mediaResolution"]);Pe!=null&&s(l,["mediaResolution"],Pe);const Ne=a(e,["speechConfig"]);if(Ne!=null&&s(l,["speechConfig"],DC(Mf(Ne))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Je=a(e,["thinkingConfig"]);return Je!=null&&s(l,["thinkingConfig"],kC(Je)),l}function Ym(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","model"],ft(n,l));const c=a(e,["contents"]);if(c!=null){let p=zn(c);Array.isArray(p)&&(p=p.map(y=>su(y))),s(o,["contents"],p)}const h=a(e,["config"]);return h!=null&&s(o,["generationConfig"],IC(n,h,o)),o}function UC(n,e){const o={},l=a(n,["taskType"]);e!==void 0&&l!=null&&s(e,["requests[]","taskType"],l);const c=a(n,["title"]);e!==void 0&&c!=null&&s(e,["requests[]","title"],c);const h=a(n,["outputDimensionality"]);if(e!==void 0&&h!=null&&s(e,["requests[]","outputDimensionality"],h),a(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function LC(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","model"],ft(n,l));const c=a(e,["contents"]);c!=null&&s(o,["requests[]","content"],mg(n,c));const h=a(e,["config"]);h!=null&&s(o,["config"],UC(h,o));const p=a(e,["model"]);return p!==void 0&&s(o,["requests[]","model"],ft(n,p)),o}function PC(n,e){const o={};if(a(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=a(n,["numberOfImages"]);e!==void 0&&l!=null&&s(e,["parameters","sampleCount"],l);const c=a(n,["aspectRatio"]);e!==void 0&&c!=null&&s(e,["parameters","aspectRatio"],c);const h=a(n,["guidanceScale"]);if(e!==void 0&&h!=null&&s(e,["parameters","guidanceScale"],h),a(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=a(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&s(e,["parameters","safetySetting"],p);const y=a(n,["personGeneration"]);e!==void 0&&y!=null&&s(e,["parameters","personGeneration"],y);const T=a(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&s(e,["parameters","includeSafetyAttributes"],T);const v=a(n,["includeRaiReason"]);e!==void 0&&v!=null&&s(e,["parameters","includeRaiReason"],v);const C=a(n,["language"]);e!==void 0&&C!=null&&s(e,["parameters","language"],C);const w=a(n,["outputMimeType"]);e!==void 0&&w!=null&&s(e,["parameters","outputOptions","mimeType"],w);const A=a(n,["outputCompressionQuality"]);if(e!==void 0&&A!=null&&s(e,["parameters","outputOptions","compressionQuality"],A),a(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const I=a(n,["imageSize"]);if(e!==void 0&&I!=null&&s(e,["parameters","sampleImageSize"],I),a(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function VC(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","model"],ft(n,l));const c=a(e,["prompt"]);c!=null&&s(o,["instances[0]","prompt"],c);const h=a(e,["config"]);return h!=null&&s(o,["config"],PC(h,o)),o}function qC(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","name"],ft(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],c),o}function GC(n,e,o){const l={},c=a(e,["pageSize"]);o!==void 0&&c!=null&&s(o,["_query","pageSize"],c);const h=a(e,["pageToken"]);o!==void 0&&h!=null&&s(o,["_query","pageToken"],h);const p=a(e,["filter"]);o!==void 0&&p!=null&&s(o,["_query","filter"],p);const y=a(e,["queryBase"]);return o!==void 0&&y!=null&&s(o,["_url","models_url"],vg(n,y)),l}function BC(n,e){const o={},l=a(e,["config"]);return l!=null&&s(o,["config"],GC(n,l,o)),o}function OC(n,e){const o={},l=a(n,["displayName"]);e!==void 0&&l!=null&&s(e,["displayName"],l);const c=a(n,["description"]);e!==void 0&&c!=null&&s(e,["description"],c);const h=a(n,["defaultCheckpointId"]);return e!==void 0&&h!=null&&s(e,["defaultCheckpointId"],h),o}function HC(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","name"],ft(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],OC(c,o)),o}function zC(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","name"],ft(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],c),o}function FC(n){const e={};if(a(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function YC(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","model"],ft(n,l));const c=a(e,["contents"]);if(c!=null){let p=zn(c);Array.isArray(p)&&(p=p.map(y=>su(y))),s(o,["contents"],p)}const h=a(e,["config"]);return h!=null&&s(o,["config"],FC(h)),o}function KC(n){const e={};if(a(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=a(n,["imageBytes"]);o!=null&&s(e,["bytesBase64Encoded"],sl(o));const l=a(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function JC(n,e){const o={},l=a(n,["numberOfVideos"]);if(e!==void 0&&l!=null&&s(e,["parameters","sampleCount"],l),a(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=a(n,["durationSeconds"]);if(e!==void 0&&c!=null&&s(e,["parameters","durationSeconds"],c),a(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=a(n,["aspectRatio"]);if(e!==void 0&&h!=null&&s(e,["parameters","aspectRatio"],h),a(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const p=a(n,["personGeneration"]);if(e!==void 0&&p!=null&&s(e,["parameters","personGeneration"],p),a(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=a(n,["negativePrompt"]);e!==void 0&&y!=null&&s(e,["parameters","negativePrompt"],y);const T=a(n,["enhancePrompt"]);if(e!==void 0&&T!=null&&s(e,["parameters","enhancePrompt"],T),a(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(a(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function jC(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","model"],ft(n,l));const c=a(e,["prompt"]);c!=null&&s(o,["instances[0]","prompt"],c);const h=a(e,["image"]);if(h!=null&&s(o,["instances[0]","image"],KC(h)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const p=a(e,["config"]);return p!=null&&s(o,["config"],JC(p,o)),o}function QC(n){const e={},o=a(n,["fps"]);o!=null&&s(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&s(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&s(e,["startOffset"],c),e}function XC(n){const e={},o=a(n,["displayName"]);o!=null&&s(e,["displayName"],o);const l=a(n,["data"]);l!=null&&s(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&s(e,["mimeType"],c),e}function $C(n){const e={},o=a(n,["displayName"]);o!=null&&s(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&s(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&s(e,["mimeType"],c),e}function ZC(n){const e={},o=a(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],QC(o));const l=a(n,["thought"]);l!=null&&s(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&s(e,["inlineData"],XC(c));const h=a(n,["fileData"]);h!=null&&s(e,["fileData"],$C(h));const p=a(n,["thoughtSignature"]);p!=null&&s(e,["thoughtSignature"],p);const y=a(n,["codeExecutionResult"]);y!=null&&s(e,["codeExecutionResult"],y);const T=a(n,["executableCode"]);T!=null&&s(e,["executableCode"],T);const v=a(n,["functionCall"]);v!=null&&s(e,["functionCall"],v);const C=a(n,["functionResponse"]);C!=null&&s(e,["functionResponse"],C);const w=a(n,["text"]);return w!=null&&s(e,["text"],w),e}function vr(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>ZC(h))),s(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&s(e,["role"],l),e}function WC(n){const e={},o=a(n,["anyOf"]);o!=null&&s(e,["anyOf"],o);const l=a(n,["default"]);l!=null&&s(e,["default"],l);const c=a(n,["description"]);c!=null&&s(e,["description"],c);const h=a(n,["enum"]);h!=null&&s(e,["enum"],h);const p=a(n,["example"]);p!=null&&s(e,["example"],p);const y=a(n,["format"]);y!=null&&s(e,["format"],y);const T=a(n,["items"]);T!=null&&s(e,["items"],T);const v=a(n,["maxItems"]);v!=null&&s(e,["maxItems"],v);const C=a(n,["maxLength"]);C!=null&&s(e,["maxLength"],C);const w=a(n,["maxProperties"]);w!=null&&s(e,["maxProperties"],w);const A=a(n,["maximum"]);A!=null&&s(e,["maximum"],A);const I=a(n,["minItems"]);I!=null&&s(e,["minItems"],I);const J=a(n,["minLength"]);J!=null&&s(e,["minLength"],J);const te=a(n,["minProperties"]);te!=null&&s(e,["minProperties"],te);const he=a(n,["minimum"]);he!=null&&s(e,["minimum"],he);const be=a(n,["nullable"]);be!=null&&s(e,["nullable"],be);const ne=a(n,["pattern"]);ne!=null&&s(e,["pattern"],ne);const ie=a(n,["properties"]);ie!=null&&s(e,["properties"],ie);const pe=a(n,["propertyOrdering"]);pe!=null&&s(e,["propertyOrdering"],pe);const ce=a(n,["required"]);ce!=null&&s(e,["required"],ce);const ae=a(n,["title"]);ae!=null&&s(e,["title"],ae);const xe=a(n,["type"]);return xe!=null&&s(e,["type"],xe),e}function eb(n){const e={},o=a(n,["featureSelectionPreference"]);return o!=null&&s(e,["featureSelectionPreference"],o),e}function tb(n){const e={},o=a(n,["method"]);o!=null&&s(e,["method"],o);const l=a(n,["category"]);l!=null&&s(e,["category"],l);const c=a(n,["threshold"]);return c!=null&&s(e,["threshold"],c),e}function nb(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=a(n,["description"]);o!=null&&s(e,["description"],o);const l=a(n,["name"]);l!=null&&s(e,["name"],l);const c=a(n,["parameters"]);c!=null&&s(e,["parameters"],c);const h=a(n,["parametersJsonSchema"]);h!=null&&s(e,["parametersJsonSchema"],h);const p=a(n,["response"]);p!=null&&s(e,["response"],p);const y=a(n,["responseJsonSchema"]);return y!=null&&s(e,["responseJsonSchema"],y),e}function ib(n){const e={},o=a(n,["startTime"]);o!=null&&s(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&s(e,["endTime"],l),e}function ob(n){const e={},o=a(n,["timeRangeFilter"]);return o!=null&&s(e,["timeRangeFilter"],ib(o)),e}function lb(n){const e={},o=a(n,["mode"]);o!=null&&s(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&s(e,["dynamicThreshold"],l),e}function rb(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&s(e,["dynamicRetrievalConfig"],lb(o)),e}function ab(){return{}}function sb(n){const e={},o=a(n,["apiKeyString"]);return o!=null&&s(e,["apiKeyString"],o),e}function ub(n){const e={},o=a(n,["apiKeyConfig"]);o!=null&&s(e,["apiKeyConfig"],sb(o));const l=a(n,["authType"]);l!=null&&s(e,["authType"],l);const c=a(n,["googleServiceAccountConfig"]);c!=null&&s(e,["googleServiceAccountConfig"],c);const h=a(n,["httpBasicAuthConfig"]);h!=null&&s(e,["httpBasicAuthConfig"],h);const p=a(n,["oauthConfig"]);p!=null&&s(e,["oauthConfig"],p);const y=a(n,["oidcConfig"]);return y!=null&&s(e,["oidcConfig"],y),e}function cb(n){const e={},o=a(n,["authConfig"]);return o!=null&&s(e,["authConfig"],ub(o)),e}function fb(){return{}}function Ig(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let w=o;Array.isArray(w)&&(w=w.map(A=>nb(A))),s(e,["functionDeclarations"],w)}const l=a(n,["retrieval"]);l!=null&&s(e,["retrieval"],l);const c=a(n,["googleSearch"]);c!=null&&s(e,["googleSearch"],ob(c));const h=a(n,["googleSearchRetrieval"]);h!=null&&s(e,["googleSearchRetrieval"],rb(h)),a(n,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],ab());const y=a(n,["googleMaps"]);y!=null&&s(e,["googleMaps"],cb(y)),a(n,["urlContext"])!=null&&s(e,["urlContext"],fb());const v=a(n,["codeExecution"]);v!=null&&s(e,["codeExecution"],v);const C=a(n,["computerUse"]);return C!=null&&s(e,["computerUse"],C),e}function db(n){const e={},o=a(n,["mode"]);o!=null&&s(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&s(e,["allowedFunctionNames"],l),e}function hb(n){const e={},o=a(n,["latitude"]);o!=null&&s(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&s(e,["longitude"],l),e}function pb(n){const e={},o=a(n,["latLng"]);o!=null&&s(e,["latLng"],hb(o));const l=a(n,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function mb(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&s(e,["functionCallingConfig"],db(o));const l=a(n,["retrievalConfig"]);return l!=null&&s(e,["retrievalConfig"],pb(l)),e}function gb(n){const e={},o=a(n,["voiceName"]);return o!=null&&s(e,["voiceName"],o),e}function yb(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&s(e,["prebuiltVoiceConfig"],gb(o)),e}function vb(n){const e={},o=a(n,["voiceConfig"]);if(o!=null&&s(e,["voiceConfig"],yb(o)),a(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(n,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function xb(n){const e={},o=a(n,["includeThoughts"]);o!=null&&s(e,["includeThoughts"],o);const l=a(n,["thinkingBudget"]);return l!=null&&s(e,["thinkingBudget"],l),e}function Tb(n,e,o){const l={},c=a(e,["systemInstruction"]);o!==void 0&&c!=null&&s(o,["systemInstruction"],vr(ln(c)));const h=a(e,["temperature"]);h!=null&&s(l,["temperature"],h);const p=a(e,["topP"]);p!=null&&s(l,["topP"],p);const y=a(e,["topK"]);y!=null&&s(l,["topK"],y);const T=a(e,["candidateCount"]);T!=null&&s(l,["candidateCount"],T);const v=a(e,["maxOutputTokens"]);v!=null&&s(l,["maxOutputTokens"],v);const C=a(e,["stopSequences"]);C!=null&&s(l,["stopSequences"],C);const w=a(e,["responseLogprobs"]);w!=null&&s(l,["responseLogprobs"],w);const A=a(e,["logprobs"]);A!=null&&s(l,["logprobs"],A);const I=a(e,["presencePenalty"]);I!=null&&s(l,["presencePenalty"],I);const J=a(e,["frequencyPenalty"]);J!=null&&s(l,["frequencyPenalty"],J);const te=a(e,["seed"]);te!=null&&s(l,["seed"],te);const he=a(e,["responseMimeType"]);he!=null&&s(l,["responseMimeType"],he);const be=a(e,["responseSchema"]);be!=null&&s(l,["responseSchema"],WC(Af(be)));const ne=a(e,["responseJsonSchema"]);ne!=null&&s(l,["responseJsonSchema"],ne);const ie=a(e,["routingConfig"]);ie!=null&&s(l,["routingConfig"],ie);const pe=a(e,["modelSelectionConfig"]);pe!=null&&s(l,["modelConfig"],eb(pe));const ce=a(e,["safetySettings"]);if(o!==void 0&&ce!=null){let rt=ce;Array.isArray(rt)&&(rt=rt.map(X=>tb(X))),s(o,["safetySettings"],rt)}const ae=a(e,["tools"]);if(o!==void 0&&ae!=null){let rt=gr(ae);Array.isArray(rt)&&(rt=rt.map(X=>Ig(mr(X)))),s(o,["tools"],rt)}const xe=a(e,["toolConfig"]);o!==void 0&&xe!=null&&s(o,["toolConfig"],mb(xe));const Pe=a(e,["labels"]);o!==void 0&&Pe!=null&&s(o,["labels"],Pe);const Ne=a(e,["cachedContent"]);o!==void 0&&Ne!=null&&s(o,["cachedContent"],Ki(n,Ne));const Je=a(e,["responseModalities"]);Je!=null&&s(l,["responseModalities"],Je);const Ye=a(e,["mediaResolution"]);Ye!=null&&s(l,["mediaResolution"],Ye);const Ze=a(e,["speechConfig"]);Ze!=null&&s(l,["speechConfig"],vb(Mf(Ze)));const It=a(e,["audioTimestamp"]);It!=null&&s(l,["audioTimestamp"],It);const rn=a(e,["thinkingConfig"]);return rn!=null&&s(l,["thinkingConfig"],xb(rn)),l}function Km(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","model"],ft(n,l));const c=a(e,["contents"]);if(c!=null){let p=zn(c);Array.isArray(p)&&(p=p.map(y=>vr(y))),s(o,["contents"],p)}const h=a(e,["config"]);return h!=null&&s(o,["generationConfig"],Tb(n,h,o)),o}function Sb(n,e){const o={},l=a(n,["taskType"]);e!==void 0&&l!=null&&s(e,["instances[]","task_type"],l);const c=a(n,["title"]);e!==void 0&&c!=null&&s(e,["instances[]","title"],c);const h=a(n,["outputDimensionality"]);e!==void 0&&h!=null&&s(e,["parameters","outputDimensionality"],h);const p=a(n,["mimeType"]);e!==void 0&&p!=null&&s(e,["instances[]","mimeType"],p);const y=a(n,["autoTruncate"]);return e!==void 0&&y!=null&&s(e,["parameters","autoTruncate"],y),o}function Cb(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","model"],ft(n,l));const c=a(e,["contents"]);c!=null&&s(o,["instances[]","content"],mg(n,c));const h=a(e,["config"]);return h!=null&&s(o,["config"],Sb(h,o)),o}function bb(n,e){const o={},l=a(n,["outputGcsUri"]);e!==void 0&&l!=null&&s(e,["parameters","storageUri"],l);const c=a(n,["negativePrompt"]);e!==void 0&&c!=null&&s(e,["parameters","negativePrompt"],c);const h=a(n,["numberOfImages"]);e!==void 0&&h!=null&&s(e,["parameters","sampleCount"],h);const p=a(n,["aspectRatio"]);e!==void 0&&p!=null&&s(e,["parameters","aspectRatio"],p);const y=a(n,["guidanceScale"]);e!==void 0&&y!=null&&s(e,["parameters","guidanceScale"],y);const T=a(n,["seed"]);e!==void 0&&T!=null&&s(e,["parameters","seed"],T);const v=a(n,["safetyFilterLevel"]);e!==void 0&&v!=null&&s(e,["parameters","safetySetting"],v);const C=a(n,["personGeneration"]);e!==void 0&&C!=null&&s(e,["parameters","personGeneration"],C);const w=a(n,["includeSafetyAttributes"]);e!==void 0&&w!=null&&s(e,["parameters","includeSafetyAttributes"],w);const A=a(n,["includeRaiReason"]);e!==void 0&&A!=null&&s(e,["parameters","includeRaiReason"],A);const I=a(n,["language"]);e!==void 0&&I!=null&&s(e,["parameters","language"],I);const J=a(n,["outputMimeType"]);e!==void 0&&J!=null&&s(e,["parameters","outputOptions","mimeType"],J);const te=a(n,["outputCompressionQuality"]);e!==void 0&&te!=null&&s(e,["parameters","outputOptions","compressionQuality"],te);const he=a(n,["addWatermark"]);e!==void 0&&he!=null&&s(e,["parameters","addWatermark"],he);const be=a(n,["imageSize"]);e!==void 0&&be!=null&&s(e,["parameters","sampleImageSize"],be);const ne=a(n,["enhancePrompt"]);return e!==void 0&&ne!=null&&s(e,["parameters","enhancePrompt"],ne),o}function wb(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","model"],ft(n,l));const c=a(e,["prompt"]);c!=null&&s(o,["instances[0]","prompt"],c);const h=a(e,["config"]);return h!=null&&s(o,["config"],bb(h,o)),o}function xr(n){const e={},o=a(n,["gcsUri"]);o!=null&&s(e,["gcsUri"],o);const l=a(n,["imageBytes"]);l!=null&&s(e,["bytesBase64Encoded"],sl(l));const c=a(n,["mimeType"]);return c!=null&&s(e,["mimeType"],c),e}function Eb(n){const e={},o=a(n,["maskMode"]);o!=null&&s(e,["maskMode"],o);const l=a(n,["segmentationClasses"]);l!=null&&s(e,["maskClasses"],l);const c=a(n,["maskDilation"]);return c!=null&&s(e,["dilation"],c),e}function _b(n){const e={},o=a(n,["controlType"]);o!=null&&s(e,["controlType"],o);const l=a(n,["enableControlImageComputation"]);return l!=null&&s(e,["computeControl"],l),e}function Ab(n){const e={},o=a(n,["styleDescription"]);return o!=null&&s(e,["styleDescription"],o),e}function Mb(n){const e={},o=a(n,["subjectType"]);o!=null&&s(e,["subjectType"],o);const l=a(n,["subjectDescription"]);return l!=null&&s(e,["subjectDescription"],l),e}function Nb(n){const e={},o=a(n,["referenceImage"]);o!=null&&s(e,["referenceImage"],xr(o));const l=a(n,["referenceId"]);l!=null&&s(e,["referenceId"],l);const c=a(n,["referenceType"]);c!=null&&s(e,["referenceType"],c);const h=a(n,["maskImageConfig"]);h!=null&&s(e,["maskImageConfig"],Eb(h));const p=a(n,["controlImageConfig"]);p!=null&&s(e,["controlImageConfig"],_b(p));const y=a(n,["styleImageConfig"]);y!=null&&s(e,["styleImageConfig"],Ab(y));const T=a(n,["subjectImageConfig"]);return T!=null&&s(e,["subjectImageConfig"],Mb(T)),e}function Rb(n,e){const o={},l=a(n,["outputGcsUri"]);e!==void 0&&l!=null&&s(e,["parameters","storageUri"],l);const c=a(n,["negativePrompt"]);e!==void 0&&c!=null&&s(e,["parameters","negativePrompt"],c);const h=a(n,["numberOfImages"]);e!==void 0&&h!=null&&s(e,["parameters","sampleCount"],h);const p=a(n,["aspectRatio"]);e!==void 0&&p!=null&&s(e,["parameters","aspectRatio"],p);const y=a(n,["guidanceScale"]);e!==void 0&&y!=null&&s(e,["parameters","guidanceScale"],y);const T=a(n,["seed"]);e!==void 0&&T!=null&&s(e,["parameters","seed"],T);const v=a(n,["safetyFilterLevel"]);e!==void 0&&v!=null&&s(e,["parameters","safetySetting"],v);const C=a(n,["personGeneration"]);e!==void 0&&C!=null&&s(e,["parameters","personGeneration"],C);const w=a(n,["includeSafetyAttributes"]);e!==void 0&&w!=null&&s(e,["parameters","includeSafetyAttributes"],w);const A=a(n,["includeRaiReason"]);e!==void 0&&A!=null&&s(e,["parameters","includeRaiReason"],A);const I=a(n,["language"]);e!==void 0&&I!=null&&s(e,["parameters","language"],I);const J=a(n,["outputMimeType"]);e!==void 0&&J!=null&&s(e,["parameters","outputOptions","mimeType"],J);const te=a(n,["outputCompressionQuality"]);e!==void 0&&te!=null&&s(e,["parameters","outputOptions","compressionQuality"],te);const he=a(n,["addWatermark"]);e!==void 0&&he!=null&&s(e,["parameters","addWatermark"],he);const be=a(n,["editMode"]);e!==void 0&&be!=null&&s(e,["parameters","editMode"],be);const ne=a(n,["baseSteps"]);return e!==void 0&&ne!=null&&s(e,["parameters","editConfig","baseSteps"],ne),o}function Db(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","model"],ft(n,l));const c=a(e,["prompt"]);c!=null&&s(o,["instances[0]","prompt"],c);const h=a(e,["referenceImages"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(T=>Nb(T))),s(o,["instances[0]","referenceImages"],y)}const p=a(e,["config"]);return p!=null&&s(o,["config"],Rb(p,o)),o}function kb(n,e){const o={},l=a(n,["includeRaiReason"]);e!==void 0&&l!=null&&s(e,["parameters","includeRaiReason"],l);const c=a(n,["outputMimeType"]);e!==void 0&&c!=null&&s(e,["parameters","outputOptions","mimeType"],c);const h=a(n,["outputCompressionQuality"]);e!==void 0&&h!=null&&s(e,["parameters","outputOptions","compressionQuality"],h);const p=a(n,["enhanceInputImage"]);e!==void 0&&p!=null&&s(e,["parameters","upscaleConfig","enhanceInputImage"],p);const y=a(n,["imagePreservationFactor"]);e!==void 0&&y!=null&&s(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const T=a(n,["numberOfImages"]);e!==void 0&&T!=null&&s(e,["parameters","sampleCount"],T);const v=a(n,["mode"]);return e!==void 0&&v!=null&&s(e,["parameters","mode"],v),o}function Ib(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","model"],ft(n,l));const c=a(e,["image"]);c!=null&&s(o,["instances[0]","image"],xr(c));const h=a(e,["upscaleFactor"]);h!=null&&s(o,["parameters","upscaleConfig","upscaleFactor"],h);const p=a(e,["config"]);return p!=null&&s(o,["config"],kb(p,o)),o}function Ub(n){const e={},o=a(n,["productImage"]);return o!=null&&s(e,["image"],xr(o)),e}function Lb(n,e){const o={},l=a(n,["prompt"]);e!==void 0&&l!=null&&s(e,["instances[0]","prompt"],l);const c=a(n,["personImage"]);e!==void 0&&c!=null&&s(e,["instances[0]","personImage","image"],xr(c));const h=a(n,["productImages"]);if(e!==void 0&&h!=null){let p=h;Array.isArray(p)&&(p=p.map(y=>Ub(y))),s(e,["instances[0]","productImages"],p)}return o}function Pb(n,e){const o={},l=a(n,["numberOfImages"]);e!==void 0&&l!=null&&s(e,["parameters","sampleCount"],l);const c=a(n,["baseSteps"]);e!==void 0&&c!=null&&s(e,["parameters","editConfig","baseSteps"],c);const h=a(n,["outputGcsUri"]);e!==void 0&&h!=null&&s(e,["parameters","storageUri"],h);const p=a(n,["seed"]);e!==void 0&&p!=null&&s(e,["parameters","seed"],p);const y=a(n,["safetyFilterLevel"]);e!==void 0&&y!=null&&s(e,["parameters","safetySetting"],y);const T=a(n,["personGeneration"]);e!==void 0&&T!=null&&s(e,["parameters","personGeneration"],T);const v=a(n,["outputMimeType"]);e!==void 0&&v!=null&&s(e,["parameters","outputOptions","mimeType"],v);const C=a(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&s(e,["parameters","outputOptions","compressionQuality"],C);const w=a(n,["enhancePrompt"]);return e!==void 0&&w!=null&&s(e,["parameters","enhancePrompt"],w),o}function Vb(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","model"],ft(n,l));const c=a(e,["source"]);c!=null&&s(o,["config"],Lb(c,o));const h=a(e,["config"]);return h!=null&&s(o,["config"],Pb(h,o)),o}function qb(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","name"],ft(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],c),o}function Gb(n,e,o){const l={},c=a(e,["pageSize"]);o!==void 0&&c!=null&&s(o,["_query","pageSize"],c);const h=a(e,["pageToken"]);o!==void 0&&h!=null&&s(o,["_query","pageToken"],h);const p=a(e,["filter"]);o!==void 0&&p!=null&&s(o,["_query","filter"],p);const y=a(e,["queryBase"]);return o!==void 0&&y!=null&&s(o,["_url","models_url"],vg(n,y)),l}function Bb(n,e){const o={},l=a(e,["config"]);return l!=null&&s(o,["config"],Gb(n,l,o)),o}function Ob(n,e){const o={},l=a(n,["displayName"]);e!==void 0&&l!=null&&s(e,["displayName"],l);const c=a(n,["description"]);e!==void 0&&c!=null&&s(e,["description"],c);const h=a(n,["defaultCheckpointId"]);return e!==void 0&&h!=null&&s(e,["defaultCheckpointId"],h),o}function Hb(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","model"],ft(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],Ob(c,o)),o}function zb(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","name"],ft(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],c),o}function Fb(n,e){const o={},l=a(n,["systemInstruction"]);e!==void 0&&l!=null&&s(e,["systemInstruction"],vr(ln(l)));const c=a(n,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(y=>Ig(y))),s(e,["tools"],p)}const h=a(n,["generationConfig"]);return e!==void 0&&h!=null&&s(e,["generationConfig"],h),o}function Yb(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","model"],ft(n,l));const c=a(e,["contents"]);if(c!=null){let p=zn(c);Array.isArray(p)&&(p=p.map(y=>vr(y))),s(o,["contents"],p)}const h=a(e,["config"]);return h!=null&&s(o,["config"],Fb(h,o)),o}function Kb(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","model"],ft(n,l));const c=a(e,["contents"]);if(c!=null){let p=zn(c);Array.isArray(p)&&(p=p.map(y=>vr(y))),s(o,["contents"],p)}const h=a(e,["config"]);return h!=null&&s(o,["config"],h),o}function Jb(n){const e={},o=a(n,["uri"]);o!=null&&s(e,["gcsUri"],o);const l=a(n,["videoBytes"]);l!=null&&s(e,["bytesBase64Encoded"],sl(l));const c=a(n,["mimeType"]);return c!=null&&s(e,["mimeType"],c),e}function jb(n,e){const o={},l=a(n,["numberOfVideos"]);e!==void 0&&l!=null&&s(e,["parameters","sampleCount"],l);const c=a(n,["outputGcsUri"]);e!==void 0&&c!=null&&s(e,["parameters","storageUri"],c);const h=a(n,["fps"]);e!==void 0&&h!=null&&s(e,["parameters","fps"],h);const p=a(n,["durationSeconds"]);e!==void 0&&p!=null&&s(e,["parameters","durationSeconds"],p);const y=a(n,["seed"]);e!==void 0&&y!=null&&s(e,["parameters","seed"],y);const T=a(n,["aspectRatio"]);e!==void 0&&T!=null&&s(e,["parameters","aspectRatio"],T);const v=a(n,["resolution"]);e!==void 0&&v!=null&&s(e,["parameters","resolution"],v);const C=a(n,["personGeneration"]);e!==void 0&&C!=null&&s(e,["parameters","personGeneration"],C);const w=a(n,["pubsubTopic"]);e!==void 0&&w!=null&&s(e,["parameters","pubsubTopic"],w);const A=a(n,["negativePrompt"]);e!==void 0&&A!=null&&s(e,["parameters","negativePrompt"],A);const I=a(n,["enhancePrompt"]);e!==void 0&&I!=null&&s(e,["parameters","enhancePrompt"],I);const J=a(n,["generateAudio"]);e!==void 0&&J!=null&&s(e,["parameters","generateAudio"],J);const te=a(n,["lastFrame"]);e!==void 0&&te!=null&&s(e,["instances[0]","lastFrame"],xr(te));const he=a(n,["compressionQuality"]);return e!==void 0&&he!=null&&s(e,["parameters","compressionQuality"],he),o}function Qb(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["_url","model"],ft(n,l));const c=a(e,["prompt"]);c!=null&&s(o,["instances[0]","prompt"],c);const h=a(e,["image"]);h!=null&&s(o,["instances[0]","image"],xr(h));const p=a(e,["video"]);p!=null&&s(o,["instances[0]","video"],Jb(p));const y=a(e,["config"]);return y!=null&&s(o,["config"],jb(y,o)),o}function Xb(n){const e={},o=a(n,["fps"]);o!=null&&s(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&s(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&s(e,["startOffset"],c),e}function $b(n){const e={},o=a(n,["data"]);o!=null&&s(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function Zb(n){const e={},o=a(n,["fileUri"]);o!=null&&s(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function Wb(n){const e={},o=a(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],Xb(o));const l=a(n,["thought"]);l!=null&&s(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&s(e,["inlineData"],$b(c));const h=a(n,["fileData"]);h!=null&&s(e,["fileData"],Zb(h));const p=a(n,["thoughtSignature"]);p!=null&&s(e,["thoughtSignature"],p);const y=a(n,["codeExecutionResult"]);y!=null&&s(e,["codeExecutionResult"],y);const T=a(n,["executableCode"]);T!=null&&s(e,["executableCode"],T);const v=a(n,["functionCall"]);v!=null&&s(e,["functionCall"],v);const C=a(n,["functionResponse"]);C!=null&&s(e,["functionResponse"],C);const w=a(n,["text"]);return w!=null&&s(e,["text"],w),e}function ew(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>Wb(h))),s(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&s(e,["role"],l),e}function tw(n){const e={},o=a(n,["citationSources"]);return o!=null&&s(e,["citations"],o),e}function nw(n){const e={},o=a(n,["retrievedUrl"]);o!=null&&s(e,["retrievedUrl"],o);const l=a(n,["urlRetrievalStatus"]);return l!=null&&s(e,["urlRetrievalStatus"],l),e}function iw(n){const e={},o=a(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>nw(c))),s(e,["urlMetadata"],l)}return e}function ow(n){const e={},o=a(n,["content"]);o!=null&&s(e,["content"],ew(o));const l=a(n,["citationMetadata"]);l!=null&&s(e,["citationMetadata"],tw(l));const c=a(n,["tokenCount"]);c!=null&&s(e,["tokenCount"],c);const h=a(n,["finishReason"]);h!=null&&s(e,["finishReason"],h);const p=a(n,["urlContextMetadata"]);p!=null&&s(e,["urlContextMetadata"],iw(p));const y=a(n,["avgLogprobs"]);y!=null&&s(e,["avgLogprobs"],y);const T=a(n,["groundingMetadata"]);T!=null&&s(e,["groundingMetadata"],T);const v=a(n,["index"]);v!=null&&s(e,["index"],v);const C=a(n,["logprobsResult"]);C!=null&&s(e,["logprobsResult"],C);const w=a(n,["safetyRatings"]);return w!=null&&s(e,["safetyRatings"],w),e}function Jm(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["candidates"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(v=>ow(v))),s(e,["candidates"],T)}const c=a(n,["modelVersion"]);c!=null&&s(e,["modelVersion"],c);const h=a(n,["promptFeedback"]);h!=null&&s(e,["promptFeedback"],h);const p=a(n,["responseId"]);p!=null&&s(e,["responseId"],p);const y=a(n,["usageMetadata"]);return y!=null&&s(e,["usageMetadata"],y),e}function lw(n){const e={},o=a(n,["values"]);return o!=null&&s(e,["values"],o),e}function rw(){return{}}function aw(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["embeddings"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>lw(p))),s(e,["embeddings"],h)}return a(n,["metadata"])!=null&&s(e,["metadata"],rw()),e}function sw(n){const e={},o=a(n,["bytesBase64Encoded"]);o!=null&&s(e,["imageBytes"],sl(o));const l=a(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function Ug(n){const e={},o=a(n,["safetyAttributes","categories"]);o!=null&&s(e,["categories"],o);const l=a(n,["safetyAttributes","scores"]);l!=null&&s(e,["scores"],l);const c=a(n,["contentType"]);return c!=null&&s(e,["contentType"],c),e}function uw(n){const e={},o=a(n,["_self"]);o!=null&&s(e,["image"],sw(o));const l=a(n,["raiFilteredReason"]);l!=null&&s(e,["raiFilteredReason"],l);const c=a(n,["_self"]);return c!=null&&s(e,["safetyAttributes"],Ug(c)),e}function cw(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["predictions"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>uw(p))),s(e,["generatedImages"],h)}const c=a(n,["positivePromptSafetyAttributes"]);return c!=null&&s(e,["positivePromptSafetyAttributes"],Ug(c)),e}function fw(n){const e={},o=a(n,["baseModel"]);o!=null&&s(e,["baseModel"],o);const l=a(n,["createTime"]);l!=null&&s(e,["createTime"],l);const c=a(n,["updateTime"]);return c!=null&&s(e,["updateTime"],c),e}function Tf(n){const e={},o=a(n,["name"]);o!=null&&s(e,["name"],o);const l=a(n,["displayName"]);l!=null&&s(e,["displayName"],l);const c=a(n,["description"]);c!=null&&s(e,["description"],c);const h=a(n,["version"]);h!=null&&s(e,["version"],h);const p=a(n,["_self"]);p!=null&&s(e,["tunedModelInfo"],fw(p));const y=a(n,["inputTokenLimit"]);y!=null&&s(e,["inputTokenLimit"],y);const T=a(n,["outputTokenLimit"]);T!=null&&s(e,["outputTokenLimit"],T);const v=a(n,["supportedGenerationMethods"]);return v!=null&&s(e,["supportedActions"],v),e}function dw(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&s(e,["nextPageToken"],l);const c=a(n,["_self"]);if(c!=null){let h=xg(c);Array.isArray(h)&&(h=h.map(p=>Tf(p))),s(e,["models"],h)}return e}function hw(){return{}}function pw(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["totalTokens"]);l!=null&&s(e,["totalTokens"],l);const c=a(n,["cachedContentTokenCount"]);return c!=null&&s(e,["cachedContentTokenCount"],c),e}function mw(n){const e={},o=a(n,["video","uri"]);o!=null&&s(e,["uri"],o);const l=a(n,["video","encodedVideo"]);l!=null&&s(e,["videoBytes"],sl(l));const c=a(n,["encoding"]);return c!=null&&s(e,["mimeType"],c),e}function gw(n){const e={},o=a(n,["_self"]);return o!=null&&s(e,["video"],mw(o)),e}function yw(n){const e={},o=a(n,["generatedSamples"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>gw(p))),s(e,["generatedVideos"],h)}const l=a(n,["raiMediaFilteredCount"]);l!=null&&s(e,["raiMediaFilteredCount"],l);const c=a(n,["raiMediaFilteredReasons"]);return c!=null&&s(e,["raiMediaFilteredReasons"],c),e}function vw(n){const e={},o=a(n,["name"]);o!=null&&s(e,["name"],o);const l=a(n,["metadata"]);l!=null&&s(e,["metadata"],l);const c=a(n,["done"]);c!=null&&s(e,["done"],c);const h=a(n,["error"]);h!=null&&s(e,["error"],h);const p=a(n,["response","generateVideoResponse"]);return p!=null&&s(e,["response"],yw(p)),e}function xw(n){const e={},o=a(n,["fps"]);o!=null&&s(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&s(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&s(e,["startOffset"],c),e}function Tw(n){const e={},o=a(n,["displayName"]);o!=null&&s(e,["displayName"],o);const l=a(n,["data"]);l!=null&&s(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&s(e,["mimeType"],c),e}function Sw(n){const e={},o=a(n,["displayName"]);o!=null&&s(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&s(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&s(e,["mimeType"],c),e}function Cw(n){const e={},o=a(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],xw(o));const l=a(n,["thought"]);l!=null&&s(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&s(e,["inlineData"],Tw(c));const h=a(n,["fileData"]);h!=null&&s(e,["fileData"],Sw(h));const p=a(n,["thoughtSignature"]);p!=null&&s(e,["thoughtSignature"],p);const y=a(n,["codeExecutionResult"]);y!=null&&s(e,["codeExecutionResult"],y);const T=a(n,["executableCode"]);T!=null&&s(e,["executableCode"],T);const v=a(n,["functionCall"]);v!=null&&s(e,["functionCall"],v);const C=a(n,["functionResponse"]);C!=null&&s(e,["functionResponse"],C);const w=a(n,["text"]);return w!=null&&s(e,["text"],w),e}function bw(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>Cw(h))),s(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&s(e,["role"],l),e}function ww(n){const e={},o=a(n,["citations"]);return o!=null&&s(e,["citations"],o),e}function Ew(n){const e={},o=a(n,["retrievedUrl"]);o!=null&&s(e,["retrievedUrl"],o);const l=a(n,["urlRetrievalStatus"]);return l!=null&&s(e,["urlRetrievalStatus"],l),e}function _w(n){const e={},o=a(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Ew(c))),s(e,["urlMetadata"],l)}return e}function Aw(n){const e={},o=a(n,["content"]);o!=null&&s(e,["content"],bw(o));const l=a(n,["citationMetadata"]);l!=null&&s(e,["citationMetadata"],ww(l));const c=a(n,["finishMessage"]);c!=null&&s(e,["finishMessage"],c);const h=a(n,["finishReason"]);h!=null&&s(e,["finishReason"],h);const p=a(n,["urlContextMetadata"]);p!=null&&s(e,["urlContextMetadata"],_w(p));const y=a(n,["avgLogprobs"]);y!=null&&s(e,["avgLogprobs"],y);const T=a(n,["groundingMetadata"]);T!=null&&s(e,["groundingMetadata"],T);const v=a(n,["index"]);v!=null&&s(e,["index"],v);const C=a(n,["logprobsResult"]);C!=null&&s(e,["logprobsResult"],C);const w=a(n,["safetyRatings"]);return w!=null&&s(e,["safetyRatings"],w),e}function jm(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["candidates"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(C=>Aw(C))),s(e,["candidates"],v)}const c=a(n,["createTime"]);c!=null&&s(e,["createTime"],c);const h=a(n,["modelVersion"]);h!=null&&s(e,["modelVersion"],h);const p=a(n,["promptFeedback"]);p!=null&&s(e,["promptFeedback"],p);const y=a(n,["responseId"]);y!=null&&s(e,["responseId"],y);const T=a(n,["usageMetadata"]);return T!=null&&s(e,["usageMetadata"],T),e}function Mw(n){const e={},o=a(n,["truncated"]);o!=null&&s(e,["truncated"],o);const l=a(n,["token_count"]);return l!=null&&s(e,["tokenCount"],l),e}function Nw(n){const e={},o=a(n,["values"]);o!=null&&s(e,["values"],o);const l=a(n,["statistics"]);return l!=null&&s(e,["statistics"],Mw(l)),e}function Rw(n){const e={},o=a(n,["billableCharacterCount"]);return o!=null&&s(e,["billableCharacterCount"],o),e}function Dw(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["predictions[]","embeddings"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>Nw(p))),s(e,["embeddings"],h)}const c=a(n,["metadata"]);return c!=null&&s(e,["metadata"],Rw(c)),e}function kw(n){const e={},o=a(n,["gcsUri"]);o!=null&&s(e,["gcsUri"],o);const l=a(n,["bytesBase64Encoded"]);l!=null&&s(e,["imageBytes"],sl(l));const c=a(n,["mimeType"]);return c!=null&&s(e,["mimeType"],c),e}function Lg(n){const e={},o=a(n,["safetyAttributes","categories"]);o!=null&&s(e,["categories"],o);const l=a(n,["safetyAttributes","scores"]);l!=null&&s(e,["scores"],l);const c=a(n,["contentType"]);return c!=null&&s(e,["contentType"],c),e}function uu(n){const e={},o=a(n,["_self"]);o!=null&&s(e,["image"],kw(o));const l=a(n,["raiFilteredReason"]);l!=null&&s(e,["raiFilteredReason"],l);const c=a(n,["_self"]);c!=null&&s(e,["safetyAttributes"],Lg(c));const h=a(n,["prompt"]);return h!=null&&s(e,["enhancedPrompt"],h),e}function Iw(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["predictions"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>uu(p))),s(e,["generatedImages"],h)}const c=a(n,["positivePromptSafetyAttributes"]);return c!=null&&s(e,["positivePromptSafetyAttributes"],Lg(c)),e}function Uw(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>uu(h))),s(e,["generatedImages"],c)}return e}function Lw(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>uu(h))),s(e,["generatedImages"],c)}return e}function Pw(n){const e={},o=a(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>uu(c))),s(e,["generatedImages"],l)}return e}function Vw(n){const e={},o=a(n,["endpoint"]);o!=null&&s(e,["name"],o);const l=a(n,["deployedModelId"]);return l!=null&&s(e,["deployedModelId"],l),e}function qw(n){const e={},o=a(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&s(e,["baseModel"],o);const l=a(n,["createTime"]);l!=null&&s(e,["createTime"],l);const c=a(n,["updateTime"]);return c!=null&&s(e,["updateTime"],c),e}function Gw(n){const e={},o=a(n,["checkpointId"]);o!=null&&s(e,["checkpointId"],o);const l=a(n,["epoch"]);l!=null&&s(e,["epoch"],l);const c=a(n,["step"]);return c!=null&&s(e,["step"],c),e}function Sf(n){const e={},o=a(n,["name"]);o!=null&&s(e,["name"],o);const l=a(n,["displayName"]);l!=null&&s(e,["displayName"],l);const c=a(n,["description"]);c!=null&&s(e,["description"],c);const h=a(n,["versionId"]);h!=null&&s(e,["version"],h);const p=a(n,["deployedModels"]);if(p!=null){let w=p;Array.isArray(w)&&(w=w.map(A=>Vw(A))),s(e,["endpoints"],w)}const y=a(n,["labels"]);y!=null&&s(e,["labels"],y);const T=a(n,["_self"]);T!=null&&s(e,["tunedModelInfo"],qw(T));const v=a(n,["defaultCheckpointId"]);v!=null&&s(e,["defaultCheckpointId"],v);const C=a(n,["checkpoints"]);if(C!=null){let w=C;Array.isArray(w)&&(w=w.map(A=>Gw(A))),s(e,["checkpoints"],w)}return e}function Bw(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&s(e,["nextPageToken"],l);const c=a(n,["_self"]);if(c!=null){let h=xg(c);Array.isArray(h)&&(h=h.map(p=>Sf(p))),s(e,["models"],h)}return e}function Ow(){return{}}function Hw(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["totalTokens"]);return l!=null&&s(e,["totalTokens"],l),e}function zw(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["tokensInfo"]);return l!=null&&s(e,["tokensInfo"],l),e}function Fw(n){const e={},o=a(n,["gcsUri"]);o!=null&&s(e,["uri"],o);const l=a(n,["bytesBase64Encoded"]);l!=null&&s(e,["videoBytes"],sl(l));const c=a(n,["mimeType"]);return c!=null&&s(e,["mimeType"],c),e}function Yw(n){const e={},o=a(n,["_self"]);return o!=null&&s(e,["video"],Fw(o)),e}function Kw(n){const e={},o=a(n,["videos"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>Yw(p))),s(e,["generatedVideos"],h)}const l=a(n,["raiMediaFilteredCount"]);l!=null&&s(e,["raiMediaFilteredCount"],l);const c=a(n,["raiMediaFilteredReasons"]);return c!=null&&s(e,["raiMediaFilteredReasons"],c),e}function Jw(n){const e={},o=a(n,["name"]);o!=null&&s(e,["name"],o);const l=a(n,["metadata"]);l!=null&&s(e,["metadata"],l);const c=a(n,["done"]);c!=null&&s(e,["done"],c);const h=a(n,["error"]);h!=null&&s(e,["error"],h);const p=a(n,["response"]);return p!=null&&s(e,["response"],Kw(p)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jw="Content-Type",Qw="X-Server-Timeout",Xw="User-Agent",Cf="x-goog-api-client",$w="1.13.0",Zw=`google-genai-sdk/${$w}`,Ww="v1beta1",eE="v1beta",Qm=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class tE{constructor(e){var o,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const c={};this.clientOptions.vertexai?(c.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Ww,c.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(c.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:eE,c.baseUrl="https://generativelanguage.googleapis.com/"),c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,l){const c=[this.getRequestUrlInternal(o)];return l&&c.push(this.getBaseResourcePath()),e!==""&&c.push(e),new URL(`${c.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,l);if(e.queryParams)for(const[p,y]of Object.entries(e.queryParams))c.searchParams.append(p,String(y));let h={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else h.body=e.body;return h=await this.includeExtraHttpOptionsToRequestInit(h,o,e.abortSignal),this.unaryApiCall(c,h,e.httpMethod)}patchHttpOptions(e,o){const l=JSON.parse(JSON.stringify(e));for(const[c,h]of Object.entries(o))typeof h=="object"?l[c]=Object.assign(Object.assign({},l[c]),h):h!==void 0&&(l[c]=h);return l}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,l);(!c.searchParams.has("alt")||c.searchParams.get("alt")!=="sse")&&c.searchParams.set("alt","sse");let h={};return h.body=e.body,h=await this.includeExtraHttpOptionsToRequestInit(h,o,e.abortSignal),this.streamApiCall(c,h,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,l){if(o&&o.timeout||l){const c=new AbortController,h=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const p=setTimeout(()=>c.abort(),o.timeout);p&&typeof p.unref=="function"&&p.unref()}l&&l.addEventListener("abort",()=>{c.abort()}),e.signal=h}return o&&o.extraBody!==null&&nE(e,o.extraBody),e.headers=await this.getHeadersInternal(o),e}async unaryApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async c=>(await Xm(c),new pf(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}async streamApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async c=>(await Xm(c),this.processStreamResponse(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}processStreamResponse(e){var o;return hr(this,arguments,function*(){const c=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),h=new TextDecoder("utf-8");if(!c)throw new Error("Response body is empty");try{let p="";for(;;){const{done:y,value:T}=yield wt(c.read());if(y){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const v=h.decode(T,{stream:!0});try{const w=JSON.parse(v);if("error"in w){const A=JSON.parse(JSON.stringify(w.error)),I=A.status,J=A.code,te=`got status: ${I}. ${JSON.stringify(w)}`;if(J>=400&&J<600)throw new au({message:te,status:J})}}catch(w){if(w.name==="ApiError")throw w}p+=v;let C=p.match(Qm);for(;C;){const w=C[1];try{const A=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield wt(new pf(A)),p=p.slice(C[0].length),C=p.match(Qm)}catch(A){throw new Error(`exception parsing stream chunk ${w}. ${A}`)}}}}finally{c.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},o=Zw+" "+this.clientOptions.userAgentExtra;return e[Xw]=o,e[Cf]=o,e[jw]="application/json",e}async getHeadersInternal(e){const o=new Headers;if(e&&e.headers){for(const[l,c]of Object.entries(e.headers))o.append(l,c);e.timeout&&e.timeout>0&&o.append(Qw,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o),o}async uploadFile(e,o){var l;const c={};o!=null&&(c.mimeType=o.mimeType,c.name=o.name,c.displayName=o.displayName),c.name&&!c.name.startsWith("files/")&&(c.name=`files/${c.name}`);const h=this.clientOptions.uploader,p=await h.stat(e);c.sizeBytes=String(p.size);const y=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");c.mimeType=y;const T=await this.fetchUploadUrl(c,o);return h.upload(e,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o){var l;let c={};o!=null&&o.httpOptions?c=o.httpOptions:c={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const h={file:e},p=await this.request({path:ke("upload/v1beta/files",h._url),body:JSON.stringify(h),httpMethod:"POST",httpOptions:c});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(l=p==null?void 0:p.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function Xm(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const c=JSON.stringify(l);throw o>=400&&o<600?new au({message:c,status:o}):new Error(c)}}function nE(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const h=JSON.parse(n.body);if(typeof h=="object"&&h!==null&&!Array.isArray(h))o=h;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(h,p){const y=Object.assign({},h);for(const T in p)if(Object.prototype.hasOwnProperty.call(p,T)){const v=p[T],C=y[T];v&&typeof v=="object"&&!Array.isArray(v)&&C&&typeof C=="object"&&!Array.isArray(C)?y[T]=l(C,v):(C&&v&&typeof C!=typeof v&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${T}". Original type: ${typeof C}, New type: ${typeof v}. Overwriting.`),y[T]=v)}return y}const c=l(o,e);n.body=JSON.stringify(c)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iE="mcp_used/unknown";let oE=!1;function Pg(n){for(const e of n)if(lE(e)||typeof e=="object"&&"inputSchema"in e)return!0;return oE}function Vg(n){var e;const o=(e=n[Cf])!==null&&e!==void 0?e:"";n[Cf]=(o+` ${iE}`).trimStart()}function lE(n){return n!==null&&typeof n=="object"&&n instanceof Rf}function rE(n,e=100){return hr(this,arguments,function*(){let l,c=0;for(;c<e;){const h=yield wt(n.listTools({cursor:l}));for(const p of h.tools)yield yield wt(p),c++;if(!h.nextCursor)break;l=h.nextCursor}})}class Rf{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new Rf(e,o)}async initialize(){var e,o,l,c;if(this.mcpTools.length>0)return;const h={},p=[];for(const C of this.mcpClients)try{for(var y=!0,T=(o=void 0,Ra(rE(C))),v;v=await T.next(),e=v.done,!e;y=!0){c=v.value,y=!1;const w=c;p.push(w);const A=w.name;if(h[A])throw new Error(`Duplicate function name ${A} found in MCP tools. Please ensure function names are unique.`);h[A]=C}}catch(w){o={error:w}}finally{try{!y&&!e&&(l=T.return)&&await l.call(T)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=h}async tool(){return await this.initialize(),Xv(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const c=this.functionNameToMcpClient[l.name];let h;this.config.timeout&&(h={timeout:this.config.timeout});const p=await c.callTool({name:l.name,arguments:l.args},void 0,h);o.push({functionResponse:{name:l.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function aE(n,e,o){const l=new Hv;let c;o.data instanceof Blob?c=JSON.parse(await o.data.text()):c=JSON.parse(o.data);const h=XS(c);Object.assign(l,h),e(l)}class sE{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l}async connect(e){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const c=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion(),p=fE(this.apiClient.getDefaultHeaders()),y=this.apiClient.getApiKey(),T=`${c}/ws/google.ai.generativelanguage.${h}.GenerativeService.BidiGenerateMusic?key=${y}`;let v=()=>{};const C=new Promise(ie=>{v=ie}),w=e.callbacks,A=function(){v({})},I=this.apiClient,J={onopen:A,onmessage:ie=>{aE(I,w.onmessage,ie)},onerror:(o=w==null?void 0:w.onerror)!==null&&o!==void 0?o:function(ie){},onclose:(l=w==null?void 0:w.onclose)!==null&&l!==void 0?l:function(ie){}},te=this.webSocketFactory.create(T,cE(p),J);te.connect(),await C;const he=ft(this.apiClient,e.model),be=Rg({model:he}),ne=xf({setup:be});return te.send(JSON.stringify(ne)),new uE(te,this.apiClient)}}class uE{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=jT(e),l=Dg(o);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=QT(e),l=xf(o);this.conn.send(JSON.stringify(l))}sendPlaybackControl(e){const o=xf({playbackControl:e});this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(fr.PLAY)}pause(){this.sendPlaybackControl(fr.PAUSE)}stop(){this.sendPlaybackControl(fr.STOP)}resetContext(){this.sendPlaybackControl(fr.RESET_CONTEXT)}close(){this.conn.close()}}function cE(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function fE(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function hE(n,e,o){const l=new Ov;let c;o.data instanceof Blob?c=await o.data.text():o.data instanceof ArrayBuffer?c=new TextDecoder().decode(o.data):c=o.data;const h=JSON.parse(c);if(n.isVertexAI()){const p=cC(h);Object.assign(l,p)}else{const p=OS(h);Object.assign(l,p)}e(l)}class pE{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l,this.music=new sE(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,l,c,h,p,y;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const T=this.apiClient.getWebsocketBaseUrl(),v=this.apiClient.getApiVersion();let C;const w=this.apiClient.getHeaders();e.config&&e.config.tools&&Pg(e.config.tools)&&Vg(w);const A=vE(w);if(this.apiClient.isVertexAI())C=`${T}/ws/google.cloud.aiplatform.${v}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(A);else{const Ne=this.apiClient.getApiKey();let Je="BidiGenerateContent",Ye="key";Ne!=null&&Ne.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),v!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Je="BidiGenerateContentConstrained",Ye="access_token"),C=`${T}/ws/google.ai.generativelanguage.${v}.GenerativeService.${Je}?${Ye}=${Ne}`}let I=()=>{};const J=new Promise(Ne=>{I=Ne}),te=e.callbacks,he=function(){var Ne;(Ne=te==null?void 0:te.onopen)===null||Ne===void 0||Ne.call(te),I({})},be=this.apiClient,ne={onopen:he,onmessage:Ne=>{hE(be,te.onmessage,Ne)},onerror:(o=te==null?void 0:te.onerror)!==null&&o!==void 0?o:function(Ne){},onclose:(l=te==null?void 0:te.onclose)!==null&&l!==void 0?l:function(Ne){}},ie=this.webSocketFactory.create(C,yE(A),ne);ie.connect(),await J;let pe=ft(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&pe.startsWith("publishers/")){const Ne=this.apiClient.getProject(),Je=this.apiClient.getLocation();pe=`projects/${Ne}/locations/${Je}/`+pe}let ce={};this.apiClient.isVertexAI()&&((c=e.config)===null||c===void 0?void 0:c.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ou.AUDIO]}:e.config.responseModalities=[ou.AUDIO]),!((h=e.config)===null||h===void 0)&&h.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ae=(y=(p=e.config)===null||p===void 0?void 0:p.tools)!==null&&y!==void 0?y:[],xe=[];for(const Ne of ae)if(this.isCallableTool(Ne)){const Je=Ne;xe.push(await Je.tool())}else xe.push(Ne);xe.length>0&&(e.config.tools=xe);const Pe={model:pe,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ce=CS(this.apiClient,Pe):ce=FT(this.apiClient,Pe),delete ce.config,ie.send(JSON.stringify(ce)),new gE(ie,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const mE={turnComplete:!0};class gE{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=zn(o.turns),e.isVertexAI()?l=l.map(c=>vr(c)):l=l.map(c=>su(c))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const h of l){if(typeof h!="object"||h===null||!("name"in h)||!("response"in h))throw new Error(`Could not parse function response, type '${typeof h}'.`);if(!e.isVertexAI()&&!("id"in h))throw new Error(dE)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},mE),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:ES(e)}:o={realtimeInput:JT(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function yE(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function vE(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $m=10;function Zm(n){var e,o,l;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let c=!1;for(const p of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(pr(p)){c=!0;break}if(!c)return!0;const h=(l=n==null?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return h&&(h<0||!Number.isInteger(h))||h==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",h),!0):!1}function pr(n){return"callTool"in n&&typeof n.callTool=="function"}function xE(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>pr(c)))!==null&&l!==void 0?l:!1}function TE(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>!pr(c)))!==null&&l!==void 0?l:!1}function Wm(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SE extends al{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var l,c,h,p,y;const T=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!xE(o)||Zm(o.config))return await this.generateContentInternal(T);if(TE(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let v,C;const w=zn(T.contents),A=(h=(c=(l=T.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.maximumRemoteCalls)!==null&&h!==void 0?h:$m;let I=0;for(;I<A&&(v=await this.generateContentInternal(T),!(!v.functionCalls||v.functionCalls.length===0));){const J=v.candidates[0].content,te=[];for(const he of(y=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&y!==void 0?y:[])if(pr(he)){const ne=await he.callTool(v.functionCalls);te.push(...ne)}I++,C={role:"user",parts:te},T.contents=zn(T.contents),T.contents.push(J),T.contents.push(C),Wm(T.config)&&(w.push(J),w.push(C))}return Wm(T.config)&&(v.automaticFunctionCallingHistory=w),v},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),Zm(o.config)){const l=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(l)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var c;let h;const p=[];if(l!=null&&l.generatedImages)for(const T of l.generatedImages)T&&(T!=null&&T.safetyAttributes)&&((c=T==null?void 0:T.safetyAttributes)===null||c===void 0?void 0:c.contentType)==="Positive Prompt"?h=T==null?void 0:T.safetyAttributes:p.push(T);let y;return h?y={generatedImages:p,positivePromptSafetyAttributes:h,sdkHttpResponse:l.sdkHttpResponse}:y={generatedImages:p,sdkHttpResponse:l.sdkHttpResponse},y}),this.list=async o=>{var l;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((l=p.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Da(rl.PAGED_ITEM_MODELS,y=>this.listInternal(y),await this.listInternal(p),p)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(c=>c.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const c={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(c)},this.generateVideos=async o=>await this.generateVideosInternal(o)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,l,c;const h=(o=e.config)===null||o===void 0?void 0:o.tools;if(!h)return e;const p=await Promise.all(h.map(async T=>pr(T)?await T.tool():T)),y={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:p})};if(y.config.tools=p,e.config&&e.config.tools&&Pg(e.config.tools)){const T=(c=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&c!==void 0?c:{};let v=Object.assign({},T);Object.keys(v).length===0&&(v=this.apiClient.getDefaultHeaders()),Vg(v),y.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:v})}return y}async initAfcToolsMap(e){var o,l,c;const h=new Map;for(const p of(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(pr(p)){const y=p,T=await y.tool();for(const v of(c=T.functionDeclarations)!==null&&c!==void 0?c:[]){if(!v.name)throw new Error("Function declaration name is required.");if(h.has(v.name))throw new Error(`Duplicate tool declaration name: ${v.name}`);h.set(v.name,y)}}return h}async processAfcStream(e){var o,l,c;const h=(c=(l=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&c!==void 0?c:$m;let p=!1,y=0;const T=await this.initAfcToolsMap(e);return(function(v,C,w){var A,I;return hr(this,arguments,function*(){for(var J,te,he,be;y<h;){p&&(y++,p=!1);const ce=yield wt(v.processParamsMaybeAddMcpUsage(w)),ae=yield wt(v.generateContentStreamInternal(ce)),xe=[],Pe=[];try{for(var ne=!0,ie=(te=void 0,Ra(ae)),pe;pe=yield wt(ie.next()),J=pe.done,!J;ne=!0){be=pe.value,ne=!1;const Ne=be;if(yield yield wt(Ne),Ne.candidates&&(!((A=Ne.candidates[0])===null||A===void 0)&&A.content)){Pe.push(Ne.candidates[0].content);for(const Je of(I=Ne.candidates[0].content.parts)!==null&&I!==void 0?I:[])if(y<h&&Je.functionCall){if(!Je.functionCall.name)throw new Error("Function call name was not returned by the model.");if(C.has(Je.functionCall.name)){const Ye=yield wt(C.get(Je.functionCall.name).callTool([Je.functionCall]));xe.push(...Ye)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${C.keys()}, mising tool: ${Je.functionCall.name}`)}}}}catch(Ne){te={error:Ne}}finally{try{!ne&&!J&&(he=ie.return)&&(yield wt(he.call(ie)))}finally{if(te)throw te.error}}if(xe.length>0){p=!0;const Ne=new Na;Ne.candidates=[{content:{role:"user",parts:xe}}],yield yield wt(Ne);const Je=[];Je.push(...Pe),Je.push({role:"user",parts:xe});const Ye=zn(w.contents).concat(Je);w.contents=Ye}else break}})})(this,T,e)}async generateContentInternal(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=Km(this.apiClient,e);return y=ke("{model}:generateContent",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>{const w=jm(C),A=new Na;return Object.assign(A,w),A})}else{const v=Ym(this.apiClient,e);return y=ke("{model}:generateContent",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>{const w=Jm(C),A=new Na;return Object.assign(A,w),A})}}async generateContentStreamInternal(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=Km(this.apiClient,e);return y=ke("{model}:streamGenerateContent?alt=sse",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.requestStream({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),p.then(function(w){return hr(this,arguments,function*(){var A,I,J,te;try{for(var he=!0,be=Ra(w),ne;ne=yield wt(be.next()),A=ne.done,!A;he=!0){te=ne.value,he=!1;const ie=te,pe=jm(yield wt(ie.json()));pe.sdkHttpResponse={headers:ie.headers};const ce=new Na;Object.assign(ce,pe),yield yield wt(ce)}}catch(ie){I={error:ie}}finally{try{!he&&!A&&(J=be.return)&&(yield wt(J.call(be)))}finally{if(I)throw I.error}}})})}else{const v=Ym(this.apiClient,e);return y=ke("{model}:streamGenerateContent?alt=sse",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.requestStream({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}),p.then(function(w){return hr(this,arguments,function*(){var A,I,J,te;try{for(var he=!0,be=Ra(w),ne;ne=yield wt(be.next()),A=ne.done,!A;he=!0){te=ne.value,he=!1;const ie=te,pe=Jm(yield wt(ie.json()));pe.sdkHttpResponse={headers:ie.headers};const ce=new Na;Object.assign(ce,pe),yield yield wt(ce)}}catch(ie){I={error:ie}}finally{try{!he&&!A&&(J=be.return)&&(yield wt(J.call(be)))}finally{if(I)throw I.error}}})})}}async embedContent(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=Cb(this.apiClient,e);return y=ke("{model}:predict",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>{const w=Dw(C),A=new wm;return Object.assign(A,w),A})}else{const v=LC(this.apiClient,e);return y=ke("{model}:batchEmbedContents",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>{const w=aw(C),A=new wm;return Object.assign(A,w),A})}}async generateImagesInternal(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=wb(this.apiClient,e);return y=ke("{model}:predict",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>{const w=Iw(C),A=new Em;return Object.assign(A,w),A})}else{const v=VC(this.apiClient,e);return y=ke("{model}:predict",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>{const w=cw(C),A=new Em;return Object.assign(A,w),A})}}async editImageInternal(e){var o,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const y=Db(this.apiClient,e);return h=ke("{model}:predict",y._url),p=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:T.headers},C})),c.then(T=>{const v=Uw(T),C=new Uv;return Object.assign(C,v),C})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const y=Ib(this.apiClient,e);return h=ke("{model}:predict",y._url),p=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:T.headers},C})),c.then(T=>{const v=Lw(T),C=new Lv;return Object.assign(C,v),C})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const y=Vb(this.apiClient,e);return h=ke("{model}:predict",y._url),p=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),c.then(T=>{const v=Pw(T),C=new Pv;return Object.assign(C,v),C})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=qb(this.apiClient,e);return y=ke("{name}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json()),p.then(C=>Sf(C))}else{const v=qC(this.apiClient,e);return y=ke("{name}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json()),p.then(C=>Tf(C))}}async listInternal(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=Bb(this.apiClient,e);return y=ke("{models_url}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>{const w=Bw(C),A=new _m;return Object.assign(A,w),A})}else{const v=BC(this.apiClient,e);return y=ke("{models_url}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>{const w=dw(C),A=new _m;return Object.assign(A,w),A})}}async update(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=Hb(this.apiClient,e);return y=ke("{model}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json()),p.then(C=>Sf(C))}else{const v=HC(this.apiClient,e);return y=ke("{name}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json()),p.then(C=>Tf(C))}}async delete(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=zb(this.apiClient,e);return y=ke("{name}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json()),p.then(()=>{const C=Ow(),w=new Am;return Object.assign(w,C),w})}else{const v=zC(this.apiClient,e);return y=ke("{name}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json()),p.then(()=>{const C=hw(),w=new Am;return Object.assign(w,C),w})}}async countTokens(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=Yb(this.apiClient,e);return y=ke("{model}:countTokens",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>{const w=Hw(C),A=new Mm;return Object.assign(A,w),A})}else{const v=YC(this.apiClient,e);return y=ke("{model}:countTokens",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>{const w=pw(C),A=new Mm;return Object.assign(A,w),A})}}async computeTokens(e){var o,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const y=Kb(this.apiClient,e);return h=ke("{model}:computeTokens",y._url),p=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:T.headers},C})),c.then(T=>{const v=zw(T),C=new Vv;return Object.assign(C,v),C})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=Qb(this.apiClient,e);return y=ke("{model}:predictLongRunning",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json()),p.then(C=>{const w=Jw(C),A=new lu;return Object.assign(A,w),A})}else{const v=jC(this.apiClient,e);return y=ke("{model}:predictLongRunning",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json()),p.then(C=>{const w=vw(C),A=new lu;return Object.assign(A,w),A})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CE(n){const e={},o=a(n,["operationName"]);o!=null&&s(e,["_url","operationName"],o);const l=a(n,["config"]);return l!=null&&s(e,["config"],l),e}function bE(n){const e={},o=a(n,["operationName"]);o!=null&&s(e,["_url","operationName"],o);const l=a(n,["config"]);return l!=null&&s(e,["config"],l),e}function wE(n){const e={},o=a(n,["operationName"]);o!=null&&s(e,["operationName"],o);const l=a(n,["resourceName"]);l!=null&&s(e,["_url","resourceName"],l);const c=a(n,["config"]);return c!=null&&s(e,["config"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EE extends al{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let h;l&&"httpOptions"in l&&(h=l.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:h}});return o._fromAPIResponse({apiResponse:p,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async get(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let h;l&&"httpOptions"in l&&(h=l.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:h}});return o._fromAPIResponse({apiResponse:p,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async getVideosOperationInternal(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=bE(e);return y=ke("{operationName}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json()),p}else{const v=CE(e);return y=ke("{operationName}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json()),p}}async fetchPredictVideosOperationInternal(e){var o,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const y=wE(e);return h=ke("{resourceName}:fetchPredictOperation",y._url),p=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),c}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _E(n){const e={},o=a(n,["voiceName"]);return o!=null&&s(e,["voiceName"],o),e}function qg(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&s(e,["prebuiltVoiceConfig"],_E(o)),e}function AE(n){const e={},o=a(n,["speaker"]);o!=null&&s(e,["speaker"],o);const l=a(n,["voiceConfig"]);return l!=null&&s(e,["voiceConfig"],qg(l)),e}function ME(n){const e={},o=a(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>AE(c))),s(e,["speakerVoiceConfigs"],l)}return e}function NE(n){const e={},o=a(n,["voiceConfig"]);o!=null&&s(e,["voiceConfig"],qg(o));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&s(e,["multiSpeakerVoiceConfig"],ME(l));const c=a(n,["languageCode"]);return c!=null&&s(e,["languageCode"],c),e}function RE(n){const e={},o=a(n,["fps"]);o!=null&&s(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&s(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&s(e,["startOffset"],c),e}function DE(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&s(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function kE(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&s(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function IE(n){const e={},o=a(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],RE(o));const l=a(n,["thought"]);l!=null&&s(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&s(e,["inlineData"],DE(c));const h=a(n,["fileData"]);h!=null&&s(e,["fileData"],kE(h));const p=a(n,["thoughtSignature"]);p!=null&&s(e,["thoughtSignature"],p);const y=a(n,["codeExecutionResult"]);y!=null&&s(e,["codeExecutionResult"],y);const T=a(n,["executableCode"]);T!=null&&s(e,["executableCode"],T);const v=a(n,["functionCall"]);v!=null&&s(e,["functionCall"],v);const C=a(n,["functionResponse"]);C!=null&&s(e,["functionResponse"],C);const w=a(n,["text"]);return w!=null&&s(e,["text"],w),e}function UE(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>IE(h))),s(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&s(e,["role"],l),e}function LE(n){const e={},o=a(n,["behavior"]);o!=null&&s(e,["behavior"],o);const l=a(n,["description"]);l!=null&&s(e,["description"],l);const c=a(n,["name"]);c!=null&&s(e,["name"],c);const h=a(n,["parameters"]);h!=null&&s(e,["parameters"],h);const p=a(n,["parametersJsonSchema"]);p!=null&&s(e,["parametersJsonSchema"],p);const y=a(n,["response"]);y!=null&&s(e,["response"],y);const T=a(n,["responseJsonSchema"]);return T!=null&&s(e,["responseJsonSchema"],T),e}function PE(n){const e={},o=a(n,["startTime"]);o!=null&&s(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&s(e,["endTime"],l),e}function VE(n){const e={},o=a(n,["timeRangeFilter"]);return o!=null&&s(e,["timeRangeFilter"],PE(o)),e}function qE(n){const e={},o=a(n,["mode"]);o!=null&&s(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&s(e,["dynamicThreshold"],l),e}function GE(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&s(e,["dynamicRetrievalConfig"],qE(o)),e}function BE(){return{}}function OE(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(v=>LE(v))),s(e,["functionDeclarations"],T)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&s(e,["googleSearch"],VE(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&s(e,["googleSearchRetrieval"],GE(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&s(e,["urlContext"],BE());const p=a(n,["codeExecution"]);p!=null&&s(e,["codeExecution"],p);const y=a(n,["computerUse"]);return y!=null&&s(e,["computerUse"],y),e}function HE(n){const e={},o=a(n,["handle"]);if(o!=null&&s(e,["handle"],o),a(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function eg(){return{}}function zE(n){const e={},o=a(n,["disabled"]);o!=null&&s(e,["disabled"],o);const l=a(n,["startOfSpeechSensitivity"]);l!=null&&s(e,["startOfSpeechSensitivity"],l);const c=a(n,["endOfSpeechSensitivity"]);c!=null&&s(e,["endOfSpeechSensitivity"],c);const h=a(n,["prefixPaddingMs"]);h!=null&&s(e,["prefixPaddingMs"],h);const p=a(n,["silenceDurationMs"]);return p!=null&&s(e,["silenceDurationMs"],p),e}function FE(n){const e={},o=a(n,["automaticActivityDetection"]);o!=null&&s(e,["automaticActivityDetection"],zE(o));const l=a(n,["activityHandling"]);l!=null&&s(e,["activityHandling"],l);const c=a(n,["turnCoverage"]);return c!=null&&s(e,["turnCoverage"],c),e}function YE(n){const e={},o=a(n,["targetTokens"]);return o!=null&&s(e,["targetTokens"],o),e}function KE(n){const e={},o=a(n,["triggerTokens"]);o!=null&&s(e,["triggerTokens"],o);const l=a(n,["slidingWindow"]);return l!=null&&s(e,["slidingWindow"],YE(l)),e}function JE(n){const e={},o=a(n,["proactiveAudio"]);return o!=null&&s(e,["proactiveAudio"],o),e}function jE(n,e){const o={},l=a(n,["generationConfig"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig"],l);const c=a(n,["responseModalities"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","responseModalities"],c);const h=a(n,["temperature"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","temperature"],h);const p=a(n,["topP"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","topP"],p);const y=a(n,["topK"]);e!==void 0&&y!=null&&s(e,["setup","generationConfig","topK"],y);const T=a(n,["maxOutputTokens"]);e!==void 0&&T!=null&&s(e,["setup","generationConfig","maxOutputTokens"],T);const v=a(n,["mediaResolution"]);e!==void 0&&v!=null&&s(e,["setup","generationConfig","mediaResolution"],v);const C=a(n,["seed"]);e!==void 0&&C!=null&&s(e,["setup","generationConfig","seed"],C);const w=a(n,["speechConfig"]);e!==void 0&&w!=null&&s(e,["setup","generationConfig","speechConfig"],NE(Nf(w)));const A=a(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],A);const I=a(n,["systemInstruction"]);e!==void 0&&I!=null&&s(e,["setup","systemInstruction"],UE(ln(I)));const J=a(n,["tools"]);if(e!==void 0&&J!=null){let ce=gr(J);Array.isArray(ce)&&(ce=ce.map(ae=>OE(mr(ae)))),s(e,["setup","tools"],ce)}const te=a(n,["sessionResumption"]);e!==void 0&&te!=null&&s(e,["setup","sessionResumption"],HE(te));const he=a(n,["inputAudioTranscription"]);e!==void 0&&he!=null&&s(e,["setup","inputAudioTranscription"],eg());const be=a(n,["outputAudioTranscription"]);e!==void 0&&be!=null&&s(e,["setup","outputAudioTranscription"],eg());const ne=a(n,["realtimeInputConfig"]);e!==void 0&&ne!=null&&s(e,["setup","realtimeInputConfig"],FE(ne));const ie=a(n,["contextWindowCompression"]);e!==void 0&&ie!=null&&s(e,["setup","contextWindowCompression"],KE(ie));const pe=a(n,["proactivity"]);return e!==void 0&&pe!=null&&s(e,["setup","proactivity"],JE(pe)),o}function QE(n,e){const o={},l=a(e,["model"]);l!=null&&s(o,["setup","model"],ft(n,l));const c=a(e,["config"]);return c!=null&&s(o,["config"],jE(c,o)),o}function XE(n,e,o){const l={},c=a(e,["expireTime"]);o!==void 0&&c!=null&&s(o,["expireTime"],c);const h=a(e,["newSessionExpireTime"]);o!==void 0&&h!=null&&s(o,["newSessionExpireTime"],h);const p=a(e,["uses"]);o!==void 0&&p!=null&&s(o,["uses"],p);const y=a(e,["liveConnectConstraints"]);o!==void 0&&y!=null&&s(o,["bidiGenerateContentSetup"],QE(n,y));const T=a(e,["lockAdditionalFields"]);return o!==void 0&&T!=null&&s(o,["fieldMask"],T),l}function $E(n,e){const o={},l=a(e,["config"]);return l!=null&&s(o,["config"],XE(n,l,o)),o}function ZE(n){const e={},o=a(n,["name"]);return o!=null&&s(e,["name"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WE(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const l=n[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const c=Object.keys(l).map(h=>`${o}.${h}`);e.push(...c)}else e.push(o)}return e.join(",")}function e_(n,e){let o=null;const l=n.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const h=l.setup;typeof h=="object"&&h!==null?(n.bidiGenerateContentSetup=h,o=h):delete n.bidiGenerateContentSetup}else l!==void 0&&delete n.bidiGenerateContentSetup;const c=n.fieldMask;if(o){const h=WE(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)h?n.fieldMask=h:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&c!==null&&Array.isArray(c)&&c.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let y=[];c.length>0&&(y=c.map(v=>p.includes(v)?`generationConfig.${v}`:v));const T=[];h&&T.push(h),y.length>0&&T.push(...y),T.length>0?n.fieldMask=T.join(","):delete n.fieldMask}else delete n.fieldMask}else c!==null&&Array.isArray(c)&&c.length>0?n.fieldMask=c.join(","):delete n.fieldMask;return n}class t_ extends al{constructor(e){super(),this.apiClient=e}async create(e){var o,l;let c,h="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const y=$E(this.apiClient,e);h=ke("auth_tokens",y._url),p=y._query,delete y.config,delete y._url,delete y._query;const T=e_(y,e.config);return c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>ZE(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n_(n){const e={},o=a(n,["name"]);o!=null&&s(e,["_url","name"],o);const l=a(n,["config"]);return l!=null&&s(e,["config"],l),e}function i_(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&s(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);e!==void 0&&c!=null&&s(e,["_query","pageToken"],c);const h=a(n,["filter"]);return e!==void 0&&h!=null&&s(e,["_query","filter"],h),o}function o_(n){const e={},o=a(n,["config"]);return o!=null&&s(e,["config"],i_(o,e)),e}function l_(n){const e={},o=a(n,["textInput"]);o!=null&&s(e,["textInput"],o);const l=a(n,["output"]);return l!=null&&s(e,["output"],l),e}function r_(n){const e={};if(a(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=a(n,["examples"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>l_(c))),s(e,["examples","examples"],l)}return e}function a_(n,e){const o={};if(a(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=a(n,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&s(e,["displayName"],l),a(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=a(n,["epochCount"]);e!==void 0&&c!=null&&s(e,["tuningTask","hyperparameters","epochCount"],c);const h=a(n,["learningRateMultiplier"]);if(h!=null&&s(o,["tuningTask","hyperparameters","learningRateMultiplier"],h),a(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=a(n,["batchSize"]);e!==void 0&&p!=null&&s(e,["tuningTask","hyperparameters","batchSize"],p);const y=a(n,["learningRate"]);return e!==void 0&&y!=null&&s(e,["tuningTask","hyperparameters","learningRate"],y),o}function s_(n){const e={},o=a(n,["baseModel"]);o!=null&&s(e,["baseModel"],o);const l=a(n,["trainingDataset"]);l!=null&&s(e,["tuningTask","trainingData"],r_(l));const c=a(n,["config"]);return c!=null&&s(e,["config"],a_(c,e)),e}function u_(n){const e={},o=a(n,["name"]);o!=null&&s(e,["_url","name"],o);const l=a(n,["config"]);return l!=null&&s(e,["config"],l),e}function c_(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&s(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);e!==void 0&&c!=null&&s(e,["_query","pageToken"],c);const h=a(n,["filter"]);return e!==void 0&&h!=null&&s(e,["_query","filter"],h),o}function f_(n){const e={},o=a(n,["config"]);return o!=null&&s(e,["config"],c_(o,e)),e}function d_(n,e){const o={},l=a(n,["gcsUri"]);e!==void 0&&l!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],l);const c=a(n,["vertexDatasetResource"]);if(e!==void 0&&c!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],c),a(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function h_(n,e){const o={},l=a(n,["gcsUri"]);l!=null&&s(o,["validationDatasetUri"],l);const c=a(n,["vertexDatasetResource"]);return e!==void 0&&c!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],c),o}function p_(n,e){const o={},l=a(n,["validationDataset"]);e!==void 0&&l!=null&&s(e,["supervisedTuningSpec"],h_(l,o));const c=a(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&s(e,["tunedModelDisplayName"],c);const h=a(n,["description"]);e!==void 0&&h!=null&&s(e,["description"],h);const p=a(n,["epochCount"]);e!==void 0&&p!=null&&s(e,["supervisedTuningSpec","hyperParameters","epochCount"],p);const y=a(n,["learningRateMultiplier"]);e!==void 0&&y!=null&&s(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const T=a(n,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&s(e,["supervisedTuningSpec","exportLastCheckpointOnly"],T);const v=a(n,["adapterSize"]);if(e!==void 0&&v!=null&&s(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v),a(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function m_(n){const e={},o=a(n,["baseModel"]);o!=null&&s(e,["baseModel"],o);const l=a(n,["trainingDataset"]);l!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],d_(l,e));const c=a(n,["config"]);return c!=null&&s(e,["config"],p_(c,e)),e}function g_(n){const e={},o=a(n,["name"]);o!=null&&s(e,["model"],o);const l=a(n,["name"]);return l!=null&&s(e,["endpoint"],l),e}function Gg(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&s(e,["name"],l);const c=a(n,["state"]);c!=null&&s(e,["state"],gg(c));const h=a(n,["createTime"]);h!=null&&s(e,["createTime"],h);const p=a(n,["tuningTask","startTime"]);p!=null&&s(e,["startTime"],p);const y=a(n,["tuningTask","completeTime"]);y!=null&&s(e,["endTime"],y);const T=a(n,["updateTime"]);T!=null&&s(e,["updateTime"],T);const v=a(n,["description"]);v!=null&&s(e,["description"],v);const C=a(n,["baseModel"]);C!=null&&s(e,["baseModel"],C);const w=a(n,["_self"]);w!=null&&s(e,["tunedModel"],g_(w));const A=a(n,["distillationSpec"]);A!=null&&s(e,["distillationSpec"],A);const I=a(n,["experiment"]);I!=null&&s(e,["experiment"],I);const J=a(n,["labels"]);J!=null&&s(e,["labels"],J);const te=a(n,["pipelineJob"]);te!=null&&s(e,["pipelineJob"],te);const he=a(n,["satisfiesPzi"]);he!=null&&s(e,["satisfiesPzi"],he);const be=a(n,["satisfiesPzs"]);be!=null&&s(e,["satisfiesPzs"],be);const ne=a(n,["serviceAccount"]);ne!=null&&s(e,["serviceAccount"],ne);const ie=a(n,["tunedModelDisplayName"]);return ie!=null&&s(e,["tunedModelDisplayName"],ie),e}function y_(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&s(e,["nextPageToken"],l);const c=a(n,["tunedModels"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Gg(p))),s(e,["tuningJobs"],h)}return e}function v_(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&s(e,["name"],l);const c=a(n,["metadata"]);c!=null&&s(e,["metadata"],c);const h=a(n,["done"]);h!=null&&s(e,["done"],h);const p=a(n,["error"]);return p!=null&&s(e,["error"],p),e}function x_(n){const e={},o=a(n,["checkpointId"]);o!=null&&s(e,["checkpointId"],o);const l=a(n,["epoch"]);l!=null&&s(e,["epoch"],l);const c=a(n,["step"]);c!=null&&s(e,["step"],c);const h=a(n,["endpoint"]);return h!=null&&s(e,["endpoint"],h),e}function T_(n){const e={},o=a(n,["model"]);o!=null&&s(e,["model"],o);const l=a(n,["endpoint"]);l!=null&&s(e,["endpoint"],l);const c=a(n,["checkpoints"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>x_(p))),s(e,["checkpoints"],h)}return e}function bf(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&s(e,["name"],l);const c=a(n,["state"]);c!=null&&s(e,["state"],gg(c));const h=a(n,["createTime"]);h!=null&&s(e,["createTime"],h);const p=a(n,["startTime"]);p!=null&&s(e,["startTime"],p);const y=a(n,["endTime"]);y!=null&&s(e,["endTime"],y);const T=a(n,["updateTime"]);T!=null&&s(e,["updateTime"],T);const v=a(n,["error"]);v!=null&&s(e,["error"],v);const C=a(n,["description"]);C!=null&&s(e,["description"],C);const w=a(n,["baseModel"]);w!=null&&s(e,["baseModel"],w);const A=a(n,["tunedModel"]);A!=null&&s(e,["tunedModel"],T_(A));const I=a(n,["supervisedTuningSpec"]);I!=null&&s(e,["supervisedTuningSpec"],I);const J=a(n,["tuningDataStats"]);J!=null&&s(e,["tuningDataStats"],J);const te=a(n,["encryptionSpec"]);te!=null&&s(e,["encryptionSpec"],te);const he=a(n,["partnerModelTuningSpec"]);he!=null&&s(e,["partnerModelTuningSpec"],he);const be=a(n,["distillationSpec"]);be!=null&&s(e,["distillationSpec"],be);const ne=a(n,["experiment"]);ne!=null&&s(e,["experiment"],ne);const ie=a(n,["labels"]);ie!=null&&s(e,["labels"],ie);const pe=a(n,["pipelineJob"]);pe!=null&&s(e,["pipelineJob"],pe);const ce=a(n,["satisfiesPzi"]);ce!=null&&s(e,["satisfiesPzi"],ce);const ae=a(n,["satisfiesPzs"]);ae!=null&&s(e,["satisfiesPzs"],ae);const xe=a(n,["serviceAccount"]);xe!=null&&s(e,["serviceAccount"],xe);const Pe=a(n,["tunedModelDisplayName"]);return Pe!=null&&s(e,["tunedModelDisplayName"],Pe),e}function S_(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&s(e,["nextPageToken"],l);const c=a(n,["tuningJobs"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>bf(p))),s(e,["tuningJobs"],h)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C_ extends al{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Da(rl.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.tune=async o=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(o);{const l=await this.tuneMldevInternal(o);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:hf.JOB_STATE_QUEUED}}}}async getInternal(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=u_(e);return y=ke("{name}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>bf(C))}else{const v=n_(e);return y=ke("{name}",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>Gg(C))}}async listInternal(e){var o,l,c,h;let p,y="",T={};if(this.apiClient.isVertexAI()){const v=f_(e);return y=ke("tuningJobs",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>{const w=S_(C),A=new Rm;return Object.assign(A,w),A})}else{const v=o_(e);return y=ke("tunedModels",v._url),T=v._query,delete v.config,delete v._url,delete v._query,p=this.apiClient.request({path:y,queryParams:T,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(h=e.config)===null||h===void 0?void 0:h.abortSignal}).then(C=>C.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:C.headers},A})),p.then(C=>{const w=y_(C),A=new Rm;return Object.assign(A,w),A})}}async tuneInternal(e){var o,l;let c,h="",p={};if(this.apiClient.isVertexAI()){const y=m_(e);return h=ke("tuningJobs",y._url),p=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:T.headers},C})),c.then(T=>bf(T))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,l;let c,h="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=s_(e);return h=ke("tunedModels",y._url),p=y._query,delete y.config,delete y._url,delete y._query,c=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:T.headers},C})),c.then(T=>v_(T))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class b_{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const w_=1024*1024*8,E_=3,__=1e3,A_=2,rf="x-goog-upload-status";async function M_(n,e,o){var l,c,h;let p=0,y=0,T=new pf(new Response),v="upload";for(p=n.size;y<p;){const w=Math.min(w_,p-y),A=n.slice(y,y+w);y+w>=p&&(v+=", finalize");let I=0,J=__;for(;I<E_&&(T=await o.request({path:"",body:A,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(y),"Content-Length":String(w)}}}),!(!((l=T==null?void 0:T.headers)===null||l===void 0)&&l[rf]));)I++,await R_(J),J=J*A_;if(y+=w,((c=T==null?void 0:T.headers)===null||c===void 0?void 0:c[rf])!=="active")break;if(p<=y)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const C=await(T==null?void 0:T.json());if(((h=T==null?void 0:T.headers)===null||h===void 0?void 0:h[rf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return C.file}async function N_(n){return{size:n.size,type:n.type}}function R_(n){return new Promise(e=>setTimeout(e,n))}class D_{async upload(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await M_(e,o,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await N_(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k_{create(e,o,l){return new I_(e,o,l)}}class I_{constructor(e,o,l){this.url=e,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tg="x-goog-api-key";class U_{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(tg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(tg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L_="gl-node/";class Bg{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const l=Iv(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion;const c=new U_(this.apiKey);this.apiClient=new tE({auth:c,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:L_+"web",uploader:new D_,downloader:new b_}),this.models=new SE(this.apiClient),this.live=new pE(this.apiClient,c,new k_),this.batches=new ix(this.apiClient),this.chats=new aT(this.models,this.apiClient),this.caches=new oT(this.apiClient),this.files=new TT(this.apiClient),this.operations=new EE(this.apiClient),this.authTokens=new t_(this.apiClient),this.tunings=new C_(this.apiClient)}}console.warn("API_KEY environment variable not set. Gemini API calls will fail.");new Bg({apiKey:""});mn.OBJECT,mn.STRING,mn.STRING,mn.STRING,mn.STRING,mn.OBJECT,mn.STRING;const P_=async(n,e,o,l)=>({action:"talk",spokenResponse:"I'm sorry, the application is not configured with an API key."}),Df=async n=>{throw new Error("API key not configured.")},V_=async(n,e)=>{throw new Error("API key not configured.")},ng=async(n,e,o)=>"I'm sorry, the application is not configured with an API key for the AI service.";class q_{constructor(){this.currentPhase="IDLE",this.currentView="pulse",this.recognition=null,this.finalTranscript="",this.preferredVoice=null,this.ttsQueue=[],this.dictationTarget=null,this.speechEndTimeout=null,this.SPEECH_PAUSE_DURATION=4e3,this.flow=50,this.audience="pg",this.initSpeechRecognition(),this.initSpeechSynthesis()}setCurrentContext(e){this.currentView=e}setCurrentPersonality(e,o){this.flow=e,this.audience=o}setDictationTarget(e){this.dictationTarget=e,this.currentPhase==="LISTENING"&&this.dictationTarget&&window.dispatchEvent(new Event("lex.dictation.started"))}_updatePreferredVoice(){const e=window.speechSynthesis.getVoices();if(e.length>0){const o=localStorage.getItem("lex_voice_preference");if(o&&(this.preferredVoice=e.find(l=>l.voiceURI===o)||null),!this.preferredVoice){let l=e.find(c=>c.name==="Microsoft Andrew Online (Natural) - English (United States)");l||(l=e.find(c=>c.lang==="en-US"&&c.name.includes("Google"))),l||(l=e.find(c=>c.lang==="en-US"&&c.name.includes("David"))),l||(l=e.find(c=>c.lang==="en-US")),this.preferredVoice=l||null}this.preferredVoice?console.log(`Preferred voice set: ${this.preferredVoice.name}`):console.warn("Could not find a suitable en-US voice. The assistant will use the system's default voice.")}}reloadVoicePreference(){window.speechSynthesis&&this._updatePreferredVoice()}initSpeechSynthesis(){if(!window.speechSynthesis)return;const e=()=>this._updatePreferredVoice();window.speechSynthesis.onvoiceschanged=e,e()}dispatchPhaseChange(e){this.currentPhase!==e&&(this.currentPhase=e,window.dispatchEvent(new CustomEvent("lex.phase.change",{detail:e})))}initSpeechRecognition(){const e=window.SpeechRecognition||window.webkitSpeechRecognition;e?(this.recognition=new e,this.recognition.continuous=!0,this.recognition.interimResults=!0,this.recognition.lang="en-US",this.recognition.onstart=()=>{this.dispatchPhaseChange("LISTENING"),window.dispatchEvent(new Event("lex.stt.start"))},this.recognition.onresult=o=>{this.speechEndTimeout&&(clearTimeout(this.speechEndTimeout),this.speechEndTimeout=null);let l="";for(let h=o.resultIndex;h<o.results.length;++h)o.results[h].isFinal?this.finalTranscript+=o.results[h][0].transcript:l+=o.results[h][0].transcript;const c=(this.finalTranscript+l).trim();this.dictationTarget?(this.dictationTarget.value=c,this.dictationTarget.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0}))):window.dispatchEvent(new CustomEvent("lex.stt.interim",{detail:{transcript:c}})),this.speechEndTimeout=window.setTimeout(()=>this.processFinalTranscript(),this.SPEECH_PAUSE_DURATION)},this.recognition.onend=()=>{window.dispatchEvent(new Event("lex.stt.stop")),this.speechEndTimeout&&(clearTimeout(this.speechEndTimeout),this.processFinalTranscript()),this.currentPhase==="LISTENING"&&this.dispatchPhaseChange("IDLE")},this.recognition.onerror=o=>{console.error("Speech recognition error:",o.error),this.dispatchPhaseChange("IDLE")}):console.warn("Speech Recognition API not supported in this browser.")}processFinalTranscript(){const e=this.finalTranscript.trim();if(this.finalTranscript="",this.speechEndTimeout=null,!e){this.dictationTarget||this.dispatchPhaseChange("IDLE");return}this.dictationTarget?this.micOff():this.handleFinalCommand(e)}async handleFinalCommand(e){if(!e)return;this.micOff(),window.dispatchEvent(new CustomEvent("lex.chat.send",{detail:{text:e}})),this.dispatchPhaseChange("THINKING");const o=await P_(e,this.currentView,this.flow,this.audience);o.action==="navigate"&&o.page?window.CUE.page({to:o.page}):o.action==="contextual_command"&&o.command&&window.dispatchEvent(new CustomEvent("cue.contextual.command",{detail:{command:o.command,payload:o.payload}})),this.speak(o.spokenResponse)}micOn(){if(!(this.currentPhase!=="IDLE"||!this.recognition)){this.finalTranscript="",this.speechEndTimeout&&clearTimeout(this.speechEndTimeout);try{this.recognition.start()}catch(e){console.error("Mic start error:",e),this.dispatchPhaseChange("IDLE")}}}micOff(){var e;(e=this.recognition)==null||e.stop(),this.currentPhase==="LISTENING"&&this.dispatchPhaseChange("IDLE")}toggleMic(){this.currentPhase==="IDLE"?this.micOn():this.currentPhase==="LISTENING"?this.micOff():this.currentPhase==="SPEAKING"&&(this.cancelTTS(),this.micOn())}processTtsQueue(){if(window.speechSynthesis.speaking||this.ttsQueue.length===0)return;const e=this.ttsQueue.shift();window.speechSynthesis.speak(e)}sanitizeTextForSpeech(e){if(!e)return"";let o=e.replace(/[*#_`]/g,"");const l=/([\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}])/gu;return o=o.replace(l,""),o.trim()}speak(e){if(!window.speechSynthesis){console.warn("Speech Synthesis not supported."),window.dispatchEvent(new CustomEvent("lex.ui.chat.show",{detail:{role:"assistant",text:e}})),this.dispatchPhaseChange("IDLE");return}if(!e||e.trim().length===0){console.warn("TTS speak() called with empty text. Aborting.");return}const o=this.sanitizeTextForSpeech(e);if(!o){console.warn("TTS speak() called with text that became empty after sanitization."),this.dispatchPhaseChange("IDLE");return}window.dispatchEvent(new CustomEvent("lex.ui.chat.show",{detail:{role:"assistant",text:e}}));const l=new SpeechSynthesisUtterance(o);l.rate=.9,l.pitch=.8,this.preferredVoice&&(l.voice=this.preferredVoice),l.onstart=()=>{this.dispatchPhaseChange("SPEAKING"),window.dispatchEvent(new Event("lex.tts.start"))},l.onend=()=>{this.ttsQueue.length===0?(window.dispatchEvent(new Event("lex.tts.end")),this.dispatchPhaseChange("IDLE")):this.processTtsQueue()},l.onerror=c=>{c.error!=="interrupted"?(console.error(`TTS Error: ${c.error}. For text: "${c.utterance.text.substring(0,100)}..."`),window.dispatchEvent(new Event("lex.tts.error"))):console.log("TTS utterance was intentionally interrupted."),this.ttsQueue=[],window.dispatchEvent(new Event("lex.tts.end")),this.dispatchPhaseChange("IDLE")},this.ttsQueue.push(l),this.processTtsQueue()}cancelTTS(){var e;((e=window.speechSynthesis)!=null&&e.speaking||this.ttsQueue.length>0)&&(this.ttsQueue=[],window.speechSynthesis.cancel())}}const Yi=new q_,Og=oe.createContext(void 0),G_=({children:n})=>{const[e,o]=oe.useState("pulse"),[l,c]=oe.useState([]),[h,p]=oe.useState(null),[y,T]=oe.useState(null),[v,C]=oe.useState(!1),[w,A]=oe.useState(!1),I=hi(()=>Fe.userProfile.get("main"),[]),J=hi(()=>Fe.appearanceSettings.get("main"),[]),te=!I,[he,be]=oe.useState(()=>Number(localStorage.getItem("lexFlow")||50)),[ne,ie]=oe.useState(()=>localStorage.getItem("lexAudience")||"pg"),pe=oe.useCallback(X=>{localStorage.setItem("lexFlow",X.toString()),be(X)},[]),ce=oe.useCallback(X=>{localStorage.setItem("lexAudience",X),ie(X)},[]),ae=oe.useCallback(()=>{C(!1),A(!1)},[]),xe=oe.useCallback(()=>{C(X=>!X),A(!1)},[]),Pe=oe.useCallback(()=>{A(X=>!X),C(!1)},[]);oe.useEffect(()=>{Yi.setCurrentPersonality(he,ne)},[he,ne]);const Ne=oe.useCallback(async(X,ye)=>{const Ae=new Date().toISOString(),je={id:"main",name:X,isDayOne:!0,startDate:Ae,onboardingStatus:ye?"skipped":"completed"};await Fe.userProfile.put(je,"main")},[]),Je=oe.useCallback(async X=>{await Fe.userProfile.update("main",X)},[]),Ye=oe.useCallback(async X=>{await Fe.appearanceSettings.update("main",X)},[]),Ze=oe.useCallback(X=>{c(ye=>[...ye,X])},[]),It=oe.useCallback(async()=>{if(l.length===0)return;const X=new Date().toISOString(),ye=`Conversation from ${new Date().toLocaleString()}`;await Fe.notes.add({id:`convo_${Date.now()}`,type:"conversation",title:ye,conversation:l,createdAt:X,updatedAt:X,links:{}}),c([])},[l]),rn=oe.useCallback(()=>{Ze({role:"assistant",text:"",isThinking:!0})},[Ze]),rt=oe.useCallback(X=>{c(ye=>{const Ae=[...ye],je=Ae.map(U=>U.isThinking).lastIndexOf(!0);return je!==-1?(Ae[je]={role:"assistant",text:X,isThinking:!1},Ae):[...Ae,{role:"assistant",text:X}]})},[]);return oe.useEffect(()=>{const X=U=>{typeof U.detail.to=="string"&&o(U.detail.to)},ye=U=>{Ze({role:"user",text:U.detail.text})},Ae=U=>{rt(U.detail.text)},je=U=>{U.detail==="THINKING"&&rn()};return window.addEventListener("cue.page.change",X),window.addEventListener("lex.chat.send",ye),window.addEventListener("lex.ui.chat.show",Ae),window.addEventListener("lex.phase.change",je),()=>{window.removeEventListener("cue.page.change",X),window.removeEventListener("lex.chat.send",ye),window.removeEventListener("lex.ui.chat.show",Ae),window.removeEventListener("lex.phase.change",je)}},[Ze,rn,rt]),m.jsx(Og.Provider,{value:{currentView:e,setCurrentView:o,chatHistory:l,saveAndClearChat:It,isOnboarding:te,completeOnboarding:Ne,highlightedNavItem:h,setHighlightedNavItem:p,flow:he,setFlow:pe,audience:ne,setAudience:ce,userProfile:I,greetingSettings:J,updateUserProfile:Je,updateGreetingSettings:Ye,quickActionModal:y,setQuickActionModal:T,isSidebarOpen:v,isRightRailOpen:w,toggleSidebar:xe,toggleRightRail:Pe,closeSidebars:ae},children:n})},Fn=()=>{const n=oe.useContext(Og);if(!n)throw new Error("useAppContext must be used within an AppProvider");return n},Ee={mic:{on:()=>Yi.micOn(),off:()=>Yi.micOff(),toggle:()=>Yi.toggleMic()},tts:{speak:n=>Yi.speak(n),cancel:()=>Yi.cancelTTS(),pause:()=>console.warn("CUE.tts:pause not implemented"),resume:()=>console.warn("CUE.tts:resume not implemented")},page:n=>{console.log(`CUE: Navigating to ${n.to} with action ${n.action}`),window.dispatchEvent(new CustomEvent("cue.page.change",{detail:n}))},context:{setView:n=>Yi.setCurrentContext(n),setDictationTarget:n=>Yi.setDictationTarget(n)}};window.CUE=Ee;const Hg=oe.createContext(void 0),B_=({children:n})=>{const[e,o]=oe.useState("IDLE"),[l,c]=oe.useState("");return oe.useEffect(()=>{const h=T=>{o(T.detail)},p=T=>{c(T.detail.transcript)},y=()=>{c("")};return window.addEventListener("lex.phase.change",h),window.addEventListener("lex.stt.interim",p),window.addEventListener("lex.stt.final",p),window.addEventListener("lex.stt.stop",y),()=>{window.removeEventListener("lex.phase.change",h),window.removeEventListener("lex.stt.interim",p),window.removeEventListener("lex.stt.final",p),window.removeEventListener("lex.stt.stop",y)}},[]),m.jsx(Hg.Provider,{value:{phase:e,transcript:l},children:n})},cu=()=>{const n=oe.useContext(Hg);if(!n)throw new Error("useVoiceControl must be used within a VoiceControlProvider");return n},O_=()=>m.jsxs("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[m.jsx("defs",{children:m.jsxs("radialGradient",{id:"avatarGlowStatic",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%",children:[m.jsx("stop",{offset:"0%",style:{stopColor:"rgba(59, 130, 246, 0.4)",stopOpacity:1}}),m.jsx("stop",{offset:"100%",style:{stopColor:"rgba(59, 130, 246, 0)",stopOpacity:1}})]})}),m.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"url(#avatarGlowStatic)"}),m.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"#0f172a",stroke:"#3b82f6",strokeWidth:"1"}),m.jsx("text",{x:"50%",y:"56%",dominantBaseline:"middle",textAnchor:"middle",fontFamily:"Inter, sans-serif",fontSize:"28",fill:"#e2e8f0",fontWeight:"800",children:"LX"}),m.jsx("path",{d:"M 20 50 A 30 30 0 0 1 80 50",stroke:"#94a3b8",strokeWidth:"0.5",fill:"none",strokeDasharray:"2 3"}),m.jsx("path",{d:"M 30 50 A 20 20 0 0 1 70 50",stroke:"#94a3b8",strokeWidth:"0.5",fill:"none",strokeDasharray:"1 4"})]}),H_=()=>m.jsxs("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[m.jsxs("defs",{children:[m.jsxs("radialGradient",{id:"avatarGlowAnimated",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%",children:[m.jsx("stop",{offset:"0%",style:{stopColor:"rgba(217, 70, 239, 0.6)"},children:m.jsx("animate",{attributeName:"stop-color",values:"rgba(217, 70, 239, 0.6);rgba(59, 130, 246, 0.6);rgba(217, 70, 239, 0.6)",dur:"2s",repeatCount:"indefinite"})}),m.jsx("stop",{offset:"100%",style:{stopColor:"rgba(217, 70, 239, 0)",stopOpacity:1}})]}),m.jsxs("filter",{id:"glitch",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[m.jsx("feTurbulence",{type:"fractalNoise",baseFrequency:"1.5",numOctaves:"1",result:"warp"}),m.jsx("feDisplacementMap",{xChannelSelector:"R",yChannelSelector:"G",scale:"8",in:"SourceGraphic",in2:"warp"})]})]}),m.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"url(#avatarGlowAnimated)",children:m.jsx("animate",{attributeName:"r",values:"48;50;48",dur:"2s",repeatCount:"indefinite"})}),m.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"#0f172a",stroke:"#3b82f6",strokeWidth:"1"}),m.jsxs("g",{style:{filter:"url(#glitch)",opacity:.1},children:[m.jsx("animate",{attributeName:"opacity",values:"0.1;0.3;0.1;0.4;0.1",dur:"1.5s",repeatCount:"indefinite"}),m.jsx("text",{x:"50%",y:"56%",dominantBaseline:"middle",textAnchor:"middle",fontFamily:"Inter, sans-serif",fontSize:"28",fill:"#d946ef",fontWeight:"800",children:"LX"})]}),m.jsx("text",{x:"50%",y:"56%",dominantBaseline:"middle",textAnchor:"middle",fontFamily:"Inter, sans-serif",fontSize:"28",fill:"#e2e8f0",fontWeight:"800",children:"LX"}),m.jsx("path",{d:"M 20 50 A 30 30 0 0 1 80 50",stroke:"#d946ef",strokeWidth:"0.7",fill:"none",strokeDasharray:"2 3",children:m.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"8s",repeatCount:"indefinite"})}),m.jsx("path",{d:"M 30 50 A 20 20 0 0 1 70 50",stroke:"#3b82f6",strokeWidth:"0.7",fill:"none",strokeDasharray:"4 2",children:m.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"360 50 50",to:"0 50 50",dur:"6s",repeatCount:"indefinite"})})]}),z_=()=>{const{phase:n}=cu(),e=n==="SPEAKING";return m.jsx("div",{className:"aspect-square bg-slate-900/50 rounded-lg p-2 border border-slate-700/50",children:e?m.jsx(H_,{}):m.jsx(O_,{})})},F_=()=>{const{phase:n}=cu(),e=n==="SPEAKING",o=[{color:"bg-primary-blue",delay:"0s"},{color:"bg-accent-fuchsia",delay:"0.1s"},{color:"bg-teal-500",delay:"0.2s"},{color:"bg-primary-blue",delay:"0.3s"},{color:"bg-accent-fuchsia",delay:"0.4s"},{color:"bg-teal-500",delay:"0.5s"},{color:"bg-primary-blue",delay:"0.6s"}];return m.jsxs("div",{className:"h-16 bg-slate-900/50 rounded-lg p-3 border border-slate-700/50 flex justify-around items-center overflow-hidden",children:[o.map((l,c)=>m.jsx("div",{className:`w-3 h-full rounded-full ${l.color}`,style:{animation:e?`wave-pulse 1s ${l.delay} infinite ease-in-out`:"none",transform:"scaleY(0.1)"}},c)),m.jsx("style",{children:`
                @keyframes wave-pulse {
                    0%, 100% { transform: scaleY(0.1); opacity: 0.5; }
                    50% { transform: scaleY(1); opacity: 1; }
                }
            `})]})},Y_=()=>{const{userProfile:n,greetingSettings:e}=Fn();if(!n)return null;const o={fontFamily:(e==null?void 0:e.fontFamily)||"inherit",fontSize:"1.5rem",lineHeight:"2rem",fontWeight:(e==null?void 0:e.fontWeight)||"bold",letterSpacing:e!=null&&e.letterSpacing?`${e.letterSpacing}px`:void 0,color:(e==null?void 0:e.textColor)||void 0,transition:"all 0.3s ease"},l=e!=null&&e.textEffect&&e.textEffect!=="none"?`text-effect-${e.textEffect}`:"";return m.jsxs("div",{className:"mt-auto pt-6 p-4 border-t border-border-color shrink-0",children:[m.jsx("h3",{className:"text-xs text-text-dark mb-2 font-semibold tracking-wider",children:"OPERATOR"}),m.jsx("div",{style:o,className:`font-bold truncate ${l}`,title:n.name,children:n.name})]})},Ji=({children:n})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 mr-3 shrink-0",children:n}),K_=()=>m.jsx(Ji,{children:m.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),J_=()=>m.jsxs(Ji,{children:[m.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),m.jsx("polyline",{points:"14 2 14 8 20 8"}),m.jsx("path",{d:"M12 18v-6"}),m.jsx("path",{d:"M9 18v-6"}),m.jsx("path",{d:"M15 18v-6"})]}),j_=()=>m.jsxs(Ji,{children:[m.jsx("polyline",{points:"9 11 12 14 22 4"}),m.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),Q_=()=>m.jsxs(Ji,{children:[m.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),m.jsx("path",{d:"M14 2v6h6"}),m.jsx("path",{d:"M10 16s-1-2-3-2-3 2-3 2"}),m.jsx("path",{d:"M18 16s-1-2-3-2-3 2-3 2"})]}),X_=()=>m.jsxs(Ji,{children:[m.jsx("path",{d:"M12 3L4 9v12h16V9l-8-6z"}),m.jsx("path",{d:"M8 9v12"}),m.jsx("path",{d:"M16 9v12"}),m.jsx("path",{d:"M4 9l8 6 8-6"})]}),$_=()=>m.jsxs(Ji,{children:[m.jsx("circle",{cx:"11",cy:"11",r:"8"}),m.jsx("line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65"})]}),Z_=()=>m.jsxs(Ji,{children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"2",x2:"22",y1:"12",y2:"12"}),m.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),W_=()=>m.jsxs(Ji,{children:[m.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l-.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),m.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),eA=()=>m.jsxs(Ji,{children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),m.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),tA=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),m.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),nA=[{view:"pulse",label:"The Pulse",icon:K_},{view:"magna_carta",label:"The Magna Carta",icon:J_},{view:"grind",label:"The Grind",icon:j_},{view:"lab",label:"The Lab",icon:Q_},{view:"analyzer",label:"The Analyzer",icon:X_},{view:"intel",label:"The Intel",icon:$_},{view:"campus",label:"The Campus",icon:Z_}],iA=[{view:"playbook",label:"The Playbook",icon:eA},{view:"garage",label:"The Garage",icon:W_}],zg=()=>{const{currentView:n,highlightedNavItem:e,closeSidebars:o,isSidebarOpen:l}=Fn(),c=y=>{Ee.page({to:y}),o()},h=({view:y,label:T,icon:v})=>{const C=e===y,w=n===y;return m.jsx("li",{className:"mb-1",children:m.jsxs("button",{onClick:()=>c(y),className:`w-full flex items-center p-2.5 rounded-lg text-left text-base transition-all duration-200 group
                ${w?"bg-primary-blue text-white font-semibold":"text-text-dark hover:bg-bg-surface hover:text-text-light"}
                ${C?"ring-2 ring-offset-2 ring-offset-bg-main ring-accent-fuchsia":""}`,children:[m.jsx(v,{}),m.jsx("span",{className:"group-hover:translate-x-1 transition-transform duration-200",children:T})]})})},p=["sidebar","w-64","bg-gray-900","p-4","flex","flex-col","h-full","border-r","border-border-color","shrink-0",l?"sidebar-open":""].join(" ");return m.jsxs("aside",{className:p,children:[m.jsxs("div",{className:"flex items-center mb-8 pl-1",children:[m.jsx("div",{className:"bg-primary-blue p-2 rounded-lg mr-3 text-white",children:m.jsx(tA,{})}),m.jsx("h1",{className:"text-xl font-bold text-white",children:"LX Ops Center"})]}),m.jsxs("div",{className:"flex-grow flex flex-col justify-between overflow-y-auto",children:[m.jsx("nav",{children:m.jsx("ul",{children:nA.map(y=>m.jsx(h,{...y},y.view))})}),m.jsxs("div",{children:[m.jsxs("div",{className:"my-4 px-1 space-y-3",children:[m.jsx(z_,{}),m.jsx(F_,{})]}),m.jsx("nav",{children:m.jsx("ul",{children:iA.map(y=>m.jsx(h,{...y},y.view))})})]})]}),m.jsx(Y_,{})]})},oA=["Welcome back. Let's get to work.","Ready to get started?","Okay, system online. What's the plan?"],lA=["Alright, we're live. What's the move?","Let's get it. What are we focusing on today?","Back in the mix. Let's make some progress."],rA=["Aight, we back in the lab. Time to cook.","Let's get this hustle. What's the play?","We live. Let's run it up.","Time to get this paper. What's the first move?","Ops Center is live. Let's run the traps.","Locked in. What's the agenda?"],ig={pulse:{neutral:"The Pulse is active. All systems are go.",mid:"Checking the pulse. Let's see the overview.",hustle:"Aight, let's check the vitals. The Pulse is live."},magna_carta:{neutral:"Opening The Magna Carta. Let's review the master plan.",mid:"Time to look at the big picture. Here's The Magna Carta.",hustle:"Pullin' up the master plan. This is the whole play."},grind:{neutral:"The Grind is active. Time to manage tasks.",mid:"Let's get to work. Welcome to The Grind.",hustle:"The daily hustle. Let's see what's on the docket."},lab:{neutral:"Welcome to The Lab. Ready to capture some ideas?",mid:"The Lab is open. Let's cook up some new ideas.",hustle:"We in the lab now. Time to build."},intel:{neutral:"Intel suite is online. What are we researching?",mid:"The Intel desk is open. What's the target?",hustle:"Runnin' intel. What's the 4-1-1?"},analyzer:{neutral:"The Analyzer is ready. Let's process some data.",mid:"The Analyzer is online. Feed me some data.",hustle:"Let's break it down. The Analyzer is ready to cook."},campus:{neutral:"Campus Explorer is ready. Where are we looking?",mid:"Let's check out some schools. Campus Explorer is a go.",hustle:"Scouting the future. Campus mode, activated."},garage:{neutral:"Welcome to The Garage. Let's tune the engine.",mid:"Opening The Garage. Time for a tune-up.",hustle:"Poppin' the hood. Welcome to The Garage."},playbook:{neutral:"Opening The Playbook. All strategies are here.",mid:"Let's review the moves. Here's The Playbook.",hustle:"Time for the game plan. The Playbook is open."}},af=n=>n[Math.floor(Math.random()*n.length)],Fg=(n,e)=>{if(e&&ig[e]){const o=ig[e];return n>=90?o.hustle:n>=40?o.mid:o.neutral}return n>=90?af(rA):n>=40?af(lA):af(oA)},kf=({title:n,children:e,className:o})=>m.jsxs("div",{className:`bg-slate-800 p-6 rounded-xl border border-slate-700 ${o}`,children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:n}),e]}),aA=()=>{const{flow:n,userProfile:e,greetingSettings:o}=Fn(),[l,c]=oe.useState("");oe.useEffect(()=>{const y=localStorage.getItem("lexDayOneGreetingSeen");e!=null&&e.isDayOne&&!y?(c("Welcome back. Glad to have my Day One in the Ops Center. Let's get this grind started."),localStorage.setItem("lexDayOneGreetingSeen","true")):c(Fg(n))},[e,n]);const h={fontFamily:(o==null?void 0:o.fontFamily)||"inherit",fontSize:o!=null&&o.fontSize?`${o.fontSize}px`:void 0,fontWeight:(o==null?void 0:o.fontWeight)||void 0,letterSpacing:o!=null&&o.letterSpacing?`${o.letterSpacing}px`:void 0,color:(o==null?void 0:o.textColor)||void 0},p=o!=null&&o.textEffect?`text-effect-${o.textEffect}`:"";return m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{style:h,className:`text-4xl font-extrabold text-white mb-2 ${p}`,children:l}),m.jsxs("p",{className:"text-lg text-slate-400",children:["Here's your overview for today, ",(e==null?void 0:e.name)||"friend","."]})]})},sA=({assignments:n})=>m.jsx(kf,{title:"Due Today",className:"lg:col-span-2",children:m.jsx("div",{className:"space-y-4",children:n&&n.length>0?n.map(e=>m.jsxs("div",{className:"flex items-center justify-between bg-slate-700 p-4 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-white",children:e.title}),m.jsx("p",{className:"text-sm text-slate-400",children:e.course})]}),m.jsx("button",{className:"px-4 py-2 bg-indigo-500 text-white rounded-lg text-sm font-semibold hover:bg-indigo-600 transition-colors",children:"View"})]},e.id)):m.jsx("p",{className:"text-slate-400",children:"Nothing due today. Great job!"})})}),uA=()=>m.jsx(kf,{title:"Quick Actions",children:m.jsxs("div",{className:"flex flex-col space-y-3",children:[m.jsx("button",{className:"w-full text-left p-3 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors font-medium",children:"New Note (Voice)"}),m.jsx("button",{className:"w-full text-left p-3 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors font-medium",children:"New Assignment"}),m.jsx("button",{className:"w-full text-left p-3 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors font-medium",children:"Start Research"})]})}),cA=({assignments:n})=>m.jsx(kf,{title:"Upcoming & Overdue",className:"lg:col-span-3",children:m.jsx("div",{className:"space-y-2",children:n&&n.length>0?n.map(e=>m.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${new Date(e.dueISO)<new Date?"bg-red-900/50":"bg-slate-700/50"}`,children:[m.jsx("p",{className:"font-medium text-white",children:e.title}),m.jsxs("p",{className:"text-sm text-slate-400",children:["Due: ",new Date(e.dueISO).toLocaleDateString()]})]},e.id)):m.jsx("p",{className:"text-slate-400",children:"No upcoming assignments in the next 7 days."})})}),og=()=>{const{today:n,upcoming:e}=hi(()=>{const o=new Date,l=new Date(o.getFullYear(),o.getMonth(),o.getDate()),c=new Date(l.getTime()+1440*60*1e3-1),h=new Date(l.getTime()+10080*60*1e3),p=Fe.assignments.where("dueISO").between(l.toISOString(),c.toISOString()).toArray(),y=Fe.assignments.where("dueISO").above(c.toISOString()).and(T=>new Date(T.dueISO)<=h).sortBy("dueISO");return Promise.all([p,y]).then(([T,v])=>({today:T,upcoming:v}))},[],{today:[],upcoming:[]});return m.jsxs("div",{className:"p-8 h-full overflow-y-auto",children:[m.jsx(aA,{}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsx(sA,{assignments:n}),m.jsx(uA,{}),m.jsx(cA,{assignments:e})]})]})},fA=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"11",cy:"11",r:"8"}),m.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),dA=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"inline-block mr-2",children:[m.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.72"}),m.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.72-1.72"})]}),hA=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"inline-block mr-2",children:[m.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),m.jsx("polyline",{points:"14 2 14 8 20 8"})]}),pA=()=>{const[n,e]=oe.useState(""),[o,l]=oe.useState(null),[c,h]=oe.useState(!1),[p,y]=oe.useState(""),T=hi(()=>Fe.research.where("type").equals("intel").reverse().sortBy("createdAt"),[]),v=async A=>{if(!(!A.trim()||c)){h(!0),l(null),y("");try{const I=await Df(A),J={id:`res_${Date.now()}`,query:A,createdAt:new Date().toISOString(),result:I,type:"intel",status:"complete",links:{}};await Fe.research.add(J),l(J),e("")}catch(I){console.error("Error fetching intel:",I),y(I.message||"Sorry, I couldn't fetch that information. Please try again.")}finally{h(!1)}}},C=A=>{A.preventDefault(),v(n)};oe.useEffect(()=>{const A=I=>{var J;I.detail.command==="search"&&((J=I.detail.payload)!=null&&J.query)&&(e(I.detail.payload.query),v(I.detail.payload.query))};return window.addEventListener("cue.contextual.command",A),()=>{window.removeEventListener("cue.contextual.command",A)}},[c]),oe.useEffect(()=>{!o&&T&&T.length>0&&l(T[0])},[T,o]);const w=o==null?void 0:o.result;return m.jsxs("div",{className:"h-full flex bg-slate-900",children:[m.jsxs("aside",{className:"w-1/3 max-w-xs h-full bg-slate-800 border-r border-slate-700 flex flex-col shrink-0",children:[m.jsx("div",{className:"p-4 border-b border-slate-700",children:m.jsx("h1",{className:"text-xl font-bold text-white",children:"Intel History"})}),m.jsx("div",{className:"flex-grow overflow-y-auto",children:T&&T.length>0?m.jsx("ul",{children:T.map(A=>m.jsx("li",{className:`border-b border-slate-700 last:border-b-0 ${(o==null?void 0:o.id)===A.id?"bg-slate-700/75":""}`,children:m.jsxs("button",{onClick:()=>l(A),className:"w-full text-left p-4 hover:bg-slate-600/50 transition-colors",children:[m.jsx("h3",{className:"font-semibold text-white truncate",children:A.query}),m.jsx("p",{className:"text-sm text-slate-400 mt-1",children:new Date(A.createdAt).toLocaleString()})]})},A.id))}):m.jsx("div",{className:"p-4 text-center text-slate-500",children:"No history yet."})})]}),m.jsxs("main",{className:"p-8 h-full flex flex-col flex-grow",children:[m.jsx("h1",{className:"text-4xl font-extrabold text-white mb-2",children:"The Intel"}),m.jsx("p",{className:"text-lg text-slate-400 mb-8",children:"Gathering multi-format intelligence on any topic."}),m.jsxs("form",{onSubmit:C,className:"flex gap-4 mb-8",children:[m.jsx("input",{type:"text",value:n,onChange:A=>e(A.target.value),onFocus:A=>Ee.context.setDictationTarget(A.target),onBlur:()=>Ee.context.setDictationTarget(null),placeholder:"e.g., Explain the trade routes of the Viking age",className:"flex-grow bg-slate-700 border border-slate-600 rounded-lg p-4 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:c}),m.jsxs("button",{type:"submit",disabled:c||!n.trim(),className:"bg-indigo-500 text-white rounded-lg px-6 py-4 font-semibold hover:bg-indigo-600 transition-colors disabled:bg-slate-600 disabled:cursor-not-allowed flex items-center gap-2",children:[m.jsx(fA,{}),c?"Gathering...":"New Search"]})]}),m.jsxs("div",{className:"flex-grow bg-slate-800 border border-slate-700 rounded-xl p-6 overflow-y-auto",children:[c&&m.jsxs("div",{className:"flex justify-center items-center h-full",children:[m.jsx("div",{className:"w-4 h-4 bg-slate-400 rounded-full animate-pulse [animation-delay:-0.3s]"}),m.jsx("div",{className:"w-4 h-4 ml-2 bg-slate-400 rounded-full animate-pulse [animation-delay:-0.15s]"}),m.jsx("div",{className:"w-4 h-4 ml-2 bg-slate-400 rounded-full animate-pulse"})]}),p&&m.jsx("div",{className:"flex justify-center items-center h-full",children:m.jsx("p",{className:"text-red-400",children:p})}),w&&m.jsxs("div",{className:"space-y-8",children:[w.images.length>0&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Image Gallery"}),m.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:w.images.map((A,I)=>m.jsx("img",{src:A,alt:`Intel result image ${I+1}`,className:"h-40 rounded-lg object-cover"},I))})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Overview"}),m.jsx("div",{className:"text-slate-300 whitespace-pre-wrap leading-relaxed prose prose-invert max-w-none prose-p:text-slate-300 prose-headings:text-white",children:w.text})]}),w.pdfs.length>0&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"From the Stacks (PDFs)"}),m.jsx("ul",{className:"space-y-2",children:w.pdfs.map((A,I)=>m.jsx("li",{className:"bg-slate-700/50 p-3 rounded-lg",children:m.jsxs("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline flex items-center",children:[m.jsx(hA,{}),m.jsx("span",{className:"truncate",children:A.split("/").pop()})]})},I))})]}),w.sources.length>0&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Web Sources"}),m.jsx("ul",{className:"space-y-2",children:w.sources.map((A,I)=>m.jsx("li",{className:"bg-slate-700/50 p-3 rounded-lg",children:m.jsx("a",{href:A.web.uri,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline",children:m.jsxs("h4",{className:"font-semibold text-white truncate",children:[m.jsx(dA,{}),A.web.title||A.web.uri]})})},I))})]})]}),!c&&!w&&!p&&m.jsx("div",{className:"flex justify-center items-center h-full",children:m.jsx("p",{className:"text-slate-500",children:"Select an item from history or start a new search."})})]})]})]})},mA=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),gA=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("polyline",{points:"3 6 5 6 21 6"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),m.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),m.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),yA=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("line",{x1:"10",y1:"12",x2:"14",y2:"12"})]}),vA=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 inline-block",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),m.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"})]}),sf=({children:n})=>m.jsx("div",{className:"w-4 h-4 mr-2",children:n}),xA=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("polyline",{points:"9 11 12 14 22 4"}),m.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),TA=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"11",cy:"11",r:"8"}),m.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),SA=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),m.jsx("polyline",{points:"14 2 14 8 20 8"}),m.jsx("path",{d:"M12 18v-6"}),m.jsx("path",{d:"M9 18v-6"}),m.jsx("path",{d:"M15 18v-6"})]}),CA=({message:n})=>{const o=n.role==="user"?"bg-primary-blue self-end":"bg-slate-700 self-start";return m.jsx("div",{className:`rounded-lg p-3 max-w-md break-words ${o}`,children:m.jsx("p",{className:"text-white text-base",children:n.text})})},bA=({note:n})=>{var e;return m.jsx("div",{className:"flex-grow w-full bg-bg-main p-6 overflow-y-auto",children:m.jsx("div",{className:"flex flex-col space-y-4",children:(e=n.conversation)==null?void 0:e.map((o,l)=>m.jsx(CA,{message:o},l))})})},wA=({note:n,onUpdate:e})=>m.jsx("textarea",{value:n.text||"",onChange:o=>e("text",o.target.value),className:"flex-grow w-full bg-bg-main p-6 text-text-light text-lg leading-relaxed focus:outline-none resize-none",placeholder:"Start writing..."},n.id),EA=()=>{const n=hi(()=>Fe.notes.filter(C=>C.archived!==!0).sortBy("updatedAt").then(C=>C.reverse()),[]),[e,o]=oe.useState(null);oe.useEffect(()=>{!e&&n&&n.length>0&&o(n[0].id),e&&n&&!n.find(C=>C.id===e)&&o(n.length>0?n[0].id:null),n&&n.length===0&&o(null)},[n,e]);const l=oe.useMemo(()=>{if(!(!e||!n))return n.find(C=>C.id===e)},[n,e]),c=async(C="text",w="Untitled Note",A="",I,J)=>{const te={id:`note_${Date.now()}`,type:C,title:w,text:A,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),links:{},archived:!1,meta:{source:I,originalFileName:J}},he=await Fe.notes.add(te);o(he.toString())},h=C=>{Fe.notes.delete(C)},p=C=>{Fe.notes.update(C,{archived:!0,updatedAt:new Date().toISOString()})},y=(C,w)=>{if(!e)return;const A={updatedAt:new Date().toISOString()};A[C]=w,Fe.notes.update(e,A)},T=async()=>{if(!l)return;const C=`as_${Date.now()}`,w={id:C,title:l.title||"New Task from Note",status:"todo",priority:"normal",energyLevel:"medium",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),links:{notes:[l.id]}};await Fe.assignments.add(w);const A=l.links.assignments||[];await Fe.notes.update(l.id,{"links.assignments":[...A,C]}),Ee.tts.speak(`I've added "${w.title}" to The Grind for you.`),Ee.page({to:"grind"})},v=async()=>{if(!l)return;const C=`${l.title||""}
${(l.text||"").substring(0,500)}`.trim();if(!C){Ee.tts.speak("There's nothing in this note to analyze.");return}Ee.tts.speak("Okay, running intel based on this note. This may take a moment. I'll take you to The Intel to see the results.");try{const w=await Df(C),A=`res_${Date.now()}`,I={id:A,query:`From Note: ${l.title}`,createdAt:new Date().toISOString(),result:w,type:"intel",status:"complete",links:{notes:[l.id]}};await Fe.research.add(I);const J=l.links.research||[];await Fe.notes.update(l.id,{"links.research":[...J,A]}),Ee.page({to:"intel"})}catch(w){console.error("Failed to send to intel",w),Ee.tts.speak("Sorry, I hit a snag while running intel. Please try again.")}};return m.jsxs("div",{className:"h-full flex bg-bg-main",children:[m.jsxs("aside",{className:"w-1/3 max-w-xs h-full bg-gray-900 border-r border-border-color flex flex-col shrink-0",children:[m.jsxs("div",{className:"p-4 border-b border-border-color flex justify-between items-center",children:[m.jsx("h1",{className:"text-xl font-bold text-white",children:"The Lab"}),m.jsx("button",{onClick:()=>c(),className:"p-2 rounded-lg bg-primary-blue text-white hover:opacity-90 transition-opacity","aria-label":"Create new note",children:m.jsx(mA,{})})]}),m.jsx("div",{className:"flex-grow overflow-y-auto",children:n&&n.length>0?m.jsx("ul",{children:n.map(C=>{var w,A;return m.jsx("li",{className:`border-b border-border-color last:border-b-0 ${e===C.id?"bg-slate-700/75":""}`,children:m.jsxs("button",{onClick:()=>o(C.id),className:"w-full text-left p-4 hover:bg-slate-700/50 transition-colors",children:[m.jsxs("h3",{className:"font-semibold text-white truncate flex items-center",children:[C.type==="conversation"&&m.jsx(vA,{}),C.title||"Untitled Note"]}),m.jsx("p",{className:"text-sm text-text-dark truncate mt-1",children:C.type==="conversation"?`${((w=C.conversation)==null?void 0:w.length)||0} messages`:((A=C.text)==null?void 0:A.substring(0,40))||"No content yet..."})]})},C.id)})}):m.jsx("div",{className:"p-4 text-center text-slate-500",children:m.jsx("p",{children:"No notes yet. Create one!"})})})]}),m.jsx("main",{className:"flex-grow h-full flex flex-col",children:l?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"p-4 border-b border-border-color flex items-center shrink-0",children:[m.jsx("input",{type:"text",value:l.title||"",onChange:C=>y("title",C.target.value),className:"w-full bg-transparent text-2xl font-bold text-white focus:outline-none",placeholder:"Note Title",disabled:l.type==="conversation"}),m.jsx("button",{onClick:()=>p(l.id),className:"ml-4 p-2 rounded-lg text-slate-400 hover:bg-yellow-500/80 hover:text-white transition-colors shrink-0","aria-label":"Archive note",children:m.jsx(yA,{})}),m.jsx("button",{onClick:()=>h(l.id),className:"ml-2 p-2 rounded-lg text-slate-400 hover:bg-red-500/80 hover:text-white transition-colors shrink-0","aria-label":"Delete note",children:m.jsx(gA,{})})]}),m.jsx("div",{className:"flex-grow overflow-y-auto",children:l.type==="conversation"?m.jsx(bA,{note:l}):m.jsx(wA,{note:l,onUpdate:y})}),m.jsxs("div",{className:"p-4 border-t border-border-color bg-gray-900/80 shrink-0",children:[m.jsx("h3",{className:"text-sm font-semibold text-slate-400 mb-2",children:"Actions"}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsxs("button",{onClick:T,className:"flex items-center text-sm px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-md transition-colors",children:[m.jsx(sf,{children:m.jsx(xA,{})}),"Create Grind Item"]}),m.jsxs("button",{onClick:v,className:"flex items-center text-sm px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-md transition-colors",children:[m.jsx(sf,{children:m.jsx(TA,{})}),"Send to Intel"]}),m.jsxs("button",{disabled:!0,className:"flex items-center text-sm px-3 py-2 bg-slate-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx(sf,{children:m.jsx(SA,{})}),"Link to Magna Carta"]})]})]})]}):m.jsx("div",{className:"h-full flex justify-center items-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-500",children:"Select a note or create a new one."}),m.jsx("button",{onClick:()=>c(),className:"mt-4 bg-primary-blue text-white rounded-lg px-6 py-3 font-semibold hover:opacity-90 transition-opacity",children:"Create First Note"})]})})})]})};new Bg({apiKey:""});const _A=()=>{const[n,e]=oe.useState(""),[o,l]=oe.useState(""),[c,h]=oe.useState([]),[p,y]=oe.useState(!1),[T,v]=oe.useState(""),C=async w=>{if(w.preventDefault(),!(!n.trim()||p)){y(!0),l(""),h([]),v("");{v("API key is not configured. Please contact the developer."),y(!1);return}}};return m.jsxs("div",{className:"p-8 h-full flex flex-col",children:[m.jsx("h1",{className:"text-4xl font-extrabold text-white mb-2",children:"The Campus"}),m.jsx("p",{className:"text-lg text-slate-400 mb-8",children:"Get detailed information about any college or university."}),m.jsxs("form",{onSubmit:C,className:"flex gap-4 mb-8",children:[m.jsx("input",{type:"text",value:n,onChange:w=>e(w.target.value),placeholder:"e.g., 'University of California, Berkeley'",className:"flex-grow bg-slate-700 border border-slate-600 rounded-lg p-4 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:p}),m.jsx("button",{type:"submit",disabled:p||!n.trim(),className:"bg-indigo-500 text-white rounded-lg px-6 py-4 font-semibold hover:bg-indigo-600 transition-colors disabled:bg-slate-600 disabled:cursor-not-allowed",children:p?"Searching...":"Search"})]}),m.jsxs("div",{className:"flex-grow bg-slate-800 border border-slate-700 rounded-xl p-6 overflow-y-auto",children:[p&&m.jsxs("div",{className:"flex justify-center items-center h-full",children:[m.jsx("div",{className:"w-4 h-4 bg-slate-400 rounded-full animate-pulse [animation-delay:-0.3s]"}),m.jsx("div",{className:"w-4 h-4 ml-2 bg-slate-400 rounded-full animate-pulse [animation-delay:-0.15s]"}),m.jsx("div",{className:"w-4 h-4 ml-2 bg-slate-400 rounded-full animate-pulse"})]}),T&&m.jsx("div",{className:"flex justify-center items-center h-full",children:m.jsx("p",{className:"text-red-400",children:T})}),o&&m.jsxs("div",{children:[m.jsx("div",{className:"text-slate-300 whitespace-pre-wrap leading-relaxed",children:o}),c.length>0&&m.jsxs("div",{className:"mt-8 pt-4 border-t border-slate-700",children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Sources:"}),m.jsx("ul",{className:"list-disc list-inside space-y-2",children:c.map((w,A)=>m.jsx("li",{children:m.jsx("a",{href:w.web.uri,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline",children:w.web.title||w.web.uri})},A))})]})]}),!p&&!o&&!T&&m.jsx("div",{className:"flex justify-center items-center h-full",children:m.jsx("p",{className:"text-slate-500",children:"Search for a school to see details here."})})]})]})};async function AA(n,e){const o=new TextEncoder,l=await window.crypto.subtle.importKey("raw",o.encode(n),{name:"PBKDF2"},!1,["deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:1e5,hash:"SHA-256"},l,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}async function MA(n,e){const o=window.crypto.getRandomValues(new Uint8Array(16)),l=window.crypto.getRandomValues(new Uint8Array(12)),c=await AA(e,o),h=new TextEncoder,p=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:l},c,h.encode(n)),y=new Uint8Array(p),T=new Uint8Array(o.length+l.length+y.length);return T.set(o,0),T.set(l,o.length),T.set(y,o.length+l.length),btoa(String.fromCharCode.apply(null,T))}const NA=async()=>{Ee.tts.speak("Prepping your unencrypted data for download.");try{const n=await _f(),e=new Blob([n],{type:"application/json"}),o=URL.createObjectURL(e),l=document.createElement("a");l.href=o,l.download=`lex_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o),localStorage.setItem("lexLastBackupTimestamp",new Date().toISOString())}catch(n){console.error("Failed to create download backup:",n),Ee.tts.speak("Sorry, I couldn't prepare the data download.")}},RA=async()=>{const n=prompt("Please enter a password to encrypt your backup. Remember this password, it's not recoverable.");if(!n){Ee.tts.speak("Backup canceled.");return}Ee.tts.speak("Encrypting your data. This might take a moment.");try{const e=await _f(),o=await MA(e,n),l=new Blob([o],{type:"text/plain"}),c=URL.createObjectURL(l),h=document.createElement("a");h.href=c,h.download=`lex_encrypted_backup_${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(c),localStorage.setItem("lexLastBackupTimestamp",new Date().toISOString()),Ee.tts.speak("Your encrypted backup has been downloaded.")}catch(e){console.error("Encryption failed:",e),Ee.tts.speak("I'm sorry, the encryption process failed. Please check the console for details.")}},DA=async()=>{alert("Encrypted import is not yet implemented in this version.")},Yg=async()=>{Ee.tts.speak("Prepping your data for sharing.");try{if(!navigator.share){Ee.tts.speak("Device sharing is not available on this browser. Try downloading the backup instead.");return}const n=await _f(),e=new Blob([n],{type:"application/json"}),o=new File([e],`lex_backup_${new Date().toISOString().split("T")[0]}.json`,{type:"application/json"});await navigator.share({title:"LX Ops Center Backup",text:"Here is my LX data backup.",files:[o]}),localStorage.setItem("lexLastBackupTimestamp",new Date().toISOString())}catch(n){n.name!=="AbortError"&&(console.error("Failed to share backup:",n),Ee.tts.speak("Sorry, I couldn't prepare the shareable backup."))}},kA=[{emoji:"",name:"Ember"},{emoji:"",name:"Stardust"},{emoji:"",name:"Digital Rain"},{emoji:"",name:"Snowfall"}],IA=({selected:n,onChange:e})=>{const o=l=>{const c=n.includes(l)?n.filter(h=>h!==l):[...n,l];e(c)};return m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:kA.map(l=>{const c=n.includes(l.emoji);return m.jsxs("button",{type:"button",onClick:()=>o(l.emoji),className:`p-3 rounded-lg border-2 transition-all duration-200 text-center
                        ${c?"bg-accent-fuchsia/20 border-accent-fuchsia text-white":"bg-slate-700 border-slate-600 text-slate-300 hover:border-slate-500"}`,children:[m.jsx("span",{className:"text-2xl",children:l.emoji}),m.jsx("span",{className:"block text-sm font-semibold mt-1",children:l.name})]},l.emoji)})})},Uo=({title:n,children:e,className:o,titleClassName:l})=>m.jsxs("div",{className:`bg-slate-800 p-6 rounded-xl border border-border-color flex flex-col ${o}`,children:[m.jsx("h2",{className:`text-xl font-bold text-white mb-4 ${l}`,children:n}),e]}),UA=({settings:n,name:e})=>{const o={fontFamily:(n==null?void 0:n.fontFamily)||"Inter",fontSize:n!=null&&n.fontSize?`${n.fontSize}px`:"2rem",fontWeight:(n==null?void 0:n.fontWeight)||"bold",letterSpacing:n!=null&&n.letterSpacing?`${n.letterSpacing}px`:void 0,color:(n==null?void 0:n.textColor)||"#FFFFFF"},l=n!=null&&n.textEffect?`text-effect-${n.textEffect}`:"";return m.jsx("div",{className:"h-full w-full bg-bg-main rounded-lg flex items-center justify-center p-4 min-h-[200px]",children:m.jsx("span",{style:o,className:l,children:e})})},LA=()=>{const{flow:n,setFlow:e,userProfile:o,updateUserProfile:l,greetingSettings:c,updateGreetingSettings:h}=Fn(),[p,y]=oe.useState({profile:{},greeting:{}}),[T,v]=oe.useState([]),[C,w]=oe.useState(localStorage.getItem("lex_voice_preference")||""),[A,I]=oe.useState(!1),J=hi(()=>Fe.notes.where("archived").equals(1).toArray(),[]);oe.useEffect(()=>{o&&c&&!A&&(y({profile:{name:o.name,layout:o.layout||"sidebar_main_chat",borderRadius:o.borderRadius??12,emojiAmbiance:o.emojiAmbiance||[]},greeting:c}),I(!0))},[o,c,A]),oe.useEffect(()=>{const ae=()=>v(window.speechSynthesis.getVoices());window.speechSynthesis.onvoiceschanged=ae,ae()},[]);const te=(ae,xe)=>{y(Pe=>({...Pe,profile:{...Pe.profile,[ae]:xe}}))},he=(ae,xe)=>{const Pe=ae==="fontSize"||ae==="letterSpacing"||ae==="fontWeight"?Number(xe):xe;y(Ne=>({...Ne,greeting:{...Ne.greeting,[ae]:Pe}}))},be=ae=>{const xe=ae.target.value;w(xe),localStorage.setItem("lex_voice_preference",xe),Yi.reloadVoicePreference()},ne=()=>{if(!C)return;const ae=new SpeechSynthesisUtterance("This is the selected voice for LEX."),xe=T.find(Pe=>Pe.voiceURI===C);xe&&(ae.voice=xe,window.speechSynthesis.speak(ae))},ie=async ae=>{await Fe.notes.update(ae,{archived:!1}),Ee.tts.speak("Note restored to The Lab.")},pe=()=>{p.profile.name&&l(p.profile),h(p.greeting),Ee.tts.speak("Your settings have been locked in.")},ce=async()=>{window.confirm("WARNING: This will permanently delete all your data. This action cannot be undone. Are you sure?")&&window.confirm("FINAL WARNING: Are you absolutely sure you want to erase everything?")&&(window.location.href="/?fresh=true")};return m.jsxs("div",{className:"p-8 h-full overflow-y-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-extrabold text-white",children:"The Garage"}),m.jsx("p",{className:"text-lg text-text-dark",children:"Tune the engine. Calibrate your co-pilot."})]}),m.jsx("button",{onClick:pe,className:"px-6 py-3 rounded-lg font-semibold bg-primary-blue text-white hover:opacity-90 transition-opacity",children:"Save All Settings"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[m.jsx(Uo,{title:"Your Profile",children:m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-400 mb-1",children:"Operator Name"}),m.jsx("input",{id:"name",type:"text",value:p.profile.name||"",onChange:ae=>te("name",ae.target.value),className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600"})]})})}),m.jsx(Uo,{title:"Prestige UI",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"layout",className:"block text-sm font-medium text-slate-400 mb-1",children:"App Layout"}),m.jsxs("select",{id:"layout",name:"layout",value:p.profile.layout||"sidebar_main_chat",onChange:ae=>te("layout",ae.target.value),className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600",children:[m.jsx("option",{value:"sidebar_main_chat",children:"Sidebar | Main | Chat"}),m.jsx("option",{value:"main_sidebar_chat",children:"Main | Sidebar | Chat"})]})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"borderRadius",className:"block text-sm font-medium text-slate-400 mb-1",children:["UI Roundness: ",p.profile.borderRadius,"px"]}),m.jsx("input",{type:"range",id:"borderRadius",name:"borderRadius",min:"0",max:"24",value:p.profile.borderRadius||12,onChange:ae=>te("borderRadius",Number(ae.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"})]})]})}),m.jsxs(Uo,{title:"Lex Flow Meter",children:[m.jsx("p",{className:"text-slate-400 mb-2",children:"Controls my personality and use of slang."}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("input",{type:"range",min:"0",max:"100",value:n,onChange:ae=>e(Number(ae.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"}),m.jsx("span",{className:"font-semibold text-white w-24 text-right text-sm",children:n>=90?"Hustle":n>=40?"Mid":"Pro"})]})]}),m.jsx(Uo,{title:"Background Ambiance",className:"lg:col-span-3",children:m.jsx(IA,{selected:p.profile.emojiAmbiance||[],onChange:ae=>te("emojiAmbiance",ae)})}),m.jsx(Uo,{title:"Enhanced Greeting Personalization",className:"lg:col-span-3",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Font Family"}),m.jsxs("select",{name:"fontFamily",value:p.greeting.fontFamily||"Inter",onChange:ae=>he("fontFamily",ae.target.value),className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600",children:[m.jsx("option",{children:"Inter"}),m.jsx("option",{children:"Poppins"}),m.jsx("option",{children:"JetBrains Mono"}),m.jsx("option",{children:"Georgia"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Text Color"}),m.jsx("input",{name:"textColor",type:"color",value:p.greeting.textColor||"#FFFFFF",onChange:ae=>he("textColor",ae.target.value),className:"w-full bg-slate-700 rounded-md p-1 border border-slate-600"})]})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Font Size (px)"}),m.jsx("input",{type:"number",name:"fontSize",value:p.greeting.fontSize||32,onChange:ae=>he("fontSize",ae.target.value),className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Font Weight"}),m.jsx("input",{type:"number",step:"100",name:"fontWeight",value:p.greeting.fontWeight||700,onChange:ae=>he("fontWeight",ae.target.value),className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Spacing (px)"}),m.jsx("input",{type:"number",name:"letterSpacing",value:p.greeting.letterSpacing||0,onChange:ae=>he("letterSpacing",ae.target.value),className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Text Effect"}),m.jsxs("select",{name:"textEffect",value:p.greeting.textEffect||"none",onChange:ae=>he("textEffect",ae.target.value),className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600",children:[m.jsx("option",{value:"none",children:"None"}),m.jsx("option",{value:"glow",children:"Glow"}),m.jsx("option",{value:"fire",children:"Fire"}),m.jsx("option",{value:"electric",children:"Electric"})]})]})]}),m.jsx(UA,{settings:p.greeting,name:p.profile.name||"Operator"})]})}),m.jsxs(Uo,{title:"Voice Narration",children:[m.jsx("p",{className:"text-slate-400 mb-4 text-sm",children:"Select the system voice for read-aloud features."}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("select",{value:C,onChange:be,className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600 text-sm",children:[m.jsx("option",{value:"",children:"System Default"}),T.filter(ae=>ae.lang.startsWith("en-")).map(ae=>m.jsxs("option",{value:ae.voiceURI,children:[ae.name," (",ae.lang,")"]},ae.voiceURI))]}),m.jsx("button",{onClick:ne,className:"px-3 py-2 rounded-lg font-semibold bg-slate-600 hover:bg-slate-500 text-sm",children:"Test"})]})]}),m.jsx(Uo,{title:"Archived Notes",className:"lg:col-span-2",children:m.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:J&&J.length>0?J.map(ae=>m.jsxs("div",{className:"flex justify-between items-center bg-slate-700/50 p-2 rounded-md",children:[m.jsx("span",{className:"text-sm truncate",children:ae.title}),m.jsx("button",{onClick:()=>ie(ae.id),className:"text-xs font-semibold bg-indigo-500 px-2 py-1 rounded hover:bg-indigo-400",children:"Restore"})]},ae.id)):m.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No archived notes."})})}),m.jsxs(Uo,{title:"Data Management",className:"lg:col-span-3",children:[m.jsxs("div",{className:"bg-yellow-900/50 border border-yellow-700 text-yellow-300 text-sm rounded-lg p-4 mb-4",children:[m.jsx("p",{className:"font-bold",children:"Heads Up: Your data is stored only in this browser."}),m.jsx("p",{className:"mt-1",children:"It is not backed up online. If you clear your browser data or use a different device, your information will be lost. Use the tools below to back up your data regularly."})]}),m.jsxs("div",{className:"flex flex-wrap gap-4",children:[m.jsx("button",{onClick:NA,className:"px-4 py-2 rounded-lg font-semibold bg-slate-600 text-slate-200 hover:bg-slate-500",children:"Download Unencrypted JSON"}),m.jsx("button",{onClick:RA,className:"px-4 py-2 rounded-lg font-semibold bg-slate-600 text-slate-200 hover:bg-slate-500",children:"Export Encrypted File"}),m.jsx("button",{onClick:DA,className:"px-4 py-2 rounded-lg font-semibold bg-slate-600 text-slate-200 hover:bg-slate-500",children:"Import Encrypted File"}),m.jsx("button",{onClick:Yg,className:"px-4 py-2 rounded-lg font-semibold bg-slate-600 text-slate-200 hover:bg-slate-500",children:"Share Backup"}),m.jsx("button",{onClick:ce,className:"px-4 py-2 rounded-lg font-semibold bg-warning-red/80 text-white hover:opacity-90",children:"Reset All Data"})]})]})]})]})},Xs=({htmlFor:n,children:e})=>m.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-slate-400 mb-1",children:e}),lg=({children:n,...e})=>m.jsx("select",{...e,className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600 text-white capitalize focus:outline-none focus:ring-2 focus:ring-indigo-500",children:n}),PA=({goal:n,onClose:e})=>{const[o,l]=oe.useState({title:"",description:"",domain:"academic",horizon:"short",status:"not_started",links:{}});oe.useEffect(()=>{l(n||{title:"",description:"",domain:"academic",horizon:"short",status:"not_started",links:{}})},[n]);const c=p=>{const{name:y,value:T}=p.target;l(v=>({...v,[y]:T}))},h=async p=>{p.preventDefault();const y=new Date().toISOString(),T={title:o.title||"Untitled Goal",description:o.description,domain:o.domain,horizon:o.horizon,status:o.status,why:o.why,links:o.links||{},updatedAt:y};try{n?await Fe.goals.update(n.id,T):await Fe.goals.add({...T,id:`goal_${Date.now()}`,createdAt:y,links:{}}),e()}catch(v){console.error("Failed to save goal:",v),alert("Could not save the goal. Check the console for details.")}};return m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 flex justify-center items-center",onClick:e,children:m.jsx("div",{className:"bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg border border-slate-700 p-6",onClick:p=>p.stopPropagation(),children:m.jsxs("form",{onSubmit:h,children:[m.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:n?"Edit Goal":"New Goal"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(Xs,{htmlFor:"title",children:"Goal Title"}),m.jsx("input",{id:"title",name:"title",type:"text",value:o.title,onChange:c,onFocus:p=>Ee.context.setDictationTarget(p.target),onBlur:()=>Ee.context.setDictationTarget(null),className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),m.jsxs("div",{children:[m.jsx(Xs,{htmlFor:"description",children:"Description / Why"}),m.jsx("textarea",{id:"description",name:"description",value:o.description,onChange:c,onFocus:p=>Ee.context.setDictationTarget(p.target),onBlur:()=>Ee.context.setDictationTarget(null),rows:3,className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none",placeholder:"What is this goal and why does it matter?"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(Xs,{htmlFor:"domain",children:"Domain"}),m.jsx(lg,{id:"domain",name:"domain",value:o.domain,onChange:c,children:["academic","career","activities","personal"].map(p=>m.jsx("option",{value:p,children:p},p))})]}),m.jsxs("div",{children:[m.jsx(Xs,{htmlFor:"horizon",children:"Horizon"}),m.jsx(lg,{id:"horizon",name:"horizon",value:o.horizon,onChange:c,children:["short","mid","long"].map(p=>m.jsx("option",{value:p,children:p},p))})]})]})]}),m.jsxs("div",{className:"mt-8 flex justify-end gap-4",children:[m.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded-lg font-semibold bg-slate-700 text-slate-300 hover:bg-slate-600 transition-colors",children:"Cancel"}),m.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg font-semibold bg-indigo-500 text-white hover:bg-indigo-600 transition-colors",children:n?"Save Changes":"Add Goal"})]})]})})})},VA=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.94.44c-.45-.88-.13-1.9.8-2.68.9-.75 1.57-1.78 1.64-2.9.06-1.08-.34-2.12-1.12-2.82-1.07-.95-2.2-1.5-3.38-1.5H3.5A2.5 2.5 0 0 1 1 20.5v-16A2.5 2.5 0 0 1 3.5 2h6Z"}),m.jsx("path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.94.44c.45-.88.13-1.9-.8-2.68-.9-.75-1.57-1.78-1.64-2.9-.06-1.08.34-2.12 1.12-2.82 1.07-.95 2.2-1.5 3.38-1.5h1.5A2.5 2.5 0 0 0 23 20.5v-16A2.5 2.5 0 0 0 20.5 2h-6Z"})]}),qA=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),GA=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),BA=({suggestedGoals:n})=>{const[e,o]=oe.useState(n),l=h=>{o(p=>p.some(y=>y.title===h.title)?p.filter(y=>y.title!==h.title):[...p,h])},c=async()=>{if(e.length===0)return;const h=e.map(p=>({id:`goal_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),status:"not_started",links:{},...p}));await Fe.goals.bulkAdd(h),Ee.tts.speak(`Locked in. I've added ${h.length} new goals to your Magna Carta.`),o([])};return m.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-lg mt-6 border border-border-color",children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Suggested Goals"}),m.jsx("div",{className:"space-y-2 mb-4",children:n.map((h,p)=>m.jsxs("div",{onClick:()=>l(h),className:"flex items-center gap-3 p-2 bg-slate-800 rounded-md cursor-pointer hover:bg-slate-700/50",children:[m.jsx("div",{className:`w-5 h-5 rounded border-2 flex-shrink-0 flex items-center justify-center ${e.some(y=>y.title===h.title)?"bg-accent-fuchsia border-accent-fuchsia":"border-slate-600"}`,children:e.some(y=>y.title===h.title)&&m.jsx(qA,{})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-white text-sm",children:h.title}),m.jsx("p",{className:"text-xs text-slate-400",children:h.description})]})]},p))}),m.jsxs("button",{onClick:c,disabled:e.length===0,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold bg-accent-fuchsia text-white hover:opacity-90 transition-colors disabled:opacity-50",children:[m.jsx(GA,{})," Add ",e.length," Goal(s) to Magna Carta"]})]})},OA=({blueprint:n})=>{const e=o=>m.jsx("ul",{className:"space-y-2",children:o.map((l,c)=>m.jsxs("li",{className:"text-sm text-slate-300",children:["- ",l.title,": ",l.description]},c))});return m.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-3",children:[m.jsxs("div",{className:"prose prose-invert max-w-none prose-p:text-slate-300 prose-headings:text-white prose-headings:font-semibold prose-headings:text-lg",children:[m.jsx("h4",{children:"Key Responsibilities"}),m.jsx("ul",{children:n.key_responsibilities.map((o,l)=>m.jsx("li",{children:o},l))}),m.jsx("h4",{children:"Required Skills"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Hard Skills:"}),m.jsx("ul",{children:n.required_skills.hard.map((o,l)=>m.jsx("li",{children:o},l))})]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Soft Skills:"}),m.jsx("ul",{children:n.required_skills.soft.map((o,l)=>m.jsx("li",{children:o},l))})]})]}),m.jsx("h4",{children:"Educational Pathway"}),e(n.education_pathway),m.jsx("h4",{children:"Extracurricular Activities"}),e(n.extracurricular_activities),m.jsx("h4",{children:"Community Service"}),e(n.community_service),m.jsx("h4",{children:"College Recommendations"}),m.jsx("ul",{className:"space-y-2",children:n.college_recommendations.map((o,l)=>m.jsxs("li",{children:[m.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline font-bold",children:o.name}),": ",o.reasoning]},l))})]}),n.suggested_goals&&n.suggested_goals.length>0&&m.jsx(BA,{suggestedGoals:n.suggested_goals})]})},HA=(n,e)=>{let o=`## Career Blueprint: ${e}

`;const l=(c,h)=>{o+=`### ${c}
`,h.length>0?h.forEach(p=>{typeof p=="string"?o+=`- ${p}
`:o+=`- **${p.title}**: ${p.description}
`}):o+=`No specific items found.
`,o+=`
`};return l("Key Responsibilities",n.key_responsibilities),o+=`### Required Skills
`,o+=`**Hard Skills:**
`+n.required_skills.hard.map(c=>`- ${c}`).join(`
`)+`

`,o+=`**Soft Skills:**
`+n.required_skills.soft.map(c=>`- ${c}`).join(`
`)+`

`,l("Educational Pathway",n.education_pathway),l("Extracurricular Activities",n.extracurricular_activities),l("Community Service",n.community_service),o+=`### College Recommendations
`,n.college_recommendations.forEach(c=>{o+=`- **[${c.name}](${c.url})**: ${c.reasoning}
`}),o+=`
`,o},zA=()=>{const[n,e]=oe.useState(""),o=hi(()=>Fe.research.where("type").equals("career_analysis").last()),l=(o==null?void 0:o.status)==="pending",c=async p=>{p.preventDefault();const y=n.trim();if(!y||l)return;Ee.tts.speak(`Analyzing career path for ${y}. This may take a moment.`);const T=`res_career_${Date.now()}`,v={id:T,query:`Career Analysis: ${y}`,createdAt:new Date().toISOString(),status:"pending",type:"career_analysis",links:{}};await Fe.research.add(v),e("");try{const C=await V_(y,`User is exploring the career of a ${y}.`);await Fe.research.update(T,{status:"complete",result:C});const w=HA(C,y),A={id:`note_bp_${Date.now()}`,type:"analysis",title:`Career Blueprint: ${y}`,text:w,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),links:{research:[T]},meta:{source:"career_blueprint"}};await Fe.notes.add(A),Ee.tts.speak(`Analysis complete. I've saved the blueprint for becoming a ${y} to The Lab for you.`)}catch(C){console.error("Career analysis failed:",C);const w="Sorry, I encountered an error during the analysis. Please try again.";await Fe.research.update(T,{status:"error",error:C.message||w}),Ee.tts.speak(w)}},h=()=>(o==null?void 0:o.status)==="pending"?m.jsx("div",{className:"flex justify-center items-center h-48",children:m.jsxs("div",{className:"flex items-center gap-3 text-slate-300",children:[m.jsx("div",{className:"lex-console-thinking-ring border-t-accent-fuchsia w-8 h-8 !border-2"}),m.jsx("span",{children:"Analyzing career trajectory..."})]})}):(o==null?void 0:o.status)==="error"?m.jsxs("div",{className:"text-center text-warning-red py-8",children:[m.jsx("p",{children:"Analysis Failed"}),m.jsx("p",{className:"text-sm text-slate-400 mt-1",children:o.error})]}):(o==null?void 0:o.status)==="complete"&&(o!=null&&o.result)?m.jsx(OA,{blueprint:o.result}):m.jsx("div",{className:"text-center text-slate-400 py-8",children:m.jsx("p",{children:"What career path should I analyze for you?"})});return m.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-border-color",children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Career Blueprint"}),m.jsxs("form",{onSubmit:c,className:"flex gap-4 mb-6",children:[m.jsx("input",{type:"text",value:n,onChange:p=>e(p.target.value),onFocus:p=>Ee.context.setDictationTarget(p.target),onBlur:()=>Ee.context.setDictationTarget(null),placeholder:"e.g., Doctor, Software Engineer, Graphic Designer",className:"flex-grow bg-slate-700 border border-slate-600 rounded-lg p-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-accent-fuchsia",disabled:l}),m.jsxs("button",{type:"submit",disabled:l||!n.trim(),className:"flex items-center gap-3 px-6 py-3 rounded-lg font-semibold bg-accent-fuchsia text-white hover:opacity-90 transition-colors disabled:bg-slate-600 disabled:cursor-not-allowed",children:[m.jsx(VA,{}),l?"Analyzing...":"Analyze"]})]}),h()]})},FA=()=>{const{userProfile:n}=Fn();return n?m.jsx("div",{className:"mb-8 flex items-center gap-4 bg-slate-800 p-4 rounded-xl border border-border-color",children:m.jsxs("div",{children:[m.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Operator: ",n.name]}),m.jsx("div",{className:"flex items-center gap-2 mt-1",children:n.isDayOne&&m.jsx("span",{className:"text-xs font-bold text-teal-300 bg-teal-800/50 px-3 py-1 rounded-full animate-pulse",children:" Day One"})})]})}):null},YA=({goals:n,onEditGoal:e})=>{const o=["academic","career","activities","personal"],l=["long","mid","short"];return m.jsx("div",{className:"space-y-8 mt-8 pt-8 border-t border-border-color",children:o.map(c=>m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold capitalize text-white mb-4",children:c}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:l.map(h=>{const p=n.filter(y=>y.domain===c&&y.horizon===h);return m.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 border border-border-color",children:[m.jsxs("h3",{className:"font-semibold capitalize text-slate-400 mb-3",children:[h,"-Term"]}),m.jsx("div",{className:"space-y-2",children:p.length>0?p.map(y=>m.jsxs("button",{onClick:()=>e(y),className:"w-full text-left bg-slate-700 p-3 rounded-lg text-sm hover:bg-slate-600 transition-colors",children:[m.jsx("p",{className:"font-semibold text-white",children:y.title}),y.description&&m.jsx("p",{className:"text-xs text-slate-400 mt-1 truncate",children:y.description})]},y.id)):m.jsx("p",{className:"text-xs text-slate-500",children:"No goals set."})})]},h)})})]},c))})},KA=()=>{const[n,e]=oe.useState(!1),[o,l]=oe.useState(null),c=hi(()=>Fe.goals.toArray(),[]),h=oe.useCallback(()=>{l(null),e(!0)},[]),p=oe.useCallback(T=>{l(T),e(!0)},[]),y=oe.useCallback(()=>{e(!1),l(null)},[]);return m.jsxs("div",{className:"p-8 h-full flex flex-col overflow-y-auto",children:[m.jsx(FA,{}),m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-extrabold text-white",children:"The Magna Carta"}),m.jsx("p",{className:"text-lg text-text-dark",children:"Your master strategy. The vision for your entire operation."})]}),m.jsx("button",{onClick:h,className:"px-6 py-3 rounded-lg font-semibold bg-primary-blue text-white hover:opacity-90 transition-opacity",children:"Add Goal"})]}),m.jsx(zA,{}),m.jsx(YA,{goals:c||[],onEditGoal:p}),n&&m.jsx(PA,{goal:o,onClose:y})]})},JA=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),jA=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("polyline",{points:"8 6 8 18"}),m.jsx("polyline",{points:"16 6 16 18"}),m.jsx("polyline",{points:"12 21 12 3"})]}),QA=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"6",y:"2",width:"4",height:"20"}),m.jsx("rect",{x:"14",y:"2",width:"4",height:"20"})]}),XA=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),m.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),m.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),$A=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M21 12H3M12 21V3"})}),ZA=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),m.jsx("polyline",{points:"14 2 14 8 20 8"}),m.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),m.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),m.jsx("polyline",{points:"10 9 9 9 8 9"})]}),WA=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("polyline",{points:"12 6 12 12 16 14"})]}),e1=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),m.jsx("polyline",{points:"14 2 14 8 20 8"})]}),t1=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"11",cy:"11",r:"8"}),m.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),n1=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),i1={low:"text-blue-400",medium:"text-green-400",deep:"text-yellow-400"},o1=({energy:n})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i1[n],children:[m.jsx("path",{d:"M17 18a5 5 0 0 0-10 0"}),m.jsx("path",{d:"M12 2v11"}),m.jsx("path",{d:"M12 22v-3"}),m.jsx("path",{d:n==="low"?"":n==="medium"?"M20 13h-4":"M20 13h-4M4 13H8"}),m.jsx("path",{d:n==="deep"?"m19.4 8.6-.4.4M5 8.2l.4.4":""})]}),l1={low:"border-l-blue-500",normal:"border-l-green-500",high:"border-l-yellow-500",urgent:"border-l-red-500"},r1=n=>n?new Date(n).toLocaleDateString(void 0,{month:"short",day:"numeric"}):"No due date",If=({assignment:n,onEdit:e,isGhost:o})=>{const l=n.links.notes&&n.links.notes.length>0||n.links.research&&n.links.research.length>0,c=new Date,h=n.dueISO?new Date(n.dueISO):null,p=n.status==="done",y=h?h<c&&!p:!1,T=h?!y&&!p&&(h.getTime()-c.getTime())/(1e3*60*60)<24:!1,v=()=>y?"border-l-warning-red bg-warning-red/10":T?"border-l-yellow-500":l1[n.priority];return m.jsxs("div",{onClick:()=>e(n),className:`bg-slate-800 rounded p-3 border border-border-color border-l-4 cursor-pointer hover:bg-slate-700/50 transition-colors shadow-sm
            ${v()} ${o?"opacity-50":""} ${n.priority==="urgent"&&!p?"animate-pulse-border":""}`,children:[m.jsx("h4",{className:"font-semibold text-white mb-2",children:n.title}),m.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-xs text-text-dark",children:[m.jsxs("div",{className:"flex items-center gap-1.5",title:"Due Date",children:[m.jsx(WA,{}),m.jsx("span",{className:y?"text-warning-red font-bold":"",children:r1(n.dueISO)})]}),m.jsxs("div",{className:"flex items-center gap-1.5 capitalize",title:"Energy Level",children:[m.jsx(o1,{energy:n.energyLevel}),m.jsx("span",{children:n.energyLevel})]}),(l||n.goalId)&&m.jsxs("div",{className:"flex items-center gap-2",title:"Linked Items",children:[n.goalId&&m.jsx(n1,{}),n.links.notes&&n.links.notes.length>0&&m.jsx(e1,{}),n.links.research&&n.links.research.length>0&&m.jsx(t1,{})]})]}),m.jsx("style",{children:`
                @keyframes pulse-border {
                    0%, 100% { border-left-color: var(--warning-red); }
                    50% { border-left-color: #f87171; } /* red-400 */
                }
                .animate-pulse-border {
                    animation: pulse-border 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
                }
            `})]})},a1=[{id:"todo",title:"To Do",color:"bg-slate-700"},{id:"in_progress",title:"In Progress",color:"bg-indigo-900/50"},{id:"done",title:"Done",color:"bg-green-900/50"}],s1=({title:n,status:e,color:o,assignments:l,onDragStart:c,onDragOver:h,onDrop:p,onEdit:y,isOver:T})=>m.jsxs("div",{className:`w-full md:w-1/3 p-2 rounded-lg h-full flex flex-col ${T?"bg-slate-600/50":""} transition-colors`,onDragOver:h,onDrop:v=>p(v,e),children:[m.jsxs("div",{className:`flex items-center justify-between p-3 rounded-t-lg ${o}`,children:[m.jsx("h3",{className:"font-bold text-white",children:n}),m.jsx("span",{className:"text-sm font-semibold text-slate-300 bg-black/20 px-2 py-0.5 rounded-full",children:l.length})]}),m.jsx("div",{className:"p-2 space-y-3 overflow-y-auto h-full",children:l.map(v=>m.jsx("div",{draggable:!0,onDragStart:C=>c(C,v),children:m.jsx(If,{assignment:v,onEdit:y})},v.id))})]}),u1=({assignments:n,onUpdateStatus:e,onEdit:o})=>{const[l,c]=oe.useState(null),[h,p]=oe.useState(null),y=oe.useMemo(()=>a1.map(A=>({...A,assignments:n.filter(I=>I.status===A.id).sort((I,J)=>{const te={urgent:4,high:3,normal:2,low:1};return te[J.priority]-te[I.priority]})})),[n]),T=(A,I)=>{c(I.id),A.dataTransfer.effectAllowed="move",A.dataTransfer.setData("text/plain",I.id)},v=A=>{A.preventDefault();const I=A.target.closest("[data-lane-status]");I&&p(I.getAttribute("data-lane-status"))},C=()=>{p(null)},w=(A,I)=>{if(A.preventDefault(),l){const J=n.find(te=>te.id===l);J&&J.status!==I&&e(l,I)}c(null),p(null)};return m.jsx("div",{className:"flex flex-col md:flex-row p-4 gap-4 h-full",onDragLeave:C,children:y.map(A=>m.jsx("div",{className:"w-full md:w-1/3 h-full flex flex-col","data-lane-status":A.id,children:m.jsx(s1,{title:A.title,status:A.id,color:A.color,assignments:A.assignments,onDragStart:T,onDragOver:v,onDrop:w,onEdit:o,isOver:h===A.id})},A.id))})},c1=({assignments:n,onEdit:e})=>{const o=Array.from({length:7},(h,p)=>{const y=new Date;return y.setDate(y.getDate()+p),y}),l=h=>{const p=new Date(h.getFullYear(),h.getMonth(),h.getDate()).toISOString(),y=new Date(h.getFullYear(),h.getMonth(),h.getDate(),23,59,59).toISOString();return n.filter(T=>T.dueISO&&T.dueISO>=p&&T.dueISO<=y).sort((T,v)=>(T.dueISO||"").localeCompare(v.dueISO||""))},c=h=>{const p=new Date;return h.getDate()===p.getDate()&&h.getMonth()===p.getMonth()&&h.getFullYear()===p.getFullYear()};return m.jsx("div",{className:"p-4 h-full flex overflow-x-auto",children:m.jsx("div",{className:"flex gap-4 min-w-max",children:o.map(h=>{const p=l(h),y=p.some(v=>v.priority==="urgent"&&v.status!=="done"),T=["p-3","border-b","border-slate-700","rounded-t-lg","transition-all"];return c(h)?T.push("bg-indigo-600"):T.push("bg-slate-700/50"),y&&T.push("border-t-4 border-t-red-500/80"),m.jsxs("div",{className:"w-80 h-full bg-slate-800/70 rounded-lg flex flex-col shrink-0",children:[m.jsxs("div",{className:T.join(" "),children:[m.jsx("h3",{className:"font-bold text-white text-center",children:h.toLocaleDateString(void 0,{weekday:"long"})}),m.jsx("p",{className:"text-sm text-slate-300 text-center",children:h.toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),m.jsx("div",{className:"p-3 space-y-3 overflow-y-auto flex-grow",children:p.length>0?p.map(v=>m.jsx(If,{assignment:v,onEdit:e},v.id)):m.jsx("div",{className:"flex items-center justify-center h-full",children:m.jsx("p",{className:"text-slate-500 text-sm",children:"No items due."})})})]},h.toISOString())})})})},f1=n=>{if(n.status==="done")return"backlog";const e=n.priority==="high"||n.priority==="urgent";let o=!1;if(n.dueISO){const l=new Date(n.dueISO),c=new Date;o=(l.getTime()-c.getTime())/(1e3*60*60)<=48}return e&&o?"crush":e&&!o?"schedule":!e&&o?"quick":"backlog"},$s=({title:n,description:e,assignments:o,onEdit:l,className:c})=>m.jsxs("div",{className:`bg-slate-800/60 p-4 rounded-xl flex flex-col ${c}`,children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("h3",{className:"font-bold text-white text-lg",children:n}),m.jsx("p",{className:"text-sm text-slate-400",children:e})]}),m.jsx("div",{className:"space-y-3 overflow-y-auto flex-grow pr-2",children:o.length>0?o.map(h=>m.jsx(If,{assignment:h,onEdit:l},h.id)):m.jsx("div",{className:"flex items-center justify-center h-full text-slate-600 text-sm",children:"Empty"})})]}),d1=({assignments:n,onEdit:e})=>{const o=oe.useMemo(()=>{const l={crush:[],schedule:[],quick:[],backlog:[]};return n.filter(c=>c.status!=="done").forEach(c=>{const h=f1(c);l[h].push(c)}),Object.values(l).forEach(c=>c.sort((h,p)=>(h.dueISO||"").localeCompare(p.dueISO||""))),l},[n]);return m.jsx("div",{className:"p-4 h-full",children:m.jsxs("div",{className:"grid grid-cols-2 grid-rows-2 gap-4 h-full",children:[m.jsx($s,{title:"Crush Now",description:"Urgent & Important",assignments:o.crush,onEdit:e,className:"border-2 border-red-500/50"}),m.jsx($s,{title:"Schedule",description:"Not Urgent & Important",assignments:o.schedule,onEdit:e,className:"border border-slate-700"}),m.jsx($s,{title:"Quick Hit",description:"Urgent & Not Important",assignments:o.quick,onEdit:e,className:"border border-slate-700"}),m.jsx($s,{title:"Backlog",description:"Not Urgent & Not Important",assignments:o.backlog,onEdit:e,className:"border border-slate-700"})]})})},h1=n=>n?new Date(n).toLocaleDateString():"N/A",rg={low:"bg-blue-600/50 text-blue-300",normal:"bg-green-600/50 text-green-300",high:"bg-yellow-600/50 text-yellow-300",urgent:"bg-red-600/50 text-red-300"},ag={backlog:"bg-slate-600 text-slate-300",todo:"bg-sky-600/80 text-sky-200",in_progress:"bg-indigo-600/80 text-indigo-200",done:"bg-emerald-600/70 text-emerald-200"},Zs=({label:n,isActive:e,onClick:o})=>m.jsx("button",{onClick:o,className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${e?"bg-indigo-500 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:n}),p1=({assignments:n,onEdit:e})=>{const[o,l]=oe.useState("all"),[c,h]=oe.useState("all"),p=oe.useMemo(()=>n.filter(y=>o==="all"||y.status===o).filter(y=>c==="all"||y.priority===c).sort((y,T)=>(y.dueISO||"z").localeCompare(T.dueISO||"z")),[n,o,c]);return m.jsxs("div",{className:"p-4 h-full flex flex-col",children:[m.jsxs("div",{className:"mb-4 flex flex-wrap gap-x-6 gap-y-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-sm font-semibold text-slate-400",children:"Status:"}),m.jsx(Zs,{label:"All",isActive:o==="all",onClick:()=>l("all")}),Object.keys(ag).map(y=>m.jsx(Zs,{label:y,isActive:o===y,onClick:()=>l(y)},y))]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-sm font-semibold text-slate-400",children:"Priority:"}),m.jsx(Zs,{label:"All",isActive:c==="all",onClick:()=>h("all")}),Object.keys(rg).map(y=>m.jsx(Zs,{label:y,isActive:c===y,onClick:()=>h(y)},y))]})]}),m.jsxs("div",{className:"overflow-y-auto flex-grow bg-slate-800/50 rounded-lg",children:[m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx("thead",{className:"sticky top-0 bg-slate-800",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-3",children:"Title"}),m.jsx("th",{className:"p-3",children:"Course"}),m.jsx("th",{className:"p-3",children:"Due Date"}),m.jsx("th",{className:"p-3",children:"Status"}),m.jsx("th",{className:"p-3",children:"Priority"}),m.jsx("th",{className:"p-3",children:"Energy"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-700/50",children:p.map(y=>m.jsxs("tr",{onClick:()=>e(y),className:"hover:bg-slate-700/50 cursor-pointer transition-colors",children:[m.jsx("td",{className:"p-3 font-semibold text-white",children:y.title}),m.jsx("td",{className:"p-3 text-slate-400",children:y.course}),m.jsx("td",{className:"p-3 text-slate-400",children:h1(y.dueISO)}),m.jsx("td",{className:"p-3",children:m.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full capitalize ${ag[y.status]}`,children:y.status.replace("_"," ")})}),m.jsx("td",{className:"p-3",children:m.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full capitalize ${rg[y.priority]}`,children:y.priority})}),m.jsx("td",{className:"p-3 text-slate-400 capitalize",children:y.energyLevel})]},y.id))})]}),p.length===0&&m.jsx("div",{className:"flex items-center justify-center p-8",children:m.jsx("p",{className:"text-slate-500",children:"No matching assignments."})})]})]})},uf=n=>m.jsx("input",{...n,onFocus:e=>Ee.context.setDictationTarget(e.target),onBlur:()=>Ee.context.setDictationTarget(null),className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"}),ll=({htmlFor:n,children:e})=>m.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-slate-400 mb-1",children:e}),cf=({children:n,...e})=>m.jsx("select",{...e,className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600 text-white capitalize focus:outline-none focus:ring-2 focus:ring-indigo-500",children:n}),m1=({assignment:n,onClose:e})=>{const[o,l]=oe.useState({title:"",course:"",dueISO:new Date().toISOString().split("T")[0],status:"todo",priority:"normal",energyLevel:"medium",links:{}}),c=hi(()=>{var y,T;return(T=(y=n==null?void 0:n.links)==null?void 0:y.notes)!=null&&T.length?Fe.notes.bulkGet(n.links.notes):[]},[n]);oe.useEffect(()=>{l(n?{...n,dueISO:n.dueISO?new Date(n.dueISO).toISOString().split("T")[0]:""}:{title:"",course:"",dueISO:new Date().toISOString().split("T")[0],status:"todo",priority:"normal",energyLevel:"medium",links:{}})},[n]);const h=y=>{const{name:T,value:v}=y.target;l(C=>({...C,[T]:v}))},p=async y=>{y.preventDefault();const T=new Date().toISOString(),v={title:o.title||"Untitled",course:o.course,dueISO:o.dueISO?new Date(o.dueISO).toISOString():void 0,status:o.status,priority:o.priority,energyLevel:o.energyLevel,links:o.links||{},updatedAt:T};try{n?await Fe.assignments.update(n.id,v):await Fe.assignments.add({...v,id:`as_${Date.now()}`,createdAt:T}),e()}catch(C){console.error("Failed to save assignment:",C),alert("Could not save the assignment. Check the console for details.")}};return m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 flex justify-center items-center",onClick:e,children:m.jsx("div",{className:"bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg border border-slate-700 p-6",onClick:y=>y.stopPropagation(),children:m.jsxs("form",{onSubmit:p,children:[m.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:n?"Edit Grind Item":"New Grind Item"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(ll,{htmlFor:"title",children:"Title"}),m.jsx(uf,{id:"title",name:"title",type:"text",value:o.title,onChange:h,required:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(ll,{htmlFor:"course",children:"Course / Subject"}),m.jsx(uf,{id:"course",name:"course",type:"text",value:o.course,onChange:h})]}),m.jsxs("div",{children:[m.jsx(ll,{htmlFor:"dueISO",children:"Due Date"}),m.jsx(uf,{id:"dueISO",name:"dueISO",type:"date",value:o.dueISO,onChange:h})]})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx(ll,{htmlFor:"status",children:"Status"}),m.jsx(cf,{id:"status",name:"status",value:o.status,onChange:h,children:["backlog","todo","in_progress","done"].map(y=>m.jsx("option",{value:y,children:y.replace("_"," ")},y))})]}),m.jsxs("div",{children:[m.jsx(ll,{htmlFor:"priority",children:"Priority"}),m.jsx(cf,{id:"priority",name:"priority",value:o.priority,onChange:h,children:["low","normal","high","urgent"].map(y=>m.jsx("option",{value:y,children:y},y))})]}),m.jsxs("div",{children:[m.jsx(ll,{htmlFor:"energyLevel",children:"Energy Level"}),m.jsx(cf,{id:"energyLevel",name:"energyLevel",value:o.energyLevel,onChange:h,children:["low","medium","deep"].map(y=>m.jsx("option",{value:y,children:y},y))})]})]}),c&&c.filter(Boolean).length>0&&m.jsxs("div",{children:[m.jsx(ll,{htmlFor:"linked-notes",children:"Linked Notes"}),m.jsx("div",{id:"linked-notes",className:"bg-slate-700/50 rounded-md p-3 border border-slate-600 space-y-2 max-h-24 overflow-y-auto",children:c.map(y=>y&&m.jsxs("div",{className:"text-sm text-slate-300 p-1 bg-slate-900/50 rounded",children:["- ",y.title]},y.id))})]})]}),m.jsxs("div",{className:"mt-8 flex justify-end gap-4",children:[m.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded-lg font-semibold bg-slate-700 text-slate-300 hover:bg-slate-600 transition-colors",children:"Cancel"}),m.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg font-semibold bg-indigo-500 text-white hover:bg-indigo-600 transition-colors",children:n?"Save Changes":"Add Item"})]})]})})})},g1=[{id:"lanes",label:"Lanes",icon:QA},{id:"horizon",label:"Horizon",icon:XA},{id:"matrix",label:"Matrix",icon:$A},{id:"ledger",label:"Ledger",icon:ZA}],y1=()=>{const[n,e]=oe.useState("lanes"),[o,l]=oe.useState(!1),[c,h]=oe.useState(null),p=hi(()=>Fe.assignments.toArray(),[]),y=oe.useCallback(I=>{h(I),l(!0)},[]),T=oe.useCallback(()=>{h(null),l(!0)},[]),v=oe.useCallback(()=>{l(!1),h(null)},[]),C=oe.useCallback(async(I,J)=>{await Fe.assignments.update(I,{status:J,updatedAt:new Date().toISOString()})},[]),w=oe.useCallback(()=>{if(!p)return;const I=new Date,J=new Date(I.getFullYear(),I.getMonth(),I.getDate()).toISOString(),te=new Date(I.getFullYear(),I.getMonth(),I.getDate(),23,59,59).toISOString(),he=p.filter(ae=>ae.dueISO&&ae.dueISO>=J&&ae.dueISO<=te&&ae.status!=="done");if(he.length===0){Ee.tts.speak("Looks like your plate is clear for today. Solid work. Nothing on The Grind right now.");return}const be=["deep","medium","low"],ne={urgent:4,high:3,normal:2,low:1},ie=he.sort((ae,xe)=>{const Pe=be.indexOf(ae.energyLevel)-be.indexOf(xe.energyLevel);if(Pe!==0)return Pe;const Ne=ne[xe.priority]-ne[ae.priority];return Ne!==0?Ne:(ae.dueISO||"").localeCompare(xe.dueISO||"")}),pe=ie[0],ce=`Aight, here's the play for today's grind. We'll start by crushing ${pe.title}. That's a ${pe.energyLevel} work session. After that, we have ${ie.length-1} more moves to make. You ready to get it? Let's go.`;Ee.tts.speak(ce)},[p]),A=()=>{if(!p)return m.jsx("div",{className:"flex-grow flex items-center justify-center text-slate-500",children:"Loading Grind..."});switch(n){case"lanes":return m.jsx(u1,{assignments:p,onUpdateStatus:C,onEdit:y});case"horizon":return m.jsx(c1,{assignments:p,onEdit:y});case"matrix":return m.jsx(d1,{assignments:p,onEdit:y});case"ledger":return m.jsx(p1,{assignments:p,onEdit:y});default:return null}};return m.jsxs("div",{className:"h-full flex flex-col bg-slate-900 overflow-hidden",children:[m.jsx("header",{className:"p-4 border-b border-slate-700/80 shrink-0",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("h1",{className:"text-2xl font-bold text-white",children:"The Grind"}),m.jsx("div",{className:"flex items-center bg-slate-800 rounded-lg p-1",children:g1.map(({id:I,label:J,icon:te})=>m.jsxs("button",{onClick:()=>e(I),className:`flex items-center gap-2 px-3 py-1.5 text-sm font-semibold rounded-md transition-colors ${n===I?"bg-indigo-500 text-white":"text-slate-300 hover:bg-slate-700"}`,"aria-label":`Switch to ${J} view`,children:[m.jsx(te,{}),J]},I))})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold bg-slate-700 text-slate-300 hover:bg-slate-600 transition-colors",children:[m.jsx(jA,{}),"Line Up My Grind"]}),m.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold bg-indigo-500 text-white hover:bg-indigo-600 transition-colors",children:[m.jsx(JA,{}),"Add Grind Item"]})]})]})}),m.jsx("div",{className:"flex-grow overflow-auto",children:A()}),o&&m.jsx(m1,{assignment:c,onClose:v})]})},v1=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"17 8 12 3 7 8"}),m.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),x1=n=>new Promise((e,o)=>{const l=new FileReader;l.readAsDataURL(n),l.onload=()=>e(l.result.split(",")[1]),l.onerror=c=>o(c)}),T1=()=>{const[n,e]=oe.useState(""),[o,l]=oe.useState([]),[c,h]=oe.useState(!1),[p,y]=oe.useState(""),T=oe.useRef(null),v=oe.useRef(null),[C,w]=oe.useState(!1),A=oe.useCallback(async()=>{try{if(T.current){const ne=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});T.current.srcObject=ne,w(!0)}}catch(ne){console.error("Camera access denied:",ne),y("Camera access denied. Please enable camera permissions in your browser settings.")}},[]),I=oe.useCallback(async()=>{var ne;if(T.current&&v.current&&C){const ie=T.current,pe=v.current;return pe.width=ie.videoWidth,pe.height=ie.videoHeight,(ne=pe.getContext("2d"))==null||ne.drawImage(ie,0,0,ie.videoWidth,ie.videoHeight),pe.toDataURL("image/jpeg").split(",")[1]}return null},[C]),J=oe.useCallback(async()=>{var ne;if(T.current&&v.current){const ie=T.current,pe=v.current;pe.width=ie.videoWidth,pe.height=ie.videoHeight,(ne=pe.getContext("2d"))==null||ne.drawImage(ie,0,0,ie.videoWidth,ie.videoHeight);const ce=pe.toDataURL("image/jpeg"),ae=await(await fetch(ce)).blob(),xe=new File([ae],`capture-${Date.now()}.jpg`,{type:"image/jpeg"}),Pe=ce.split(",")[1],Ne={id:xe.name,file:xe,base64:Pe,previewUrl:ce};l(Je=>[Ne,...Je])}},[]),te=oe.useCallback(async()=>{C||(Ee.tts.speak("Camera isn't active. Let me start it for you."),await A(),await new Promise(ie=>setTimeout(ie,1500))),Ee.tts.speak("Analyzing live view.");const ne=await I();if(!ne){Ee.tts.speak("I couldn't capture an image from the camera.");return}window.dispatchEvent(new CustomEvent("lex.chat.send",{detail:{text:"What do you see?"}})),window.dispatchEvent(new CustomEvent("lex.phase.change",{detail:"THINKING"}));try{const ie=await ng("Describe what you see in this image.",ne,"image/jpeg");Ee.tts.speak(ie)}catch(ie){console.error("Live analysis failed",ie),Ee.tts.speak("Sorry, I had trouble analyzing the view.")}},[C,A,I]);oe.useEffect(()=>{const ne=ie=>{ie.detail.command==="analyze_camera_view"&&te()};return window.addEventListener("cue.contextual.command",ne),()=>{window.removeEventListener("cue.contextual.command",ne)}},[te]);const he=async ne=>{if(ne.target.files){const ie=await Promise.all(Array.from(ne.target.files).map(async pe=>{const ce=await x1(pe);return{id:pe.name,file:pe,base64:ce,previewUrl:URL.createObjectURL(pe)}}));l(pe=>[...ie,...pe])}},be=async()=>{if(o.length===0||c)return;h(!0),y("");let ne=0;for(const ie of o)try{const pe=await ng(n||"Summarize and extract key information from this file.",ie.base64,ie.file.type),ce={id:`note_an_${Date.now()}`,type:"analysis",title:`Analysis: ${ie.file.name}`,text:pe,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),links:{},meta:{source:ie.file.type.startsWith("image")?"analyzer_image":"analyzer_doc",originalFileName:ie.file.name}};await Fe.notes.add(ce),ne++}catch(pe){console.error(`Failed to analyze ${ie.file.name}:`,pe),y(ce=>ce+`
Failed to analyze ${ie.file.name}.`)}h(!1),l([]),e(""),Ee.tts.speak(`Analysis complete. I've created ${ne} new notes in The Lab for you.`),Ee.page({to:"lab"})};return m.jsxs("div",{className:"p-8 h-full flex flex-col",children:[m.jsx("h1",{className:"text-4xl font-extrabold text-white mb-2",children:"The Analyzer"}),m.jsx("p",{className:"text-lg text-text-dark mb-8",children:"Turn images and documents into structured intelligence."}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 flex-grow overflow-hidden",children:[m.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 flex flex-col border border-border-color",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Image Intake (The Eye)"}),m.jsx("video",{ref:T,autoPlay:!0,playsInline:!0,className:"w-full h-48 bg-black rounded-lg object-cover mb-4",onCanPlay:ne=>ne.target.play()}),m.jsx("canvas",{ref:v,className:"hidden"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{onClick:A,className:"flex-1 p-3 bg-slate-700 hover:bg-slate-600 rounded-lg font-semibold transition-colors",children:"Start Camera"}),m.jsx("button",{onClick:J,className:"flex-1 p-3 bg-primary-blue hover:opacity-90 rounded-lg font-semibold transition-colors",children:"Snap Photo"})]})]}),m.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 flex flex-col border border-border-color",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Intake Queue"}),m.jsxs("label",{htmlFor:"file-upload",className:"w-full cursor-pointer bg-slate-700 hover:bg-slate-600 text-white font-semibold rounded-lg p-4 transition-colors flex items-center justify-center gap-3 mb-4",children:[m.jsx(v1,{}),"Upload Documents or Images"]}),m.jsx("input",{id:"file-upload",type:"file",multiple:!0,className:"hidden",onChange:he,accept:"image/*,.pdf,.doc,.docx"}),m.jsxs("div",{className:"flex-grow space-y-2 overflow-y-auto pr-2",children:[o.map(ne=>m.jsxs("div",{className:"flex items-center gap-3 bg-slate-700/50 p-2 rounded-lg",children:[m.jsx("img",{src:ne.previewUrl,alt:"preview",className:"w-10 h-10 object-cover rounded"}),m.jsx("span",{className:"font-mono text-sm truncate flex-grow",children:ne.file.name}),m.jsx("button",{onClick:()=>l(ie=>ie.filter(pe=>pe.id!==ne.id)),className:"text-xs text-red-400",children:"X"})]},ne.id)),o.length===0&&m.jsx("p",{className:"text-center text-slate-500 pt-8",children:"Queue is empty."})]})]})]}),m.jsxs("div",{className:"shrink-0 pt-6",children:[m.jsx("textarea",{value:n,onChange:ne=>e(ne.target.value),placeholder:"Analysis prompt (e.g., 'Summarize this document'). If left blank, I'll provide a general analysis.",className:"w-full h-20 bg-slate-700 rounded-lg p-3 mb-4 border border-border-color focus:ring-2 focus:ring-primary-blue focus:outline-none"}),m.jsx("button",{onClick:be,disabled:c||o.length===0,className:"w-full p-4 bg-accent-fuchsia text-white font-bold rounded-lg hover:opacity-90 transition-opacity disabled:bg-slate-600 disabled:cursor-not-allowed",children:c?"Analyzing...":`Analyze ${o.length} Item(s)`}),p&&m.jsx("p",{className:"text-warning-red text-center mt-2 text-sm",children:p})]})]})},S1=()=>{const n=(e,o)=>{Ee.tts.speak(`Okay, I'll navigate to ${o}. Just say, "Lex, go to ${o}."`),setTimeout(()=>Ee.page({to:e}),3e3)};return m.jsxs("div",{className:"p-8 h-full flex flex-col overflow-y-auto",children:[m.jsx("h1",{className:"text-4xl font-extrabold text-white mb-2",children:"The Playbook"}),m.jsx("p",{className:"text-lg text-slate-400 mb-8",children:"Learn the moves to run the Ops Center."}),m.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 space-y-8 max-w-3xl",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:'The "One Mic" System'}),m.jsx("p",{className:"text-slate-300 mb-4",children:"You can control the entire app using the microphone button at the bottom of the screen. Here are the core commands:"}),m.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-300",children:[m.jsxs("li",{children:[m.jsx("span",{className:"font-semibold text-white",children:"Single Tap:"})," Start listening for a command."]}),m.jsxs("li",{children:[m.jsx("span",{className:"font-semibold text-white",children:"Double Tap:"})," Hard interrupt. Immediately stops me from speaking and starts listening."]}),m.jsxs("li",{children:[m.jsx("span",{className:"font-semibold text-white",children:'"Stop, Lex" or "Pause":'})," While I'm speaking, say this to make me stop."]})]})]}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Navigation Commands"}),m.jsx("p",{className:"text-slate-300 mb-4",children:'To move between tools, just tell me where you want to go. For example: "Go to The Pulse."'}),m.jsx("div",{className:"flex gap-4",children:m.jsx("button",{onClick:()=>n("pulse","The Pulse"),className:"px-4 py-2 rounded-lg font-semibold bg-indigo-500 text-white hover:bg-indigo-600",children:"Try It: Go to The Pulse"})})]}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Taking Notes"}),m.jsx("p",{className:"text-slate-300 mb-4",children:'You can dictate notes directly in The Lab. Just say "Take a note," followed by what you want to write down.'}),m.jsx("div",{className:"flex gap-4",children:m.jsx("button",{onClick:()=>Ee.tts.speak('Try saying: "Lex, take a note: the mitochondria is the powerhouse of the cell."'),className:"px-4 py-2 rounded-lg font-semibold bg-indigo-500 text-white hover:bg-indigo-600",children:"Try It: Take a Note"})})]}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Data & Privacy"}),m.jsx("p",{className:"text-slate-300 mb-4",children:"Your data lives only on your device; it's never sent to a server. This is private, but it means you need to back it up. Go to The Garage to download or email your data."}),m.jsx("button",{onClick:()=>Ee.page({to:"garage"}),className:"px-4 py-2 rounded-lg font-semibold bg-slate-700 text-slate-300 hover:bg-slate-600",children:"Go to The Garage"})]})]})]})},Kg=()=>{const{currentView:n}=Fn(),e=()=>{switch(n){case"pulse":return m.jsx(og,{});case"intel":return m.jsx(pA,{});case"magna_carta":return m.jsx(KA,{});case"grind":return m.jsx(y1,{});case"lab":return m.jsx(EA,{});case"analyzer":return m.jsx(T1,{});case"campus":return m.jsx(_A,{});case"garage":return m.jsx(LA,{});case"playbook":return m.jsx(S1,{});default:return m.jsx(og,{})}};return m.jsx("main",{className:"workspace flex-grow h-full overflow-hidden bg-bg-main",children:e()})},C1=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),m.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),m.jsx("polyline",{points:"7 3 7 8 15 8"})]}),b1=({phase:n,transcript:e})=>{const o="text-center text-sm text-slate-400",l={IDLE:{text:"Tap mic to start",color:"border-slate-600"},LISTENING:{text:e||"Listening...",color:"border-indigo-500 animate-pulse"},SPEAKING:{text:"Speaking...",color:"border-teal-500"},THINKING:{text:"Thinking...",color:"border-amber-500"},PAUSED:{text:"Paused",color:"border-slate-500"}},{text:c,color:h}=l[n];return m.jsx("div",{className:"p-4 border-b border-slate-700",children:m.jsx("div",{className:`border-2 ${h} rounded-lg p-3 transition-all`,children:m.jsx("p",{className:o,children:c})})})},w1=({message:n})=>{const o=n.role==="user"?"bg-indigo-500 self-end":"bg-slate-700 self-start";return n.isThinking?m.jsxs("div",{className:"bg-slate-700 self-start rounded-lg p-3 max-w-sm flex items-center space-x-2",children:[m.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-pulse [animation-delay:-0.3s]"}),m.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-pulse [animation-delay:-0.15s]"}),m.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-pulse"})]}):m.jsx("div",{className:`rounded-lg p-3 max-w-sm break-words ${o}`,children:m.jsx("p",{className:"text-white",children:n.text})})},Jg=()=>{const{chatHistory:n,saveAndClearChat:e,isRightRailOpen:o}=Fn(),{phase:l,transcript:c}=cu(),h=oe.useRef(null);oe.useEffect(()=>{var y;(y=h.current)==null||y.scrollIntoView({behavior:"smooth"})},[n]);const p=["right-rail","w-80","bg-slate-800","flex","flex-col","h-full","border-l","border-slate-700","shrink-0",o?"right-rail-open":""].join(" ");return m.jsxs("aside",{className:p,children:[m.jsx(b1,{phase:l,transcript:c}),m.jsx("div",{className:"flex-grow p-4 overflow-y-auto",children:m.jsxs("div",{className:"flex flex-col space-y-4",children:[n.length>0?n.map((y,T)=>m.jsx(w1,{message:y},T)):m.jsxs("div",{className:"text-center text-slate-500 pt-10",children:[m.jsx("p",{children:"Chat history is empty."}),m.jsx("p",{className:"text-xs mt-2",children:"Conversations are saved to your notes."})]}),m.jsx("div",{ref:h})]})}),m.jsx("div",{className:"p-4 border-t border-slate-700",children:m.jsxs("button",{onClick:e,disabled:n.length===0,className:"w-full flex items-center justify-center gap-2 p-2 rounded-lg text-sm bg-slate-700 hover:bg-slate-600 transition-colors disabled:bg-slate-800 disabled:text-slate-500 disabled:cursor-not-allowed",children:[m.jsx(C1,{}),"Save & Clear Chat"]})})]})},E1=({isActive:n})=>{const e="w-1 h-full bg-indigo-400 rounded-full transition-all duration-300 ease-in-out";return m.jsxs("div",{className:"flex justify-center items-center h-full space-x-1.5",children:[m.jsx("div",{className:`${e}`,style:{animation:n?"wave 1.2s ease-in-out infinite":"none",animationDelay:"0.1s",transform:n?"scaleY(0.5)":"scaleY(0.1)"}}),m.jsx("div",{className:`${e}`,style:{animation:n?"wave 1.2s ease-in-out infinite":"none",animationDelay:"0.2s",transform:n?"scaleY(1)":"scaleY(0.2)"}}),m.jsx("div",{className:`${e}`,style:{animation:n?"wave 1.2s ease-in-out infinite":"none",animationDelay:"0.3s",transform:n?"scaleY(0.75)":"scaleY(0.1)"}}),m.jsx("div",{className:`${e}`,style:{animation:n?"wave 1.2s ease-in-out infinite":"none",animationDelay:"0.4s",transform:n?"scaleY(1)":"scaleY(0.2)"}}),m.jsx("div",{className:`${e}`,style:{animation:n?"wave 1.2s ease-in-out infinite":"none",animationDelay:"0.5s",transform:n?"scaleY(0.5)":"scaleY(0.1)"}}),m.jsx("style",{children:`
        @keyframes wave {
          0%, 100% { transform: scaleY(0.2); }
          50% { transform: scaleY(1); }
        }
      `})]})},sg=[{id:"note",icon:"M12 20h9 M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z",label:"Quick Note"},{id:"intel",icon:"M21 21l-6-6m2-5a7 7 0 1 1-14 0 7 7 0 0 1 14 0z",label:"Quick Intel"},{id:"garage",icon:"M12 6v2m0 10v2m6-8h2m-14 0H4m11.5-5.5L18 4m-9.5 9.5L6 18M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16z",label:"The Garage"},{id:"email",icon:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z M22 6l-10 7L2 6",label:"Email Backup"}],_1=({className:n})=>m.jsx("img",{src:require("../../public/LEX.svg"),alt:"LEX",className:`h-8 w-8 ${n||""}`}),A1=()=>{const{phase:n}=cu(),{setQuickActionModal:e}=Fn(),[o,l]=oe.useState(!1),[c,h]=oe.useState(0),p=()=>{h(w=>w+1),setTimeout(()=>h(0),500),Ee.mic.toggle()},y=w=>{if(w==="garage"){Ee.page({to:"garage"});return}if(w==="email"){Yg();return}e(w)},T={IDLE:"bg-slate-700 hover:bg-slate-600",LISTENING:"lex-console-listening",THINKING:"bg-slate-700",SPEAKING:"bg-teal-600",PAUSED:"bg-slate-600"},v={IDLE:"text-white",LISTENING:"",THINKING:"text-primary-blue animate-pulse",SPEAKING:"text-teal-200",PAUSED:"text-slate-400"}[n],C=`relative rounded-full flex items-center justify-center transition-all duration-300 ease-in-out w-20 h-20 shadow-lg ${T[n]}`;return m.jsxs("div",{className:"relative flex items-center justify-center p-16 -m-16",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[sg.map((w,A)=>{const I=-140+A*(100/(sg.length-1));return m.jsx("button",{onClick:()=>y(w.id),title:w.label,className:`council-btn${o?" council-btn-hovered":" council-btn-unhovered"}`,"data-angle":I,"data-index":A,children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:w.icon})})},w.id)}),m.jsxs("div",{className:"relative flex flex-col items-center",children:[m.jsxs("button",{onClick:p,"aria-label":n==="LISTENING"?"Stop listening":"Start listening",className:C,children:[n==="THINKING"&&m.jsx("div",{className:"lex-console-thinking-ring"}),m.jsx("div",{className:"absolute inset-0 p-6",children:m.jsx(E1,{isActive:n==="LISTENING"})}),n!=="LISTENING"&&m.jsx(_1,{className:v})]}),m.jsx("div",{className:"flex gap-1.5 mt-3 h-1 w-16",children:Array.from({length:4}).map((w,A)=>m.jsx("div",{className:`h-full w-1/4 rounded-full transition-all duration-200 ${c>A?"bg-accent-fuchsia":"bg-slate-600"}`},A))})]})]})},jg=()=>m.jsx("footer",{className:"bottom-bar h-32 bg-gray-900/50 backdrop-blur-sm border-t border-border-color flex items-center justify-center p-4 z-10",children:m.jsx(A1,{})}),M1="The Playbook",ug=`Welcome to your Ops Center. I'm LEX, your personal academic co-pilot. I'm here to help you manage your grind, lock in your plans, and explore your future.

I run completely in your browser. All your datayour notes, plans, and intelis stored securely on your own device. It's all private.

You can interact with me using your voice. Just tap the mic and tell me what you need. You can ask me to navigate between tools, take a note, or even run intel on a topic for you.

Let's take a quick tour of your arsenal so you know your way around.`,Ws=[{view:"pulse",content:"We'll start here, at The Pulse. This is your command center, showing today's grind, upcoming deadlines, and quick actions to get you started."},{view:"magna_carta",content:"This is The Magna Carta. Think of it as your high-level roadmap. Track academic, personal, and career goals here, from short-term tasks to long-term ambitions."},{view:"grind",content:"The Grind is where you manage your day-to-day. Keep track of all your coursework, update your progress, and link tasks to your notes and intel."},{view:"lab",content:"The Lab is your digital notebook. Cook up ideas, capture audio notes from lectures, or save summaries from our conversations."},{view:"analyzer",content:"The Analyzer is a powerful tool. Upload a PDF or snap a picture of a document, and I'll help you summarize it or pull key info."},{view:"intel",content:"The Intel tool helps you explore topics for your projects. Just ask a question, and I'll find relevant information and sources for you."},{view:"campus",content:"Planning for the future? The Campus tool uses Google Search to pull up-to-date information about colleges and universities."},{view:"garage",content:"Finally, The Garage is where you can tune the engine. Calibrate my voice, manage your data with email or file backups, and make the app yours."}],N1="That's the tour of the Ops Center. You're all set. Remember, tap the mic and I'm here to help. Let's get it.",R1=({onEnter:n})=>m.jsxs("div",{className:"flex flex-col items-center justify-center text-center cursor-pointer group",onClick:n,children:[m.jsx("div",{className:"lex-stage",children:m.jsxs("div",{className:"lex-card",children:[m.jsx("div",{className:"lex-aura","aria-hidden":"true"}),m.jsx("div",{className:"lex-glass","aria-hidden":"true"}),m.jsx("div",{className:"lex-svg",dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 260" width="86%" height="86%" preserveAspectRatio="xMidYMid meet" aria-hidden="true"><defs><linearGradient id="lexGradient" x1="0" x2="1" y1="0" y2="1"><stop offset="0" stop-color="var(--primary-blue)"/><stop offset="1" stop-color="var(--accent-fuchsia)"/></linearGradient><filter id="glow" x="-40%" y="-40%" width="180%" height="180%"><feGaussianBlur in="SourceGraphic" stdDeviation="2" result="b1"/><feColorMatrix in="b1" type="matrix" values="0 0 0 0 0 0 0 0 0.9 0 0 0 0 0.95 0 0 0 0 1 0" result="c1"/><feMerge><feMergeNode in="c1"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs><g><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-family="Inter, sans-serif" font-size="160" letter-spacing="8" fill="url(#lexGradient)" filter="url(#glow)" font-weight="900">LX</text></g></svg>'}}),m.jsx("div",{className:"lex-sheen","aria-hidden":"true"})]})}),m.jsx("h1",{className:"text-3xl font-bold text-white mt-8 group-hover:text-primary-blue transition-colors",children:"Tap to Enter the Ops Center"})]}),D1=()=>{const[n,e]=oe.useState("entry"),[o,l]=oe.useState(""),[c,h]=oe.useState("unknown"),[p,y]=oe.useState(-1),[T,v]=oe.useState(!1),{completeOnboarding:C,setHighlightedNavItem:w}=Fn(),A=oe.useCallback(ne=>{v(!0),setTimeout(()=>{e(ne),v(!1)},500)},[]),I=ne=>{ne.preventDefault(),o.trim()&&A("permissions")},J=oe.useCallback(async()=>{Ee.tts.speak(`Thanks, ${o}. To give you the full voice-first experience, I'll need microphone access.`);try{await navigator.mediaDevices.getUserMedia({audio:!0}),h("granted"),Ee.tts.speak("Aight, bet. Mic is live. Now for the playbook.")}catch(ne){console.error("Microphone permission denied:",ne),h("denied"),Ee.tts.speak("That's cool. Voice features will be disabled. Let's continue with the playbook.")}},[o]),te=oe.useCallback(()=>{A("skipped"),Ee.tts.cancel(),Ee.tts.speak("Aight, bet. No time to waste. We can finish the full setup in The Garage later. For now, the Ops Center is yours. Let's get it.")},[A]);oe.useEffect(()=>{const ne=()=>{n==="permissions"&&c!=="unknown"?A("guide"):n==="guide"?(A("tour"),y(0)):n==="tour"&&p<Ws.length-1?y(ie=>ie+1):n==="tour"&&p===Ws.length-1?e("finishing"):n==="finishing"?(w(null),C(o,!1)):n==="skipped"&&(w(null),C(o||"Operator",!0))};return window.addEventListener("lex.tts.end",ne),()=>window.removeEventListener("lex.tts.end",ne)},[n,p,c,o,C,w,A]),oe.useEffect(()=>{if(n==="tour"&&p>=0&&p<Ws.length){const ne=Ws[p];w(ne.view),Ee.page({to:ne.view}),Ee.tts.speak(ne.content)}},[n,p,w]),oe.useEffect(()=>{if(n==="guide"){v(!1);const ne=`Alright, ${o}. ${ug}`;Ee.tts.speak(ne)}else n==="finishing"&&(w(null),Ee.page({to:"pulse"}),Ee.tts.speak(N1))},[n,w,o]);const he=()=>{switch(n){case"entry":return m.jsx(R1,{onEnter:()=>A("name")});case"name":return m.jsxs("form",{onSubmit:I,className:"max-w-2xl text-center",children:[m.jsx("h1",{className:"text-5xl font-extrabold text-white mb-4",children:"First things first..."}),m.jsx("p",{className:"text-xl text-slate-300 mb-8",children:"What should I call you?"}),m.jsx("input",{type:"text",value:o,onChange:ne=>l(ne.target.value),className:"w-full bg-slate-700 border border-border-color rounded-lg p-4 text-white placeholder-slate-400 text-2xl text-center mb-8 focus:outline-none focus:ring-2 focus:ring-primary-blue",placeholder:"Your Name",autoFocus:!0}),m.jsx("button",{type:"submit",className:"bg-primary-blue text-white rounded-lg px-8 py-4 font-semibold text-lg hover:opacity-90 transition-opacity disabled:opacity-50",disabled:!o.trim(),children:"Continue"})]});case"permissions":return m.jsxs("div",{className:"max-w-2xl text-center",children:[m.jsx("h1",{className:"text-5xl font-extrabold text-white mb-4",children:"Mic Check, 1, 2..."}),m.jsx("p",{className:"text-xl text-slate-300 mb-12",children:"To use voice commands and dictation, I'll need access to your microphone."}),m.jsx("button",{onClick:J,className:"bg-primary-blue text-white rounded-lg px-8 py-4 font-semibold text-lg hover:opacity-90 transition-opacity disabled:bg-slate-600 disabled:cursor-not-allowed",disabled:c!=="unknown",children:c==="unknown"?"Allow Microphone":"Locking In..."}),c==="denied"&&m.jsx("p",{className:"text-warning-red mt-4 text-sm",children:"Mic access denied. You'll have to type. We can still work."})]});case"guide":return m.jsxs("div",{className:"max-w-3xl text-left bg-slate-800 p-8 rounded-2xl shadow-2xl",children:[m.jsx("h1",{className:"text-4xl font-extrabold text-white mb-6",children:M1}),m.jsx("div",{className:"text-lg text-slate-300 space-y-4 whitespace-pre-line max-h-[60vh] overflow-y-auto pr-4",children:`Alright, ${o}.

${ug}`}),m.jsx("p",{className:"text-teal-400 mt-8 animate-pulse",children:"LEX is reading The Playbook..."})]});default:return null}},be=n!=="tour"&&n!=="finishing"&&n!=="skipped";return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:`fixed inset-0 z-50 flex justify-center items-center transition-opacity duration-500
                ${be&&!T?"bg-bg-main/80 backdrop-blur-md opacity-100":"opacity-0 pointer-events-none"}
                `,children:m.jsx("div",{className:`p-8 transition-all duration-500 ${T?"opacity-0 scale-95":"opacity-100 scale-100"}`,children:he()})}),n!=="entry"&&n!=="finishing"&&n!=="skipped"&&m.jsx("button",{onClick:te,className:"fixed bottom-8 right-8 z-[60] bg-slate-700 hover:bg-slate-600 text-white font-semibold rounded-lg px-6 py-3 transition-all duration-300",children:"Skip to the Ops Center"}),m.jsx("div",{className:be?"invisible":"",children:m.jsxs("div",{className:"h-screen w-screen flex flex-col font-sans antialiased",children:[m.jsxs("div",{className:"flex flex-grow overflow-hidden",children:[m.jsx(zg,{}),m.jsx(Kg,{}),m.jsx(Jg,{})]}),m.jsx(jg,{})]})}),m.jsx("style",{children:`
                .lex-stage{--card-w:min(92vw,760px);--card-r:28px;--bg:#0a0f1a;--shadow:0 0 0 1px rgba(0,224,255,.12), 0 18px 60px rgba(0,0,0,.65);display:grid;place-items:center;perspective:1200px;}
                .lex-card{width:var(--card-w);aspect-ratio:16/9;position:relative;border-radius:var(--card-r);overflow:hidden;transform-style:preserve-3d;box-shadow:var(--shadow);background:radial-gradient(120% 140% at 50% 50%, #0b1220 0%, #060b14 65%, #02050a 100%);}
                .lex-aura{position:absolute;inset:-25%;background:conic-gradient(from 0deg, transparent 0 40%, rgba(0,224,255,.16) 50%, transparent 60% 100%);filter:blur(18px);animation:spin 6s linear infinite;z-index:0}
                @keyframes spin{to{transform:rotate(360deg)}}
                .lex-glass{position:absolute;inset:16px;border-radius:16px;background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(0,0,0,.08));z-index:1}
                .lex-svg{position:absolute;inset:0;display:grid;place-items:center;z-index:2}
                .lex-sheen{position:absolute;inset:-10%;background:linear-gradient(120deg, rgba(255,255,255,0) 30%, rgba(255,255,255,.08) 45%, rgba(255,255,255,0) 60%);transform:translateX(-40%) rotate(8deg);animation:sweep 2800ms ease-in-out 1200ms infinite;pointer-events:none;z-index:3;mix-blend-mode:screen}
                @keyframes sweep{0%{transform:translateX(-60%) rotate(8deg);opacity:0}15%{opacity:.35}35%{transform:translateX(30%) rotate(8deg)}45%{opacity:0}100%{transform:translateX(30%) rotate(8deg);opacity:0}}
            `})]})},k1=({onClose:n})=>{const[e,o]=oe.useState(""),[l,c]=oe.useState(""),h=oe.useRef(null);oe.useEffect(()=>{var T;(T=h.current)==null||T.focus()},[]);const p=async()=>{if(!e.trim()&&!l.trim()){n();return}const T={id:`note_${Date.now()}`,type:"text",title:e.trim()||`Quick Note ${new Date().toLocaleDateString()}`,text:l.trim(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),links:{},archived:!1};await Fe.notes.add(T),Ee.tts.speak("Note saved to The Lab."),n()},y=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),p()),T.key==="Escape"&&n()};return m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex justify-center items-start pt-32",onClick:p,children:m.jsxs("div",{className:"bg-slate-800 rounded-xl shadow-2xl w-full max-w-xl border border-border-color p-6",onClick:T=>T.stopPropagation(),onKeyDown:y,children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Quick Note to The Lab"}),m.jsx("input",{ref:h,type:"text",value:e,onChange:T=>o(T.target.value),onFocus:T=>Ee.context.setDictationTarget(T.target),onBlur:()=>Ee.context.setDictationTarget(null),placeholder:"Title (optional)",className:"w-full bg-slate-700 rounded-md p-2 mb-3 border border-slate-600 text-white focus:outline-none focus:ring-2 focus:ring-primary-blue"}),m.jsx("textarea",{value:l,onChange:T=>c(T.target.value),onFocus:T=>Ee.context.setDictationTarget(T.target),onBlur:()=>Ee.context.setDictationTarget(null),placeholder:"Jot down a quick thought...",className:"w-full h-24 bg-slate-700 rounded-md p-2 border border-slate-600 text-white focus:outline-none focus:ring-2 focus:ring-primary-blue resize-none"}),m.jsx("div",{className:"text-right text-xs text-slate-500 mt-2",children:"Press Enter to save, Esc to close."})]})})},I1=({onClose:n})=>{const[e,o]=oe.useState(""),l=oe.useRef(null);oe.useEffect(()=>{var p;(p=l.current)==null||p.focus()},[]);const c=async()=>{if(!e.trim()){n();return}Ee.tts.speak(`Okay, I'm running intel on "${e}". Taking you to the Intel hub.`),n(),Ee.page({to:"intel"});try{const p=await Df(e),y={id:`res_${Date.now()}`,query:e,createdAt:new Date().toISOString(),result:p,type:"intel",status:"complete",links:{}};await Fe.research.add(y)}catch(p){console.error(p),Ee.tts.speak("Sorry, I hit a snag running intel. Try again from the main hub.")}},h=p=>{p.key==="Enter"&&(p.preventDefault(),c()),p.key==="Escape"&&n()};return m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex justify-center items-start pt-32",onClick:n,children:m.jsxs("div",{className:"bg-slate-800 rounded-xl shadow-2xl w-full max-w-xl border border-border-color p-6",onClick:p=>p.stopPropagation(),onKeyDown:h,children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Quick Intel Run"}),m.jsx("input",{ref:l,type:"text",value:e,onChange:p=>o(p.target.value),onFocus:p=>Ee.context.setDictationTarget(p.target),onBlur:()=>Ee.context.setDictationTarget(null),placeholder:"What topic do you need intel on?",className:"w-full bg-slate-700 rounded-md p-3 border border-slate-600 text-white focus:outline-none focus:ring-2 focus:ring-primary-blue"}),m.jsx("div",{className:"text-right text-xs text-slate-500 mt-2",children:"Press Enter to run intel, Esc to close."})]})})},U1=()=>{const{quickActionModal:n,setQuickActionModal:e}=Fn();if(!n)return null;const o=()=>e(null);switch(n){case"note":return m.jsx(k1,{onClose:o});case"intel":return m.jsx(I1,{onClose:o});default:return null}},L1=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),m.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),m.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),P1=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),V1=({onMenuClick:n,onChatClick:e})=>m.jsxs("header",{className:"mobile-header",children:[m.jsx("button",{onClick:n,className:"p-2 text-text-light hover:text-white","aria-label":"Open menu",children:m.jsx(L1,{})}),m.jsx("div",{className:"text-lg font-bold text-white",children:"LX"}),m.jsx("button",{onClick:e,className:"p-2 text-text-light hover:text-white","aria-label":"Open chat",children:m.jsx(P1,{})})]});class Uf{constructor(e,o,l,c,h,p,y){this.x=e,this.y=o,this.size=l,this.vx=c,this.vy=h,this.color=p,this.life=y,this.initialLife=y}isDead(){return this.life<=0}}class q1 extends Uf{update(){this.life--,this.vy*=.99,this.vx+=(Math.random()-.5)*.2,this.x+=this.vx,this.y+=this.vy}draw(e){e.globalAlpha=this.life/this.initialLife,e.fillStyle=this.color,e.beginPath(),e.arc(this.x,this.y,this.size,0,Math.PI*2),e.fill(),e.globalAlpha=1}}const G1=n=>{let e=[];return{update:l=>{if(Math.random()>.5){const c=Math.random()*n.width,h=n.height,p=Math.random()*3+1,y=Math.random()-.5,T=-(Math.random()*2+1),v=`hsl(${Math.random()*30+10}, 100%, 50%)`,C=Math.random()*60+120;e.push(new q1(c,h,p,y,T,v,C))}e=e.filter(c=>!c.isDead()),e.forEach(c=>{c.update(),c.draw(l)})}}};class B1 extends Uf{constructor(e,o,l,c,h,p,y){super(e,o,l,c,h,p,y),this.initialX=y}update(){this.x+=this.vx,this.x<0&&(this.x=this.initialX)}draw(e){e.fillStyle=this.color,e.beginPath(),e.arc(this.x,this.y,this.size,0,Math.PI*2),e.fill()}}const O1=n=>{let e=[];for(let l=0;l<200;l++){const c=Math.random()*n.width,h=Math.random()*n.height,p=Math.random()*1.5,y=-(Math.random()*.5+.1),T=`rgba(255, 255, 255, ${Math.random()*.5+.3})`;e.push(new B1(c,h,p,y,0,T,n.width))}return{update:l=>{e.forEach(c=>{c.update(),c.draw(l)})}}},H1=n=>{const o=Math.floor(n.width/16),l=Array(o).fill(1),c="ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789@#$%^&*()*&^%+-/~{[|`]}";return{update:p=>{p.fillStyle="rgba(10, 10, 15, 0.1)",p.fillRect(0,0,n.width,n.height),p.fillStyle="#0f0",p.font="16px monospace";for(let y=0;y<l.length;y++){const T=c.charAt(Math.floor(Math.random()*c.length));p.fillText(T,y*16,l[y]*16),l[y]*16>n.height&&Math.random()>.975&&(l[y]=0),l[y]++}}}};class z1 extends Uf{constructor(e,o,l,c,h,p,y,T){super(e,o,l,c,h,p,y),this.initialX=T,this.initialY=y}update(){this.y+=this.vy,this.x+=this.vx,this.y>this.initialY&&(this.y=0,this.x=Math.random()*this.initialX)}draw(e){e.globalAlpha=.8,e.fillStyle=this.color,e.beginPath(),e.arc(this.x,this.y,this.size,0,Math.PI*2),e.fill(),e.globalAlpha=1}}const F1=n=>{let e=[];for(let l=0;l<150;l++){const c=Math.random()*n.width,h=Math.random()*n.height,p=Math.random()*2+1,y=Math.random()*1+.5,T=(Math.random()-.5)*.5;e.push(new z1(c,h,p,T,y,"white",n.height,n.width))}return{update:l=>{e.forEach(c=>{c.update(),c.draw(l)})}}},Y1=()=>{const n=oe.useRef(null),{userProfile:e}=Fn(),o=oe.useRef(null),l=oe.useRef([]);return oe.useEffect(()=>{const c=n.current;if(!c)return;const h=c.getContext("2d");if(!h)return;const p=()=>{c.width=window.innerWidth,c.height=window.innerHeight};p(),window.addEventListener("resize",p),l.current=[];const y=(e==null?void 0:e.emojiAmbiance)||[];y.includes("")&&l.current.push(G1(c)),y.includes("")&&l.current.push(O1(c)),y.includes("")&&l.current.push(H1(c)),y.includes("")&&l.current.push(F1(c));const T=()=>{h.clearRect(0,0,c.width,c.height),l.current.forEach(v=>v.update(h)),o.current=requestAnimationFrame(T)};return T(),()=>{window.removeEventListener("resize",p),o.current&&cancelAnimationFrame(o.current)}},[e==null?void 0:e.emojiAmbiance]),!(e!=null&&e.emojiAmbiance)||e.emojiAmbiance.length===0?null:m.jsx("canvas",{ref:n,className:"fixed top-0 left-0 -z-10 bg-transparent pointer-events-none"})},K1=({onDismiss:n,onBackup:e})=>m.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-yellow-800/90 backdrop-blur-sm p-3 text-center text-sm text-white z-50 flex items-center justify-center gap-4",children:[m.jsx("span",{children:"Heads up! It's been a while since your last data backup. It's a good idea to save your work regularly."}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:e,className:"px-3 py-1 bg-primary-blue rounded font-semibold",children:"Go to Garage"}),m.jsx("button",{onClick:n,className:"px-3 py-1 bg-slate-600 rounded",children:"Remind me Later"})]})]});function J1(){const{isOnboarding:n,currentView:e,flow:o,userProfile:l,isSidebarOpen:c,isRightRailOpen:h,closeSidebars:p,toggleSidebar:y,toggleRightRail:T}=Fn(),[v,C]=oe.useState(!1),[w,A]=oe.useState(!1),I=oe.useRef(e),J=oe.useRef(null);if(oe.useLayoutEffect(()=>{(l==null?void 0:l.borderRadius)!==void 0?document.documentElement.style.setProperty("--border-radius",`${l.borderRadius}px`):document.documentElement.style.setProperty("--border-radius","0.75rem")},[l==null?void 0:l.borderRadius]),oe.useEffect(()=>{if(n)return;const ie=localStorage.getItem("lexLastBackupTimestamp");if(!ie)localStorage.setItem("lexLastBackupTimestamp",new Date().toISOString());else{const pe=new Date(ie),ce=new Date,ae=336*60*60*1e3;ce.getTime()-pe.getTime()>ae&&A(!0)}},[n]),oe.useEffect(()=>{n||Ee.context.setView(e)},[e,n]),oe.useEffect(()=>{if(!n){if(!v){C(!0);return}if(I.current!==e){const ie=setTimeout(()=>{if(window.speechSynthesis.speaking)return;const pe=Fg(o,e);Ee.tts.speak(pe)},200);return I.current=e,()=>clearTimeout(ie)}}},[e,n,o,v]),oe.useEffect(()=>{const ie=ce=>{ce.touches.length===1&&(J.current=ce.touches[0].clientX)},pe=ce=>{if(J.current!==null&&ce.changedTouches.length===1){const xe=ce.changedTouches[0].clientX-J.current,Pe=J.current,Ne=window.innerWidth,Je=40;Pe<Je&&xe>50&&!c?y():Pe>Ne-Je&&xe<-50&&!h&&T()}J.current=null};return window.addEventListener("touchstart",ie),window.addEventListener("touchend",pe),()=>{window.removeEventListener("touchstart",ie),window.removeEventListener("touchend",pe)}},[c,h,y,T]),n)return m.jsx(D1,{});const te=(l==null?void 0:l.layout)==="main_sidebar_chat"?"layout-main-sidebar-chat":"layout-sidebar-main-chat",he=()=>{localStorage.setItem("lexLastBackupTimestamp",new Date().toISOString()),A(!1)},be=()=>{Ee.page({to:"garage"}),he()},ne=c||h;return m.jsxs("div",{className:"h-screen w-screen flex flex-col font-sans antialiased overflow-hidden",children:[m.jsx(Y1,{}),w&&m.jsx(K1,{onDismiss:he,onBackup:be}),m.jsx(V1,{onMenuClick:y,onChatClick:T}),m.jsxs("div",{className:`main-content-area flex flex-grow overflow-hidden ${te}`,children:[m.jsx(zg,{}),m.jsx(Kg,{}),m.jsx(Jg,{})]}),m.jsx(jg,{}),m.jsx(U1,{}),ne&&m.jsx("div",{className:"backdrop",onClick:p}),m.jsx("div",{className:"fixed bottom-2 right-4 text-xs text-slate-700 pointer-events-none",children:"This is a leeway Industries product. By rapidwebdevelop.com."}),m.jsx("style",{children:`
        .layout-sidebar-main-chat { display: flex; }
        .layout-main-sidebar-chat { display: flex; }
        .layout-main-sidebar-chat > .sidebar { order: 2; }
        .layout-main-sidebar-chat > .workspace { order: 1; }
        .layout-main-sidebar-chat > .right-rail { order: 3; }
      `})]})}const j1=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";j1?Nv():"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("sw.js").then(n=>{console.log("SW registered: ",n)}).catch(n=>{console.log("SW registration failed: ",n)})});const Qg=document.getElementById("root");if(!Qg)throw new Error("Could not find root element to mount to");const Q1=Cv.createRoot(Qg);Q1.render(m.jsx(cr.StrictMode,{children:m.jsx(G_,{children:m.jsx(B_,{children:m.jsx(J1,{})})})}));
